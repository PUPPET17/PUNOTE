<mxfile host="Electron" modified="2024-07-13T13:04:51.677Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/24.2.5 Chrome/120.0.6099.109 Electron/28.1.0 Safari/537.36" etag="aPFKtYD3mEoMil1GKnjG" version="24.2.5" type="device" pages="37">
  <diagram id="s8jhxSsF_LPJARqrJw8X" name="第三章">
    <mxGraphModel dx="2799" dy="1448" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="583" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-0" />
        <mxCell id="yB6t98c5MVsuzrYYFxOn-1" parent="yB6t98c5MVsuzrYYFxOn-0" />
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-37" value="&lt;b&gt;ddd模型&lt;/b&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#0e8088;width=86;height=51;fillColor=#b0e3e6;labelBackgroundColor=none;labelBorderColor=none;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-755" y="-685" width="534" height="1405" as="geometry" />
        </mxCell>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-17" style="edgeStyle=none;rounded=0;sketch=0;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="yB6t98c5MVsuzrYYFxOn-1" source="yB6t98c5MVsuzrYYFxOn-2" target="yB6t98c5MVsuzrYYFxOn-15" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-342" y="-569" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-jN2uBsbUy62Uj9B6j83-1" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;" parent="yB6t98c5MVsuzrYYFxOn-1" source="yB6t98c5MVsuzrYYFxOn-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-808" y="-569" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-2" value="lotter-rpc" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-695.5" y="-594" width="200" height="50" as="geometry" />
        </mxCell>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-4" style="edgeStyle=none;curved=1;rounded=0;sketch=0;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=0;exitDx=0;exitDy=0;endFill=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="yB6t98c5MVsuzrYYFxOn-1" source="yB6t98c5MVsuzrYYFxOn-3" target="yB6t98c5MVsuzrYYFxOn-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-10" style="edgeStyle=none;curved=1;rounded=0;sketch=0;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="yB6t98c5MVsuzrYYFxOn-1" source="yB6t98c5MVsuzrYYFxOn-3" target="yB6t98c5MVsuzrYYFxOn-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-11" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=261;entryDy=45;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="yB6t98c5MVsuzrYYFxOn-1" target="BZH8UmLEWKEfzzfA_Ko6-10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-708" y="-81" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-31" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=1;exitDx=10;exitDy=0;exitPerimeter=0;entryX=0.491;entryY=0.158;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="yB6t98c5MVsuzrYYFxOn-1" source="yB6t98c5MVsuzrYYFxOn-3" target="BZH8UmLEWKEfzzfA_Ko6-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6dkisVVTJJjcJ44vJO_X-5" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="yB6t98c5MVsuzrYYFxOn-1" source="yB6t98c5MVsuzrYYFxOn-3" target="6dkisVVTJJjcJ44vJO_X-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-3" value="lotter-interfaces" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-704" y="-101.63" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-5" value="&lt;span style=&quot;color: rgb(51 , 51 , 51) ; background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font style=&quot;font-size: 12px&quot;&gt; RPC层:对外提供接口描述信息&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-708" y="-632" width="238" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-6" value="&lt;font color=&quot;#333333&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(255 , 255 , 255)&quot;&gt;用户接口层(类似controller)&lt;br&gt;统一配置放这里&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-587" y="-141.63" width="171" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-12" style="edgeStyle=none;curved=1;rounded=0;sketch=0;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="yB6t98c5MVsuzrYYFxOn-1" source="yB6t98c5MVsuzrYYFxOn-7" target="yB6t98c5MVsuzrYYFxOn-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-7" value="lotter-application" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-704" y="23.370000000000005" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-14" style="edgeStyle=none;curved=1;rounded=0;sketch=0;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.469;entryY=-0.045;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#FF0000;" parent="yB6t98c5MVsuzrYYFxOn-1" source="yB6t98c5MVsuzrYYFxOn-11" target="yB6t98c5MVsuzrYYFxOn-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-11" value="lotter-domain" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-704" y="153.37" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-16" style="edgeStyle=none;rounded=0;sketch=0;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="yB6t98c5MVsuzrYYFxOn-1" source="yB6t98c5MVsuzrYYFxOn-11" target="yB6t98c5MVsuzrYYFxOn-15" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-347" y="178.37" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-22" style="edgeStyle=none;rounded=0;sketch=0;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.699;exitY=-0.02;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitPerimeter=0;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="yB6t98c5MVsuzrYYFxOn-1" source="yB6t98c5MVsuzrYYFxOn-13" target="yB6t98c5MVsuzrYYFxOn-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-51" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=364;entryDy=45;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=14;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="yB6t98c5MVsuzrYYFxOn-1" source="yB6t98c5MVsuzrYYFxOn-13" target="BZH8UmLEWKEfzzfA_Ko6-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-13" value="lotter-infrastructure" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-706.75" y="435" width="222.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-39" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=14;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.995;exitY=0.493;exitDx=0;exitDy=0;exitPerimeter=0;" parent="yB6t98c5MVsuzrYYFxOn-1" source="yB6t98c5MVsuzrYYFxOn-15" target="BZH8UmLEWKEfzzfA_Ko6-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-15" value="lotter-common" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-447" y="28.370000000000005" width="200" height="50" as="geometry" />
        </mxCell>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-18" value="&lt;font color=&quot;#333333&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(255 , 255 , 255)&quot;&gt;通用层&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-447" y="-4.6299999999999955" width="83" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-19" value="&lt;font style=&quot;font-size: 12px&quot;&gt;&lt;font color=&quot;#333333&quot; style=&quot;font-size: 12px&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;基础服务层：&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(51 , 51 , 51) ; font-family: &amp;#34;open sans&amp;#34; , &amp;#34;clear sans&amp;#34; , &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; background-color: rgb(255 , 255 , 255)&quot;&gt;为各层提供资源服务（如数据库、缓存等）&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-704" y="511" width="237" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-20" value="&lt;font color=&quot;#333333&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(255 , 255 , 255)&quot;&gt;应用层：服务的组合、编排、转发&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-598" y="-28.629999999999995" width="198" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-21" value="&lt;font color=&quot;#333333&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(255 , 255 , 255)&quot;&gt;领域服务：运用面向对象&lt;br&gt;拆分出最单一的服务&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-742" y="109.37" width="245" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yB6t98c5MVsuzrYYFxOn-23" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.x;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF0000;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-624" y="291" width="41" height="35" as="geometry" />
        </mxCell>
        <mxCell id="-jN2uBsbUy62Uj9B6j83-0" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.rpc&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1115" y="-618" width="305" height="76" as="geometry" />
        </mxCell>
        <mxCell id="-jN2uBsbUy62Uj9B6j83-13" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=west;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1154" y="-732" width="30" height="328" as="geometry" />
        </mxCell>
        <mxCell id="-jN2uBsbUy62Uj9B6j83-14" value="&lt;font style=&quot;font-size: 18px&quot;&gt;活动展台——RPC测试接口定义&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1454" y="-460" width="283" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9uW3Br6mUcBRshbJl3rO-5" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=40.5;exitPerimeter=0;entryX=0.996;entryY=0.038;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="yB6t98c5MVsuzrYYFxOn-1" source="9uW3Br6mUcBRshbJl3rO-0" target="9uW3Br6mUcBRshbJl3rO-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9uW3Br6mUcBRshbJl3rO-0" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;req&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1282" y="-776" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="9uW3Br6mUcBRshbJl3rO-1" value="ActivityReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#3399FF;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1687" y="-765" width="212" height="52" as="geometry" />
        </mxCell>
        <mxCell id="9uW3Br6mUcBRshbJl3rO-2" value="- activityId:Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;" parent="9uW3Br6mUcBRshbJl3rO-1" vertex="1">
          <mxGeometry y="26" width="212" height="26" as="geometry" />
        </mxCell>
        <mxCell id="9uW3Br6mUcBRshbJl3rO-6" value="IActivityBooth" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#FFD966;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1450" y="-430" width="294" height="52" as="geometry" />
        </mxCell>
        <mxCell id="9uW3Br6mUcBRshbJl3rO-7" value=" queryActivityById(ActivityReq req):ActivityRes&#xa;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;" parent="9uW3Br6mUcBRshbJl3rO-6" vertex="1">
          <mxGeometry y="26" width="294" height="26" as="geometry" />
        </mxCell>
        <mxCell id="9uW3Br6mUcBRshbJl3rO-8" value="ActivityRes" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#3399FF;swimlaneLine=1;rounded=0;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1685" y="-667" width="212" height="78" as="geometry" />
        </mxCell>
        <mxCell id="9uW3Br6mUcBRshbJl3rO-9" value="- result:Result" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;" parent="9uW3Br6mUcBRshbJl3rO-8" vertex="1">
          <mxGeometry y="26" width="212" height="26" as="geometry" />
        </mxCell>
        <mxCell id="9uW3Br6mUcBRshbJl3rO-19" value="- activityVo:ActivityVo" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;" parent="9uW3Br6mUcBRshbJl3rO-8" vertex="1">
          <mxGeometry y="52" width="212" height="26" as="geometry" />
        </mxCell>
        <mxCell id="9uW3Br6mUcBRshbJl3rO-16" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=18;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=0;exitDy=40.5;exitPerimeter=0;" parent="yB6t98c5MVsuzrYYFxOn-1" source="9uW3Br6mUcBRshbJl3rO-12" target="9uW3Br6mUcBRshbJl3rO-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9uW3Br6mUcBRshbJl3rO-12" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;res&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1288" y="-669" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="9uW3Br6mUcBRshbJl3rO-17" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=40.5;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=18;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="yB6t98c5MVsuzrYYFxOn-1" source="9uW3Br6mUcBRshbJl3rO-13" target="BZH8UmLEWKEfzzfA_Ko6-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1369.2849999999999" y="-532.654" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9uW3Br6mUcBRshbJl3rO-13" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;vo&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1288" y="-520" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-0" value="ActivityVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#3399FF;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1682" y="-568" width="207" height="260" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-1" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="BZH8UmLEWKEfzzfA_Ko6-0" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-2" value="- activityName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="BZH8UmLEWKEfzzfA_Ko6-0" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-3" value="- activityDesc: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="BZH8UmLEWKEfzzfA_Ko6-0" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-4" value="- beginDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="BZH8UmLEWKEfzzfA_Ko6-0" vertex="1">
          <mxGeometry y="104" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-5" value="- endDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="BZH8UmLEWKEfzzfA_Ko6-0" vertex="1">
          <mxGeometry y="130" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-6" value="- state: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="BZH8UmLEWKEfzzfA_Ko6-0" vertex="1">
          <mxGeometry y="156" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-7" value="- takeCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="BZH8UmLEWKEfzzfA_Ko6-0" vertex="1">
          <mxGeometry y="182" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-8" value="- stokeCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="BZH8UmLEWKEfzzfA_Ko6-0" vertex="1">
          <mxGeometry y="208" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-9" value="- creator: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="BZH8UmLEWKEfzzfA_Ko6-0" vertex="1">
          <mxGeometry y="234" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-10" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1085" y="-125.63" width="261" height="76" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-28" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.003;entryY=0.69;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=0;exitDy=40.5;exitPerimeter=0;" parent="yB6t98c5MVsuzrYYFxOn-1" source="BZH8UmLEWKEfzzfA_Ko6-12" target="BZH8UmLEWKEfzzfA_Ko6-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-12" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;interfaces&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1278" y="-223" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-15" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=west;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1142" y="-205.63" width="30" height="259" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-16" value="LotteryApplication" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#3399FF;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1438" y="23.370000000000005" width="294" height="52" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-17" value="main(String[] agrs): void;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;" parent="BZH8UmLEWKEfzzfA_Ko6-16" vertex="1">
          <mxGeometry y="26" width="294" height="26" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-29" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.495;entryY=1.107;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;dashed=1;" parent="yB6t98c5MVsuzrYYFxOn-1" source="BZH8UmLEWKEfzzfA_Ko6-18" target="9uW3Br6mUcBRshbJl3rO-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-18" value="ActivityBooth" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#3399FF;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1665" y="-226" width="292" height="78" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-19" value="- activityDao: ActivityDao" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="BZH8UmLEWKEfzzfA_Ko6-18" vertex="1">
          <mxGeometry y="26" width="292" height="26" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-27" value=" queryActivityById(ActivityReq req):ActivityRes&#xa;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="BZH8UmLEWKEfzzfA_Ko6-18" vertex="1">
          <mxGeometry y="52" width="292" height="26" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-30" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;resource&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1097" y="121" width="261" height="76" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-36" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=14;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="yB6t98c5MVsuzrYYFxOn-1" source="BZH8UmLEWKEfzzfA_Ko6-32" target="BZH8UmLEWKEfzzfA_Ko6-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-32" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;mappers&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1296" y="89" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-33" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=west;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1149" y="109.37" width="30" height="144.63" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-34" value="&lt;font size=&quot;1&quot;&gt;&lt;b style=&quot;font-size: 20px&quot;&gt;application.yml&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#000000;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1317" y="222.37" width="160" height="49" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-35" value="&lt;span style=&quot;text-align: left&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;ActivityMapper.xml&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#000000;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1634" y="92.5" width="155.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-38" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.comon&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-152" y="8" width="307" height="76" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-41" value="Result" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#3399FF;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="216" y="-89" width="212" height="78" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-42" value="- code:String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;" parent="BZH8UmLEWKEfzzfA_Ko6-41" vertex="1">
          <mxGeometry y="26" width="212" height="26" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-43" value="- info:String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;" parent="BZH8UmLEWKEfzzfA_Ko6-41" vertex="1">
          <mxGeometry y="52" width="212" height="26" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-44" value="Constants" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#3399FF;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="218" y="158" width="212" height="52" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-45" value="- ResponseCode:Enum" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;" parent="BZH8UmLEWKEfzzfA_Ko6-44" vertex="1">
          <mxGeometry y="26" width="212" height="26" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-47" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="178" y="-56" width="29" height="243" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-48" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.&lt;/font&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;infrastructure&lt;/span&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1174" y="414" width="364" height="76" as="geometry" />
        </mxCell>
        <mxCell id="N4O3nX7DTlS1VMoqucY0-13" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=27.25;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=14;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="yB6t98c5MVsuzrYYFxOn-1" source="BZH8UmLEWKEfzzfA_Ko6-49" target="N4O3nX7DTlS1VMoqucY0-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-49" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;dao&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1370" y="331" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="N4O3nX7DTlS1VMoqucY0-17" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=14;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="yB6t98c5MVsuzrYYFxOn-1" source="BZH8UmLEWKEfzzfA_Ko6-50" target="N4O3nX7DTlS1VMoqucY0-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-50" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;po&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1362" y="517" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="BZH8UmLEWKEfzzfA_Ko6-52" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=west;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1230.5" y="369" width="30" height="192" as="geometry" />
        </mxCell>
        <mxCell id="N4O3nX7DTlS1VMoqucY0-0" value="Activity" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#3399FF;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1669" y="436" width="207" height="338" as="geometry" />
        </mxCell>
        <mxCell id="N4O3nX7DTlS1VMoqucY0-1" value="- id: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4O3nX7DTlS1VMoqucY0-0" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4O3nX7DTlS1VMoqucY0-14" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4O3nX7DTlS1VMoqucY0-0" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4O3nX7DTlS1VMoqucY0-2" value="- activityName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4O3nX7DTlS1VMoqucY0-0" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4O3nX7DTlS1VMoqucY0-3" value="- activityDesc: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4O3nX7DTlS1VMoqucY0-0" vertex="1">
          <mxGeometry y="104" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4O3nX7DTlS1VMoqucY0-4" value="- beginDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4O3nX7DTlS1VMoqucY0-0" vertex="1">
          <mxGeometry y="130" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4O3nX7DTlS1VMoqucY0-5" value="- endDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4O3nX7DTlS1VMoqucY0-0" vertex="1">
          <mxGeometry y="156" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4O3nX7DTlS1VMoqucY0-6" value="- state: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4O3nX7DTlS1VMoqucY0-0" vertex="1">
          <mxGeometry y="182" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4O3nX7DTlS1VMoqucY0-7" value="- takeCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4O3nX7DTlS1VMoqucY0-0" vertex="1">
          <mxGeometry y="208" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4O3nX7DTlS1VMoqucY0-8" value="- stokeCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4O3nX7DTlS1VMoqucY0-0" vertex="1">
          <mxGeometry y="234" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4O3nX7DTlS1VMoqucY0-9" value="- creator: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4O3nX7DTlS1VMoqucY0-0" vertex="1">
          <mxGeometry y="260" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4O3nX7DTlS1VMoqucY0-15" value="- createTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4O3nX7DTlS1VMoqucY0-0" vertex="1">
          <mxGeometry y="286" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4O3nX7DTlS1VMoqucY0-16" value="- updateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4O3nX7DTlS1VMoqucY0-0" vertex="1">
          <mxGeometry y="312" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4O3nX7DTlS1VMoqucY0-10" value="ActivityDao" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#FFD966;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1721" y="320" width="302" height="78" as="geometry" />
        </mxCell>
        <mxCell id="N4O3nX7DTlS1VMoqucY0-11" value="+ insert(Activity actitity):void" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;" parent="N4O3nX7DTlS1VMoqucY0-10" vertex="1">
          <mxGeometry y="26" width="302" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4O3nX7DTlS1VMoqucY0-12" value="queryActivityById(Long activityId): Activity" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;" parent="N4O3nX7DTlS1VMoqucY0-10" vertex="1">
          <mxGeometry y="52" width="302" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4O3nX7DTlS1VMoqucY0-23" style="edgeStyle=none;rounded=0;sketch=0;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.058;exitY=0.983;exitDx=0;exitDy=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=#5C5C5C;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#000000;fillColor=#21C0A5;endFill=1;exitPerimeter=0;" parent="yB6t98c5MVsuzrYYFxOn-1" source="BZH8UmLEWKEfzzfA_Ko6-27" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1653" y="317" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-1653" y="281" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="5B4UTiGU2R-GyyPkTf6i-0" value="常量类" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Comic Sans MS;fontColor=default;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="218" y="121" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="5B4UTiGU2R-GyyPkTf6i-1" value="统一返回对象" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Comic Sans MS;fontColor=default;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="214" y="-119" width="73" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PzRelI3liIFzK-UNlHEz-0" value="启动类" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Comic Sans MS;fontColor=default;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-1432" y="-6.630000000000003" width="73" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6dkisVVTJJjcJ44vJO_X-6" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=158.5;exitDy=14;exitPerimeter=0;" parent="yB6t98c5MVsuzrYYFxOn-1" source="6dkisVVTJJjcJ44vJO_X-0" target="6dkisVVTJJjcJ44vJO_X-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6dkisVVTJJjcJ44vJO_X-0" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;test&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-186" y="-123" width="277" height="76" as="geometry" />
        </mxCell>
        <mxCell id="6dkisVVTJJjcJ44vJO_X-7" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=290;exitDy=45;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="yB6t98c5MVsuzrYYFxOn-1" source="6dkisVVTJJjcJ44vJO_X-1" target="6dkisVVTJJjcJ44vJO_X-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6dkisVVTJJjcJ44vJO_X-1" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.test&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="-175" y="-408" width="290" height="76" as="geometry" />
        </mxCell>
        <mxCell id="6dkisVVTJJjcJ44vJO_X-2" value="ApiTest" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#3399FF;" parent="yB6t98c5MVsuzrYYFxOn-1" vertex="1">
          <mxGeometry x="252" y="-404" width="212" height="78" as="geometry" />
        </mxCell>
        <mxCell id="6dkisVVTJJjcJ44vJO_X-3" value="- activityBooth:IActivityBooth" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;" parent="6dkisVVTJJjcJ44vJO_X-2" vertex="1">
          <mxGeometry y="26" width="212" height="26" as="geometry" />
        </mxCell>
        <mxCell id="6dkisVVTJJjcJ44vJO_X-4" value="- queryActivityById: void&#xa;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;" parent="6dkisVVTJJjcJ44vJO_X-2" vertex="1">
          <mxGeometry y="52" width="212" height="26" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="qI6wcjgsP9djvxa3SAFh" name="第四章">
    <mxGraphModel dx="5257" dy="1035" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="Vl3UUgMSiPSZ1wtCRNhd-0" />
        <mxCell id="Vl3UUgMSiPSZ1wtCRNhd-1" parent="Vl3UUgMSiPSZ1wtCRNhd-0" />
        <mxCell id="qdXHVcUjq6BarUyr78WJ-50" value="基础字段：主键id、创建时间、更新时间 &#x9;&#xa;策略详情字段：策略ID、奖品ID、奖品描述、奖品库存、中奖概率" style="rounded=0;fontFamily=Comic Sans MS;fontStyle=1;strokeColor=#3399FF;fillColor=none;startSize=26;arcSize=0;sketch=1;align=left;whiteSpace=wrap;fontSize=16;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-794" y="559.12" width="510" height="99.75" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-46" value="基础字段：主键id、创建时间、更新时间&#xa;策略相关：策略ID、策略描述、策略方式、发奖方式、发奖时间，拓展信息&#xa;&#xa;策略与活动的关系，一个策略可用多个活动，为了策略单独提供服务，把策略id写入活动表，让抽奖策略成为可以独立配置和使用的领域模块&#xa;&#xa;&#xa;" style="whiteSpace=wrap;rounded=0;fontFamily=Comic Sans MS;fontSize=16;fontStyle=1;strokeColor=#3399FF;fillColor=none;startSize=26;sketch=1;align=left;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-798" y="138.13" width="576" height="173.25" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-30" value="&lt;font style=&quot;font-size: 20px&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;不分表不分库&lt;/b&gt;&lt;/font&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;rounded=0;width=132;height=36;fillColor=#007FFF;strokeColor=#007FFF;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-2244" y="3" width="749" height="757" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-27" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;endArrow=classic;endFill=1;endSize=12;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" source="rpE2UWttUtrFHp5lN9wp-0" target="qdXHVcUjq6BarUyr78WJ-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;endFill=0;endSize=12;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" source="rpE2UWttUtrFHp5lN9wp-0" target="qdXHVcUjq6BarUyr78WJ-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rpE2UWttUtrFHp5lN9wp-0" value="Activity" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#3399FF;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-2176" y="56" width="207" height="338" as="geometry" />
        </mxCell>
        <mxCell id="rpE2UWttUtrFHp5lN9wp-1" value="- id: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="rpE2UWttUtrFHp5lN9wp-0" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="rpE2UWttUtrFHp5lN9wp-2" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="rpE2UWttUtrFHp5lN9wp-0" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="rpE2UWttUtrFHp5lN9wp-3" value="- activityName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="rpE2UWttUtrFHp5lN9wp-0" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="rpE2UWttUtrFHp5lN9wp-4" value="- activityDesc: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="rpE2UWttUtrFHp5lN9wp-0" vertex="1">
          <mxGeometry y="104" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="rpE2UWttUtrFHp5lN9wp-5" value="- beginDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="rpE2UWttUtrFHp5lN9wp-0" vertex="1">
          <mxGeometry y="130" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="rpE2UWttUtrFHp5lN9wp-6" value="- endDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="rpE2UWttUtrFHp5lN9wp-0" vertex="1">
          <mxGeometry y="156" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="rpE2UWttUtrFHp5lN9wp-7" value="- state: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="rpE2UWttUtrFHp5lN9wp-0" vertex="1">
          <mxGeometry y="182" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="rpE2UWttUtrFHp5lN9wp-8" value="- takeCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="rpE2UWttUtrFHp5lN9wp-0" vertex="1">
          <mxGeometry y="208" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="rpE2UWttUtrFHp5lN9wp-9" value="- stokeCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="rpE2UWttUtrFHp5lN9wp-0" vertex="1">
          <mxGeometry y="234" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="rpE2UWttUtrFHp5lN9wp-10" value="- creator: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="rpE2UWttUtrFHp5lN9wp-0" vertex="1">
          <mxGeometry y="260" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="rpE2UWttUtrFHp5lN9wp-11" value="- createTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="rpE2UWttUtrFHp5lN9wp-0" vertex="1">
          <mxGeometry y="286" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="rpE2UWttUtrFHp5lN9wp-12" value="- updateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="rpE2UWttUtrFHp5lN9wp-0" vertex="1">
          <mxGeometry y="312" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="rpE2UWttUtrFHp5lN9wp-13" value="&lt;font face=&quot;Comic Sans MS&quot; style=&quot;font-size: 20px&quot;&gt;&lt;b&gt;活动表&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-2172" y="27" width="207" height="22" as="geometry" />
        </mxCell>
        <mxCell id="-DvqHaqhdmi1QC_LsmHn-0" value="Award" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-2176" y="497" width="207" height="208" as="geometry" />
        </mxCell>
        <mxCell id="-DvqHaqhdmi1QC_LsmHn-5" value="- id: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="-DvqHaqhdmi1QC_LsmHn-0" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-DvqHaqhdmi1QC_LsmHn-1" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="-DvqHaqhdmi1QC_LsmHn-0" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-DvqHaqhdmi1QC_LsmHn-2" value="- awardName : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="-DvqHaqhdmi1QC_LsmHn-0" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-DvqHaqhdmi1QC_LsmHn-3" value="- awardType : Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="-DvqHaqhdmi1QC_LsmHn-0" vertex="1">
          <mxGeometry y="104" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-DvqHaqhdmi1QC_LsmHn-4" value="- awardContent: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="-DvqHaqhdmi1QC_LsmHn-0" vertex="1">
          <mxGeometry y="130" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-DvqHaqhdmi1QC_LsmHn-7" value="- createTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="-DvqHaqhdmi1QC_LsmHn-0" vertex="1">
          <mxGeometry y="156" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-DvqHaqhdmi1QC_LsmHn-8" value="- updateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="-DvqHaqhdmi1QC_LsmHn-0" vertex="1">
          <mxGeometry y="182" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-DvqHaqhdmi1QC_LsmHn-6" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;span style=&quot;font-size: 20px&quot;&gt;&lt;b&gt;奖品表&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-2176" y="470" width="207" height="22" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-1" value="Strategy" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;arcSize=0;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-1748" y="82" width="179" height="260" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-18" value="- id: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="qdXHVcUjq6BarUyr78WJ-1" vertex="1">
          <mxGeometry y="26" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-2" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="qdXHVcUjq6BarUyr78WJ-1" vertex="1">
          <mxGeometry y="52" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-3" value="- strategyDesc: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="qdXHVcUjq6BarUyr78WJ-1" vertex="1">
          <mxGeometry y="78" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-4" value="-strategyMode: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="qdXHVcUjq6BarUyr78WJ-1" vertex="1">
          <mxGeometry y="104" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-5" value="- grantType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="qdXHVcUjq6BarUyr78WJ-1" vertex="1">
          <mxGeometry y="130" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-6" value="- grantDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="qdXHVcUjq6BarUyr78WJ-1" vertex="1">
          <mxGeometry y="156" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-7" value="- extInfo: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="qdXHVcUjq6BarUyr78WJ-1" vertex="1">
          <mxGeometry y="182" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-20" value="- createTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="qdXHVcUjq6BarUyr78WJ-1" vertex="1">
          <mxGeometry y="208" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-22" value="- updateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="qdXHVcUjq6BarUyr78WJ-1" vertex="1">
          <mxGeometry y="234" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-49" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;endSize=12;fontFamily=Comic Sans MS;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" source="qdXHVcUjq6BarUyr78WJ-9" target="qdXHVcUjq6BarUyr78WJ-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-9" value="StrategyDetail" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;arcSize=0;swimlaneLine=1;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-1757" y="479" width="179" height="260" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-19" value="- id: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="qdXHVcUjq6BarUyr78WJ-9" vertex="1">
          <mxGeometry y="26" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-10" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="qdXHVcUjq6BarUyr78WJ-9" vertex="1">
          <mxGeometry y="52" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-11" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="qdXHVcUjq6BarUyr78WJ-9" vertex="1">
          <mxGeometry y="78" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-12" value="- awardName : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="qdXHVcUjq6BarUyr78WJ-9" vertex="1">
          <mxGeometry y="104" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-13" value="- awardCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="qdXHVcUjq6BarUyr78WJ-9" vertex="1">
          <mxGeometry y="130" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-14" value="- awardSurplusCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="qdXHVcUjq6BarUyr78WJ-9" vertex="1">
          <mxGeometry y="156" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-15" value="- awardRate: BigDecimal" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="qdXHVcUjq6BarUyr78WJ-9" vertex="1">
          <mxGeometry y="182" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-21" value="- createTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="qdXHVcUjq6BarUyr78WJ-9" vertex="1">
          <mxGeometry y="208" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-23" value="- updateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="qdXHVcUjq6BarUyr78WJ-9" vertex="1">
          <mxGeometry y="234" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-16" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;span style=&quot;font-size: 20px&quot;&gt;&lt;b&gt;策略表&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-1748" y="56" width="178" height="22" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-17" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;span style=&quot;font-size: 20px&quot;&gt;&lt;b&gt;策略详情表&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-1756" y="451" width="178" height="22" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-29" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;endSize=12;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" source="qdXHVcUjq6BarUyr78WJ-26" target="qdXHVcUjq6BarUyr78WJ-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-26" value="&lt;div&gt;CREATE TABLE `activity` (&lt;/div&gt;&lt;div&gt;&amp;nbsp; `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT &#39;自增ID&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `activity_id` bigint(20) NOT NULL COMMENT &#39;活动ID&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `activity_name` varchar(64) CHARACTER SET utf8mb4 DEFAULT NULL COMMENT &#39;活动名称&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `activity_desc` varchar(128) CHARACTER SET utf8mb4 DEFAULT NULL COMMENT &#39;活动描述&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `begin_date_time` datetime DEFAULT NULL COMMENT &#39;开始时间&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `end_date_time` datetime DEFAULT NULL COMMENT &#39;结束时间&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `stock_count` int(11) DEFAULT NULL COMMENT &#39;库存&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `take_count` int(11) DEFAULT NULL COMMENT &#39;每人可参与次数&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `state` tinyint(2) DEFAULT NULL COMMENT &#39;活动状态：1编辑、2提审、3撤审、4通过、5运行(审核通过后worker扫描状态)、6拒绝、7关闭、8开启&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `creator` varchar(64) CHARACTER SET utf8mb4 DEFAULT NULL COMMENT &#39;创建人&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT &#39;创建时间&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `update_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT &#39;修改时间&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; PRIMARY KEY (`id`),&lt;/div&gt;&lt;div&gt;&amp;nbsp; UNIQUE KEY `unique_activity_id` (`activity_id`)&lt;/div&gt;&lt;div&gt;) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT=&#39;活动配置&#39;;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=14;fontStyle=1;strokeColor=#3399FF;fillColor=none;startSize=26;sketch=1;align=left;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-2798" y="12.5" width="513.5" height="424.5" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-28" value="活动相关字段: 活动id、活动名称、活动描述、活动开始时间、活动结束时间、活动状态、 每人参与次数&#xa;基础字段：主键id、创建人、创建时间、更新时间&#xa;库存：活动总的参与次数。&#xa;总库存相当于活动的运营配置的预算库存梳理，基本一次活动满足多少人参加，做一个控制。不能无限制的参加。总库存大于奖品库存，参加活动只代表有了一个名额，但是否中奖要看奖品库存。" style="whiteSpace=wrap;rounded=0;fontFamily=Comic Sans MS;fontSize=16;fontStyle=1;strokeColor=#3399FF;fillColor=none;startSize=26;sketch=1;align=left;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-3381" y="121" width="513.5" height="207.5" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-35" value="1:1" style="text;align=center;fontStyle=1;verticalAlign=middle;spacingLeft=3;spacingRight=3;strokeColor=none;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-1898" y="199" width="80" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;endFill=0;endSize=12;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" source="-DvqHaqhdmi1QC_LsmHn-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1959" y="234.9999999999999" as="sourcePoint" />
            <mxPoint x="-1758" y="613" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-1858" y="614" />
              <mxPoint x="-1748" y="613" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-37" value="1:1" style="text;align=center;fontStyle=1;verticalAlign=middle;spacingLeft=3;spacingRight=3;strokeColor=none;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-1907" y="590" width="80" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-41" value="" style="endArrow=none;endFill=0;endSize=12;html=1;fontFamily=Comic Sans MS;entryX=0.439;entryY=0.967;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" source="qdXHVcUjq6BarUyr78WJ-9" target="qdXHVcUjq6BarUyr78WJ-22" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-1920" y="538" as="sourcePoint" />
            <mxPoint x="-1760" y="538" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-42" value="1:N" style="text;align=center;fontStyle=1;verticalAlign=middle;spacingLeft=3;spacingRight=3;strokeColor=none;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-1734" y="394" width="80" height="26" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-47" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;endSize=12;fontFamily=Comic Sans MS;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" source="qdXHVcUjq6BarUyr78WJ-44" target="qdXHVcUjq6BarUyr78WJ-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-44" value="&lt;div&gt;CREATE TABLE `strategy` (&lt;/div&gt;&lt;div&gt;&amp;nbsp; `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT &#39;自增ID&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `strategy_id` bigint(20) NOT NULL COMMENT &#39;策略ID&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `strategy_desc` varchar(128) DEFAULT NULL COMMENT &#39;策略描述&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `strategy_mode` int(4) DEFAULT NULL COMMENT &#39;策略方式「1:单项概率、2:总体概率」&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `grant_type` int(4) DEFAULT NULL COMMENT &#39;发放奖品方式「1:即时、2:定时[含活动结束]、3:人工」&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `grant_date` datetime DEFAULT NULL COMMENT &#39;发放奖品时间&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `ext_info` varchar(128) DEFAULT NULL COMMENT &#39;扩展信息&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT &#39;创建时间&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `update_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT &#39;修改时间&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; PRIMARY KEY (`id`),&lt;/div&gt;&lt;div&gt;&amp;nbsp; UNIQUE KEY `strategy_strategyId_uindex` (`strategy_id`)&lt;/div&gt;&lt;div&gt;) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COMMENT=&#39;策略配置&#39;;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=14;fontStyle=1;strokeColor=#3399FF;fillColor=none;startSize=26;sketch=1;align=left;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-1374" y="53.5" width="513.5" height="342.5" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;endSize=12;fontFamily=Comic Sans MS;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" source="qdXHVcUjq6BarUyr78WJ-5" target="qdXHVcUjq6BarUyr78WJ-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;endSize=12;fontFamily=Comic Sans MS;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" source="qdXHVcUjq6BarUyr78WJ-48" target="qdXHVcUjq6BarUyr78WJ-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-48" value="&lt;div style=&quot;font-size: 14px&quot;&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;CREATE TABLE `strategy_detail` (&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 14px&quot;&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;&amp;nbsp; `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT &#39;自增ID&#39;,&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 14px&quot;&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;&amp;nbsp; `strategy_id` bigint(20) NOT NULL COMMENT &#39;策略ID&#39;,&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 14px&quot;&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;&amp;nbsp; `award_id` bigint(20) DEFAULT NULL COMMENT &#39;奖品ID&#39;,&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 14px&quot;&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;&amp;nbsp; `award_name` varchar(128) DEFAULT NULL COMMENT &#39;奖品描述&#39;,&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 14px&quot;&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;&amp;nbsp; `award_count` int(11) DEFAULT NULL COMMENT &#39;奖品库存&#39;,&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 14px&quot;&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;&amp;nbsp; `award_rate` decimal(5,2) DEFAULT NULL COMMENT &#39;中奖概率&#39;,&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 14px&quot;&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;&amp;nbsp; `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT &#39;创建时间&#39;,&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 14px&quot;&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;&amp;nbsp; `update_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT &#39;修改时间&#39;,&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 14px&quot;&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;&amp;nbsp; PRIMARY KEY (`id`)&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 14px&quot;&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8 COMMENT=&#39;策略明细&#39;;&lt;/font&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;fontFamily=Comic Sans MS;fontStyle=1;strokeColor=#3399FF;fillColor=none;startSize=26;arcSize=0;sketch=1;align=left;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-1380" y="476.25" width="521" height="265.5" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;endSize=12;fontFamily=Comic Sans MS;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" source="qdXHVcUjq6BarUyr78WJ-52" target="qdXHVcUjq6BarUyr78WJ-54" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-52" value="&lt;div&gt;CREATE TABLE `award` (&lt;/div&gt;&lt;div&gt;&amp;nbsp; `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT &#39;自增ID&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `award_id` varchar(64) COLLATE utf8_bin DEFAULT NULL COMMENT &#39;奖品ID&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `award_type` int(4) DEFAULT NULL COMMENT &#39;奖品类型（文字描述、兑换码、优惠券、实物奖品暂无）&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `award_name` varchar(64) COLLATE utf8_bin DEFAULT NULL COMMENT &#39;奖品名称&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `award_content` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT &#39;奖品内容「文字描述、Key、码」&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT &#39;创建时间&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `update_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT &#39;修改时间&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; PRIMARY KEY (`id`)&lt;/div&gt;&lt;div&gt;) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT=&#39;奖品配置&#39;;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=14;fontStyle=1;strokeColor=#3399FF;fillColor=none;startSize=26;sketch=1;align=left;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-2794" y="465" width="513.5" height="314" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1.001;entryY=0.39;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;endFill=1;endSize=12;fontFamily=Comic Sans MS;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" source="-DvqHaqhdmi1QC_LsmHn-2" target="qdXHVcUjq6BarUyr78WJ-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-54" value="基础字段：主键id、创建时间、更新时间&#xa;奖品字段：奖品ID、奖品类型、奖品内容" style="whiteSpace=wrap;rounded=0;fontFamily=Comic Sans MS;fontSize=16;fontStyle=1;strokeColor=#3399FF;fillColor=none;startSize=26;sketch=1;align=left;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-3377" y="580" width="513.5" height="84" as="geometry" />
        </mxCell>
        <mxCell id="qdXHVcUjq6BarUyr78WJ-56" value="&lt;font style=&quot;font-size: 20px&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;分库&lt;/b&gt;&lt;/font&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;rounded=0;width=132;height=36;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-2258" y="816" width="749" height="449" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-0" value="UserTakeActivity" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#9673a6;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-2185" y="883" width="207" height="286" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-1" value="- id: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="hxhAvAF9KKb2KJB1zg1D-0" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-30" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="hxhAvAF9KKb2KJB1zg1D-0" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-31" value="- takeId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="hxhAvAF9KKb2KJB1zg1D-0" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-2" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="hxhAvAF9KKb2KJB1zg1D-0" vertex="1">
          <mxGeometry y="104" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-3" value="- activityName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="hxhAvAF9KKb2KJB1zg1D-0" vertex="1">
          <mxGeometry y="130" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-5" value="- takeDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="hxhAvAF9KKb2KJB1zg1D-0" vertex="1">
          <mxGeometry y="156" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-4" value="- takeCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="hxhAvAF9KKb2KJB1zg1D-0" vertex="1">
          <mxGeometry y="182" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-10" value="- uuid: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="hxhAvAF9KKb2KJB1zg1D-0" vertex="1">
          <mxGeometry y="208" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-11" value="- createTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="hxhAvAF9KKb2KJB1zg1D-0" vertex="1">
          <mxGeometry y="234" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-12" value="- updateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="hxhAvAF9KKb2KJB1zg1D-0" vertex="1">
          <mxGeometry y="260" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;endSize=12;fontFamily=Comic Sans MS;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" source="hxhAvAF9KKb2KJB1zg1D-26" target="hxhAvAF9KKb2KJB1zg1D-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-26" value="&lt;div&gt;CREATE TABLE `user_take_activity` (&lt;/div&gt;&lt;div&gt;&amp;nbsp; `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT &#39;自增ID&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `u_id` varchar(32) COLLATE utf8mb4_bin DEFAULT NULL COMMENT &#39;用户ID&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `take_id` bigint(20) DEFAULT NULL COMMENT &#39;活动领取ID&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `activity_id` bigint(20) DEFAULT NULL COMMENT &#39;活动ID&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `activity_name` varchar(64) COLLATE utf8mb4_bin DEFAULT NULL COMMENT &#39;活动名称&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `take_date` datetime DEFAULT NULL COMMENT &#39;活动领取时间&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `take_count` int(11) DEFAULT NULL COMMENT &#39;领取次数&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `uuid` varchar(128) COLLATE utf8mb4_bin DEFAULT NULL COMMENT &#39;防重ID&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT &#39;创建时间&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `update_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT &#39;更新时间&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; PRIMARY KEY (`id`),&lt;/div&gt;&lt;div&gt;&amp;nbsp; UNIQUE KEY `idx_uuid` (`uuid`) USING BTREE COMMENT &#39;防重ID&#39;&lt;/div&gt;&lt;div&gt;) ENGINE=InnoDB AUTO_INCREMENT=17 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT=&#39;用户参与活动记录表&#39;;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=14;fontStyle=1;strokeColor=#9673a6;startSize=26;sketch=1;align=left;fillColor=none;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-2845" y="874.5" width="513.5" height="355" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-27" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;endSize=12;fontFamily=Comic Sans MS;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" source="hxhAvAF9KKb2KJB1zg1D-5" target="hxhAvAF9KKb2KJB1zg1D-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-28" value="基础字段：主键id、创建时间、更新时间、uuid(防重复id)&#xa;参与活动相关：用户id、活动领取id、活动id、活动名称、活动领取时间&#xa;冗务字段：领取次数&#xa;每次抽奖一条记录" style="whiteSpace=wrap;rounded=0;fontFamily=Comic Sans MS;fontSize=16;fontStyle=1;strokeColor=#9673a6;startSize=26;sketch=0;align=left;fillColor=none;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-3423" y="1006" width="513.5" height="92" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;endSize=12;fontFamily=Comic Sans MS;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" source="hxhAvAF9KKb2KJB1zg1D-33" target="hxhAvAF9KKb2KJB1zg1D-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-33" value="&lt;div style=&quot;font-size: 14px&quot;&gt;&lt;div&gt;CREATE TABLE `user_take_activity_count` (&lt;/div&gt;&lt;div&gt;&amp;nbsp; `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT &#39;自增ID&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `u_id` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT &#39;用户ID&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `activity_id` bigint(20) DEFAULT NULL COMMENT &#39;活动ID&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `total_count` int(11) DEFAULT NULL COMMENT &#39;可领取次数&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `left_count` int(11) DEFAULT NULL COMMENT &#39;已领取次数&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT &#39;创建时间&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; `update_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT &#39;更新时间&#39;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; PRIMARY KEY (`id`),&lt;/div&gt;&lt;div&gt;&amp;nbsp; UNIQUE KEY `idx_uId_activityId` (`u_id`,`activity_id`) USING BTREE&lt;/div&gt;&lt;div&gt;) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COMMENT=&#39;用户活动参与次数表&#39;;&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;fontFamily=Comic Sans MS;fontStyle=1;strokeColor=#9673a6;startSize=26;arcSize=0;sketch=1;align=left;fillColor=none;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-1380" y="903.25" width="521" height="265.5" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-34" value="基础字段：主键id、创建时间、更新时间、uuid(防重复id)&#xa;参与次数相关：用户id、活动id、可领取次数、已领取次数&#xa;一次活动一条记录" style="whiteSpace=wrap;rounded=0;fontFamily=Comic Sans MS;fontStyle=1;strokeColor=#9673a6;startSize=26;arcSize=0;sketch=1;align=left;fillColor=none;fontSize=16;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-772" y="986.13" width="510" height="99.75" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;endSize=12;fontFamily=Comic Sans MS;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" source="hxhAvAF9KKb2KJB1zg1D-35" target="hxhAvAF9KKb2KJB1zg1D-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-35" value="UserTakeActivityCount" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#9673a6;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-1813" y="919" width="207" height="234" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-36" value="- id: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="hxhAvAF9KKb2KJB1zg1D-35" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-37" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="hxhAvAF9KKb2KJB1zg1D-35" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-39" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="hxhAvAF9KKb2KJB1zg1D-35" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-41" value="- totalCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="hxhAvAF9KKb2KJB1zg1D-35" vertex="1">
          <mxGeometry y="104" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-42" value="- leftCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="hxhAvAF9KKb2KJB1zg1D-35" vertex="1">
          <mxGeometry y="130" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-43" value="- uuid: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="hxhAvAF9KKb2KJB1zg1D-35" vertex="1">
          <mxGeometry y="156" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-44" value="- createTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="hxhAvAF9KKb2KJB1zg1D-35" vertex="1">
          <mxGeometry y="182" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-45" value="- updateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="hxhAvAF9KKb2KJB1zg1D-35" vertex="1">
          <mxGeometry y="208" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-47" value="&lt;font style=&quot;font-size: 20px&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;分表分库&lt;/b&gt;&lt;/font&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;rounded=0;width=132;height=36;fillColor=#f8cecc;strokeColor=#b85450;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-2268" y="1323" width="758" height="202" as="geometry" />
        </mxCell>
        <mxCell id="hxhAvAF9KKb2KJB1zg1D-48" value="用户策略计算结果表，user_strategy_export_001~004：&#xa;最终策略结果的一个记录，也就是奖品中奖信息的内容&#xa;&#xa;基础字段：主键id、创建时间、更新时间、uuid(防重复id)&#xa;结果相关：TODO 待具体用到再梳理&#xa;" style="text;align=left;fontStyle=1;verticalAlign=middle;spacingLeft=3;spacingRight=3;strokeColor=none;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=0;fillColor=none;fontFamily=Comic Sans MS;fontSize=20;" parent="Vl3UUgMSiPSZ1wtCRNhd-1" vertex="1">
          <mxGeometry x="-2153" y="1385" width="530" height="105" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="第五章">
    <mxGraphModel dx="4581" dy="1242" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="9BisE0nqM3KB8iaN4V7n-6" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=232.5;entryDy=14;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#7EA6E0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="yeey0EDy7pH-B_RpYZPG-0" target="9BisE0nqM3KB8iaN4V7n-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yeey0EDy7pH-B_RpYZPG-0" value="lotter-domain" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2288" y="676" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="9BisE0nqM3KB8iaN4V7n-0" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.domain.strategy&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-2419" y="801" width="425" height="76" as="geometry" />
        </mxCell>
        <mxCell id="9BisE0nqM3KB8iaN4V7n-8" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#7EA6E0;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="9BisE0nqM3KB8iaN4V7n-1" target="9BisE0nqM3KB8iaN4V7n-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9BisE0nqM3KB8iaN4V7n-1" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;annotation&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1899" y="48" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="9BisE0nqM3KB8iaN4V7n-2" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;model&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1899" y="353" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="9BisE0nqM3KB8iaN4V7n-4" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;repository&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1894" y="743" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="9BisE0nqM3KB8iaN4V7n-5" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;service&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1910" y="1551" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="9BisE0nqM3KB8iaN4V7n-7" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Annotation&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;/p&gt;&lt;span style=&quot;font-size: 20px ; font-weight: 700&quot;&gt;&lt;div style=&quot;text-align: center&quot;&gt;&lt;span&gt;strategy&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#9673a6;sketch=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1600" y="44" width="290" height="84" as="geometry" />
        </mxCell>
        <mxCell id="9BisE0nqM3KB8iaN4V7n-9" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IStrategyRepository&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ queryStrategyRich(Long strategyId&lt;span&gt;) : StrategyRich&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span&gt;+ queryAwardInfo(String awardId): Award&lt;/span&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#9673a6;sketch=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1639" y="687" width="309" height="94" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-6" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="9BisE0nqM3KB8iaN4V7n-12" target="UPIgGrZe17fgRS7qwjzV-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9BisE0nqM3KB8iaN4V7n-12" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;impl&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1637" y="834" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-0" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1691" y="715.68" width="30" height="187.32" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-1" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;策略表仓储服务&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1637" y="654" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-2" value="StrategyRepository" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;swimlaneLine=0;fillColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1289" y="805" width="319" height="147" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-3" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="UPIgGrZe17fgRS7qwjzV-2" vertex="1">
          <mxGeometry y="26" width="319" height="8" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-4" value="- awardDao: IAwardDao&#xa;- strategyDao:IStrategyDao&#xa;- strategyDetailDao: IStrategyDetailDao" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="UPIgGrZe17fgRS7qwjzV-2" vertex="1">
          <mxGeometry y="34" width="319" height="53" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-5" value="+ queryStrategyRich(Long strategyId) : StrategyRich&#xa;+ queryAwardInfo(String awardId): Award&#xa;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="UPIgGrZe17fgRS7qwjzV-2" vertex="1">
          <mxGeometry y="87" width="319" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-7" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;策略表仓储服务实现&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1289" y="773" width="159" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-15" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;entryX=-0.014;entryY=0.345;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="UPIgGrZe17fgRS7qwjzV-8" target="UPIgGrZe17fgRS7qwjzV-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-8" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;aggregates&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1626" y="173" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-37" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="UPIgGrZe17fgRS7qwjzV-9" target="UPIgGrZe17fgRS7qwjzV-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-9" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;req&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1631" y="288" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-38" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="UPIgGrZe17fgRS7qwjzV-10" target="UPIgGrZe17fgRS7qwjzV-20" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1440" y="449" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-10" value="res" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1624" y="415" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-11" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;vo&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1631" y="549" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-12" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1688" y="190" width="30" height="433" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-13" value="StrategyRich" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;fillColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1295" y="168" width="251" height="96" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-14" value="- strategyId ： Long&#xa;- strategy: Strategy&#xa;- strategyDetailList: &#xa;List&lt;StrategyDetail&gt;" style="text;strokeColor=#6c8ebf;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="UPIgGrZe17fgRS7qwjzV-13" vertex="1">
          <mxGeometry y="26" width="251" height="70" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-18" value="DrawResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#3399FF;swimlaneLine=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1289" y="394.5" width="246" height="130" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-19" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="UPIgGrZe17fgRS7qwjzV-18" vertex="1">
          <mxGeometry y="26" width="246" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-20" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="UPIgGrZe17fgRS7qwjzV-18" vertex="1">
          <mxGeometry y="52" width="246" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-21" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="UPIgGrZe17fgRS7qwjzV-18" vertex="1">
          <mxGeometry y="78" width="246" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-22" value="- awardName : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="UPIgGrZe17fgRS7qwjzV-18" vertex="1">
          <mxGeometry y="104" width="246" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-23" value="DrawReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#3399FF;swimlaneLine=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1295" y="293" width="252" height="78" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-24" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="UPIgGrZe17fgRS7qwjzV-23" vertex="1">
          <mxGeometry y="26" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-25" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="UPIgGrZe17fgRS7qwjzV-23" vertex="1">
          <mxGeometry y="52" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-26" value="AwardRateInfo" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;swimlaneLine=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1293" y="554.5" width="257" height="78" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-27" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="UPIgGrZe17fgRS7qwjzV-26" vertex="1">
          <mxGeometry y="26" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-28" value="- awardRate: BigDecimal" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="UPIgGrZe17fgRS7qwjzV-26" vertex="1">
          <mxGeometry y="52" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-39" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="UPIgGrZe17fgRS7qwjzV-11" target="UPIgGrZe17fgRS7qwjzV-27" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1430" y="459" as="sourcePoint" />
            <mxPoint x="-1279" y="459" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-40" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;仓储服务&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1896" y="696" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-41" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;聚合对象&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1914" y="293" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-42" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;注解&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1914" y="8" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-43" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;领域服务&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1928" y="1517" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-44" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;策略注解&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1600" y="6" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-45" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;策略聚合对象&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1280" y="131" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-46" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;奖品信息&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1310" y="524.5" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-47" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;抽奖请求参数&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1293" y="264" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-48" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;抽奖返回参数&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1293" y="368" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-49" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;algorithm&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1639" y="1161" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-50" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;draw&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1649" y="1961.5" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-51" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;impl&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1373" y="1034" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-52" value="DefaultRateRandomDrawAlgorithm" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fillColor=none;strokeColor=#3399FF;swimlaneLine=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1102" y="980" width="339.5" height="88" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-53" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;" parent="UPIgGrZe17fgRS7qwjzV-52" vertex="1">
          <mxGeometry y="26" width="339.5" height="8" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-54" value="+ randomDraw(Long strategyId,List&lt;Sting&gt;&#xa;                       excludeAwardIds): String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;" parent="UPIgGrZe17fgRS7qwjzV-52" vertex="1">
          <mxGeometry y="34" width="339.5" height="54" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-55" value="SingleRateRandomDrawAlgorithm" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fillColor=none;strokeColor=#3399FF;swimlaneLine=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1102" y="1141" width="339.5" height="74" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-56" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;" parent="UPIgGrZe17fgRS7qwjzV-55" vertex="1">
          <mxGeometry y="26" width="339.5" height="8" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-57" value="+ randomDraw(Long strategyId,List&lt;Sting&gt;&#xa;                       excludeAwardIds): String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;" parent="UPIgGrZe17fgRS7qwjzV-55" vertex="1">
          <mxGeometry y="34" width="339.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-58" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1153" y="986" width="30" height="227" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-59" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;总体概率抽奖算法&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-914" y="947" width="159" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-60" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;单项概率抽奖算法&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-903" y="1102" width="159" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-61" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1428" y="1053" width="30" height="596" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-62" value="BaseAlgorithm" style="swimlane;fontStyle=3;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fillColor=none;strokeColor=#3399FF;swimlaneLine=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1376" y="1427" width="297" height="215" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-63" value="- HASH_INCREMENT: int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;fontStyle=4" parent="UPIgGrZe17fgRS7qwjzV-62" vertex="1">
          <mxGeometry y="26" width="297" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-64" value="- RATE_TUPLE_LENGTH: int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontStyle=4;fontSize=10;" parent="UPIgGrZe17fgRS7qwjzV-62" vertex="1">
          <mxGeometry y="52" width="297" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-65" value="# rateTupleMap: Map&lt;Long,String[]&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="UPIgGrZe17fgRS7qwjzV-62" vertex="1">
          <mxGeometry y="78" width="297" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-66" value="# awardRateInfoMap: Map&lt;Long,List&lt;AwardRateInfo&gt;&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="UPIgGrZe17fgRS7qwjzV-62" vertex="1">
          <mxGeometry y="104" width="297" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-67" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;" parent="UPIgGrZe17fgRS7qwjzV-62" vertex="1">
          <mxGeometry y="130" width="297" height="8" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-68" value="+ initRateTuple(Long strategyId,&#xa;List&lt;AwardRateInfo&gt; awardRateInfoList)&#xa;+ isExistRateTuple(Long strategyId): boolean&#xa;# hashIdx(int value): int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;" parent="UPIgGrZe17fgRS7qwjzV-62" vertex="1">
          <mxGeometry y="138" width="297" height="77" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-69" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IDrawAlgorithm&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ initRateTuple(Long strategyId,&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;List&amp;lt;AwardRateInfo&amp;gt; awardRateInfoList)&lt;br&gt;+ isExistRateTuple(Long strategyId): boolean&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ randomDraw(Long strategyId,List&amp;lt;Sting&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;excludeAwardIds): String&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#9673a6;sketch=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1372.5" y="1258" width="290" height="139" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-77" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;抽奖算法接口定义&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1375" y="1224" width="159" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-78" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;抽奖算法共用提取&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1382" y="1397" width="159" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-109" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.513;exitDx=0;exitDy=0;exitPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="UPIgGrZe17fgRS7qwjzV-81" target="UPIgGrZe17fgRS7qwjzV-103" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-81" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;impl&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1392" y="1722" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-90" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1447" y="1741" width="30" height="517" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-102" value="DrawExecImpl" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fillColor=none;strokeColor=#3399FF;swimlaneLine=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1019.75" y="1722" width="344.5" height="86" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-103" value="- strategyRepository : IStrategyRepository " style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="UPIgGrZe17fgRS7qwjzV-102" vertex="1">
          <mxGeometry y="26" width="344.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-104" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;" parent="UPIgGrZe17fgRS7qwjzV-102" vertex="1">
          <mxGeometry y="52" width="344.5" height="8" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-105" value="+ doDrawExec(DrawReq drawReq) : DrawResult" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;" parent="UPIgGrZe17fgRS7qwjzV-102" vertex="1">
          <mxGeometry y="60" width="344.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-106" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;抽奖执行实现类&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1023" y="1692" width="159" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-110" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IDrawExec&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ doDrawExec(DrawReq drawReq&lt;span&gt;) : DrawResult&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#9673a6;sketch=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1399" y="1896" width="309" height="94" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-111" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;抽奖执行接口定义&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1387" y="1855" width="159" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-112" value="DrawConfig" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fillColor=none;strokeColor=#3399FF;swimlaneLine=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1404" y="2035" width="344.5" height="112" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-113" value="- algorithmList: List&lt;IDrawAlgorithm&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="UPIgGrZe17fgRS7qwjzV-112" vertex="1">
          <mxGeometry y="26" width="344.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-114" value="# drawAlgorithmMap: Map&lt;Integer,IDrawAlgorithm&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="UPIgGrZe17fgRS7qwjzV-112" vertex="1">
          <mxGeometry y="52" width="344.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-115" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;" parent="UPIgGrZe17fgRS7qwjzV-112" vertex="1">
          <mxGeometry y="78" width="344.5" height="8" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-116" value="+ init()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;" parent="UPIgGrZe17fgRS7qwjzV-112" vertex="1">
          <mxGeometry y="86" width="344.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-117" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;抽奖算法策略统一配置类&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1406" y="2001" width="196" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-118" value="DrawBase" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fillColor=none;strokeColor=#3399FF;swimlaneLine=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1410.75" y="2185" width="344.5" height="79" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-119" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;" parent="UPIgGrZe17fgRS7qwjzV-118" vertex="1">
          <mxGeometry y="26" width="344.5" height="8" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-120" value="+ chechAndInitRateData(Long strategyId,&#xa; Integer strategyMode,List&lt;StrategyDetail&gt; strategyDetailList)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="UPIgGrZe17fgRS7qwjzV-118" vertex="1">
          <mxGeometry y="34" width="344.5" height="45" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-121" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;抽奖执行共用提取类&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1410.75" y="2155" width="196" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-122" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1695" y="1182" width="30" height="847" as="geometry" />
        </mxCell>
        <mxCell id="UPIgGrZe17fgRS7qwjzV-124" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-1981" y="67" width="30" height="1551" as="geometry" />
        </mxCell>
        <mxCell id="Xar6L-ASoeAp7054X4Wy-0" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=14;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="Xar6L-ASoeAp7054X4Wy-1" target="Xar6L-ASoeAp7054X4Wy-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Xar6L-ASoeAp7054X4Wy-1" value="lotter-infrastructure" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-798" y="760" width="222.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Xar6L-ASoeAp7054X4Wy-2" value="&lt;font style=&quot;font-size: 12px&quot;&gt;&lt;font color=&quot;#333333&quot; style=&quot;font-size: 12px&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;基础服务层：&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(51 , 51 , 51) ; font-family: &amp;#34;open sans&amp;#34; , &amp;#34;clear sans&amp;#34; , &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; background-color: rgb(255 , 255 , 255)&quot;&gt;为各层提供资源服务（如数据库、缓存等）&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-780" y="713" width="237" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Xar6L-ASoeAp7054X4Wy-3" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.&lt;/font&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;infrastructure&lt;/span&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-420" y="743" width="364" height="76" as="geometry" />
        </mxCell>
        <mxCell id="Xar6L-ASoeAp7054X4Wy-5" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;dao&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="24" y="633" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="Xar6L-ASoeAp7054X4Wy-7" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;po&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="27" y="938" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="Xar6L-ASoeAp7054X4Wy-8" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="187" y="516" width="30" height="311" as="geometry" />
        </mxCell>
        <mxCell id="Xar6L-ASoeAp7054X4Wy-27" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-30" y="645" width="30" height="334" as="geometry" />
        </mxCell>
        <mxCell id="6Ro_3yILPjyzpU7iUtac-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IAwardDao&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#9673a6;sketch=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="250" y="514" width="309" height="65" as="geometry" />
        </mxCell>
        <mxCell id="6Ro_3yILPjyzpU7iUtac-1" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IStrategyDetailDao&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#9673a6;sketch=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="255" y="648" width="309" height="65" as="geometry" />
        </mxCell>
        <mxCell id="6Ro_3yILPjyzpU7iUtac-2" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IStrategyDao&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#9673a6;sketch=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="248" y="773" width="309" height="65" as="geometry" />
        </mxCell>
        <mxCell id="MMGAcNZgmmJ_WMXEcGzo-0" value="Award" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;fillColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="241" y="886" width="160" height="52" as="geometry" />
        </mxCell>
        <mxCell id="MMGAcNZgmmJ_WMXEcGzo-1" value="" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="MMGAcNZgmmJ_WMXEcGzo-0" vertex="1">
          <mxGeometry y="26" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="MMGAcNZgmmJ_WMXEcGzo-5" value="Strategy" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;fillColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="241" y="970" width="160" height="52" as="geometry" />
        </mxCell>
        <mxCell id="MMGAcNZgmmJ_WMXEcGzo-6" value="" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="MMGAcNZgmmJ_WMXEcGzo-5" vertex="1">
          <mxGeometry y="26" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="MMGAcNZgmmJ_WMXEcGzo-7" value="StrategyDetail" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;fillColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="244" y="1046" width="160" height="52" as="geometry" />
        </mxCell>
        <mxCell id="MMGAcNZgmmJ_WMXEcGzo-8" value="" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="MMGAcNZgmmJ_WMXEcGzo-7" vertex="1">
          <mxGeometry y="26" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="MMGAcNZgmmJ_WMXEcGzo-10" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="180" y="890" width="30" height="193" as="geometry" />
        </mxCell>
        <mxCell id="GwotC_1ORatkmCNsdZmn-7" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="n93VVx7UKe6tCBs2U8qU-0" target="GwotC_1ORatkmCNsdZmn-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n93VVx7UKe6tCBs2U8qU-0" value="lotter-interfaces" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-765" y="1339" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GwotC_1ORatkmCNsdZmn-8" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=40.5;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=261;exitDy=45;exitPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="GwotC_1ORatkmCNsdZmn-0" target="GwotC_1ORatkmCNsdZmn-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GwotC_1ORatkmCNsdZmn-0" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;resource&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-429" y="1319.5" width="261" height="76" as="geometry" />
        </mxCell>
        <mxCell id="lX6Vq6-jN7w5ZGcG-bL4-2" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=125;exitDy=27.25;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="GwotC_1ORatkmCNsdZmn-2" target="E1KJ8RDFmTjBfgkZVzIE-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lX6Vq6-jN7w5ZGcG-bL4-3" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=125;exitDy=40.5;exitPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="GwotC_1ORatkmCNsdZmn-2" target="lX6Vq6-jN7w5ZGcG-bL4-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lX6Vq6-jN7w5ZGcG-bL4-4" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=125;exitDy=53.75;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="GwotC_1ORatkmCNsdZmn-2" target="lX6Vq6-jN7w5ZGcG-bL4-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GwotC_1ORatkmCNsdZmn-2" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;mappers&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-23" y="1324" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="E1KJ8RDFmTjBfgkZVzIE-0" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;span style=&quot;font-weight: 700&quot;&gt;AwardMapper&lt;/span&gt;&lt;span style=&quot;text-align: left&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;.xml&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#000000;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="196" y="1249" width="208" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lX6Vq6-jN7w5ZGcG-bL4-0" value="&lt;span style=&quot;font-size: 16px ; font-weight: 700&quot;&gt;Strategy&lt;/span&gt;&lt;span style=&quot;font-size: 16px ; font-weight: 700&quot;&gt;Mapper&lt;/span&gt;&lt;span style=&quot;font-size: 16px ; text-align: left&quot;&gt;&lt;b&gt;.xml&lt;/b&gt;&lt;/span&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#000000;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="199" y="1337" width="208" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lX6Vq6-jN7w5ZGcG-bL4-1" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;span style=&quot;font-weight: 700&quot;&gt;StrategyDetail&lt;/span&gt;&lt;span style=&quot;font-weight: 700&quot;&gt;Mapper&lt;/span&gt;&lt;span style=&quot;text-align: left&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;.xml&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#000000;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="199" y="1425" width="208" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第五章类图" id="OMI998vogSYbu2ZD77GF">
    <mxGraphModel dx="1167" dy="690" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="wZY0w088OBqGby_yj9VT-0" />
        <mxCell id="wZY0w088OBqGby_yj9VT-1" parent="wZY0w088OBqGby_yj9VT-0" />
        <mxCell id="wZY0w088OBqGby_yj9VT-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=10;endArrow=classic;endFill=1;" parent="wZY0w088OBqGby_yj9VT-1" source="wZY0w088OBqGby_yj9VT-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="416.5" y="82.86274808995864" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-3" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IDrawAlgorithm&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ initRateTuple(Long strategyId,&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;List&amp;lt;AwardRateInfo&amp;gt; awardRateInfoList)&lt;br&gt;+ isExistRateTuple(Long strategyId): boolean&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ randomDraw(Long strategyId,List&amp;lt;Sting&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;excludeAwardIds): String&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;sketch=1;rounded=0;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="271.5" y="122" width="290" height="139" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-4" value="BaseAlgorithm" style="swimlane;fontStyle=3;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fillColor=#e1d5e7;strokeColor=default;swimlaneLine=0;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="268" y="322" width="297" height="215" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-5" value="- HASH_INCREMENT: int" style="text;strokeColor=#9673A6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;fontStyle=4" parent="wZY0w088OBqGby_yj9VT-4" vertex="1">
          <mxGeometry y="26" width="297" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-6" value="- RATE_TUPLE_LENGTH: int" style="text;strokeColor=#9673A6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontStyle=4;fontSize=10;" parent="wZY0w088OBqGby_yj9VT-4" vertex="1">
          <mxGeometry y="52" width="297" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-7" value="# rateTupleMap: Map&lt;Long,String[]&gt;" style="text;strokeColor=#9673A6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="wZY0w088OBqGby_yj9VT-4" vertex="1">
          <mxGeometry y="78" width="297" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-8" value="# awardRateInfoMap: Map&lt;Long,List&lt;AwardRateInfo&gt;&gt;" style="text;strokeColor=#9673A6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="wZY0w088OBqGby_yj9VT-4" vertex="1">
          <mxGeometry y="104" width="297" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-9" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;" parent="wZY0w088OBqGby_yj9VT-4" vertex="1">
          <mxGeometry y="130" width="297" height="8" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-10" value="+ initRateTuple(Long strategyId,&#xa;List&lt;AwardRateInfo&gt; awardRateInfoList)&#xa;+ isExistRateTuple(Long strategyId): boolean&#xa;# hashIdx(int value): int" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;" parent="wZY0w088OBqGby_yj9VT-4" vertex="1">
          <mxGeometry y="138" width="297" height="77" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-11" value="" style="endArrow=block;dashed=1;endFill=0;endSize=10;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=10;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="wZY0w088OBqGby_yj9VT-1" source="wZY0w088OBqGby_yj9VT-4" target="wZY0w088OBqGby_yj9VT-3" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="395.5" y="352" as="sourcePoint" />
            <mxPoint x="555.5" y="352" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-12" value="实现" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontFamily=Comic Sans MS;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="401.5" y="282" width="30" height="16" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-13" value="DefaultRateRandomDrawAlgorithm" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fillColor=#e1d5e7;strokeColor=default;swimlaneLine=0;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="55" y="616" width="339.5" height="104" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-14" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;" parent="wZY0w088OBqGby_yj9VT-13" vertex="1">
          <mxGeometry y="26" width="339.5" height="8" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-15" value="+ randomDraw(Long strategyId,List&lt;Sting&gt;&#xa;                       excludeAwardIds): String" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;" parent="wZY0w088OBqGby_yj9VT-13" vertex="1">
          <mxGeometry y="34" width="339.5" height="70" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-16" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;fontSize=10;endArrow=none;endFill=0;" parent="wZY0w088OBqGby_yj9VT-1" source="wZY0w088OBqGby_yj9VT-18" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="415.69696044921875" y="554.5454545454545" as="targetPoint" />
            <Array as="points">
              <mxPoint x="607" y="572" />
              <mxPoint x="416" y="572" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-17" value="继承" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontFamily=Comic Sans MS;" parent="wZY0w088OBqGby_yj9VT-16" vertex="1" connectable="0">
          <mxGeometry x="-0.0932" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-18" value="SingleRateRandomDrawAlgorithm" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fillColor=#e1d5e7;strokeColor=default;swimlaneLine=0;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="437" y="616" width="339.5" height="104" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-19" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;" parent="wZY0w088OBqGby_yj9VT-18" vertex="1">
          <mxGeometry y="26" width="339.5" height="8" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-20" value="+ randomDraw(Long strategyId,List&lt;Sting&gt;&#xa;                       excludeAwardIds): String" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;" parent="wZY0w088OBqGby_yj9VT-18" vertex="1">
          <mxGeometry y="34" width="339.5" height="70" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-21" value="继承" style="endArrow=block;endSize=10;endFill=0;html=1;rounded=1;fontFamily=Comic Sans MS;fontSize=10;exitX=0.485;exitY=-0.023;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.495;entryY=1.013;entryDx=0;entryDy=0;entryPerimeter=0;" parent="wZY0w088OBqGby_yj9VT-1" source="wZY0w088OBqGby_yj9VT-13" target="wZY0w088OBqGby_yj9VT-10" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="240" y="616" as="sourcePoint" />
            <mxPoint x="416" y="549" as="targetPoint" />
            <Array as="points">
              <mxPoint x="220" y="571" />
              <mxPoint x="415" y="571" />
              <mxPoint x="415" y="555" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-22" value="AwardRateInfo" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#e1d5e7;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#9673a6;swimlaneLine=0;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="272" y="3" width="295" height="78" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-23" value="- awardId: String" style="text;strokeColor=#9673A6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="wZY0w088OBqGby_yj9VT-22" vertex="1">
          <mxGeometry y="26" width="295" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-24" value="- awardRate: BigDecimal" style="text;strokeColor=none;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="wZY0w088OBqGby_yj9VT-22" vertex="1">
          <mxGeometry y="52" width="295" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.397;entryY=1.024;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=10;endArrow=classic;endFill=1;" parent="wZY0w088OBqGby_yj9VT-1" source="wZY0w088OBqGby_yj9VT-27" target="wZY0w088OBqGby_yj9VT-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.49;entryY=0.981;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=10;endArrow=classic;endFill=1;" parent="wZY0w088OBqGby_yj9VT-1" source="wZY0w088OBqGby_yj9VT-27" target="wZY0w088OBqGby_yj9VT-53" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="100" y="944" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-27" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IDrawExec&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ doDrawExec(DrawReq drawReq&lt;span&gt;) : DrawResult&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;sketch=1;rounded=0;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="49" y="944" width="309" height="94" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=10;endArrow=classic;endFill=1;" parent="wZY0w088OBqGby_yj9VT-1" source="wZY0w088OBqGby_yj9VT-30" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="604" y="721" as="targetPoint" />
            <Array as="points">
              <mxPoint x="604" y="748" />
              <mxPoint x="604" y="748" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-29" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=10;endArrow=classic;endFill=1;" parent="wZY0w088OBqGby_yj9VT-1" source="wZY0w088OBqGby_yj9VT-30" target="wZY0w088OBqGby_yj9VT-15" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="604" y="787" />
              <mxPoint x="225" y="787" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-30" value="DrawConfig" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;swimlaneLine=0;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="436.5" y="948" width="344.5" height="112" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-31" value="- algorithmList: List&lt;IDrawAlgorithm&gt;" style="text;strokeColor=#6C8EBF;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="wZY0w088OBqGby_yj9VT-30" vertex="1">
          <mxGeometry y="26" width="344.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-32" value="# drawAlgorithmMap: Map&lt;Integer,IDrawAlgorithm&gt;" style="text;strokeColor=#6C8EBF;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="wZY0w088OBqGby_yj9VT-30" vertex="1">
          <mxGeometry y="52" width="344.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-33" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;" parent="wZY0w088OBqGby_yj9VT-30" vertex="1">
          <mxGeometry y="78" width="344.5" height="8" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-34" value="+ init()" style="text;strokeColor=none;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;" parent="wZY0w088OBqGby_yj9VT-30" vertex="1">
          <mxGeometry y="86" width="344.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-35" value="DrawBase" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;swimlaneLine=0;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="437" y="1092" width="344.5" height="79" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-36" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;" parent="wZY0w088OBqGby_yj9VT-35" vertex="1">
          <mxGeometry y="26" width="344.5" height="8" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-37" value="+ chechAndInitRateData(Long strategyId,&#xa; Integer strategyMode,List&lt;StrategyDetail&gt; strategyDetailList)" style="text;strokeColor=none;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="wZY0w088OBqGby_yj9VT-35" vertex="1">
          <mxGeometry y="34" width="344.5" height="45" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-38" value="DrawExecImpl" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;swimlaneLine=0;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="31.25" y="1077" width="344.5" height="86" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-39" value="- strategyRepository : IStrategyRepository " style="text;strokeColor=#6C8EBF;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="wZY0w088OBqGby_yj9VT-38" vertex="1">
          <mxGeometry y="26" width="344.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-40" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;" parent="wZY0w088OBqGby_yj9VT-38" vertex="1">
          <mxGeometry y="52" width="344.5" height="8" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-41" value="+ doDrawExec(DrawReq drawReq) : DrawResult" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;" parent="wZY0w088OBqGby_yj9VT-38" vertex="1">
          <mxGeometry y="60" width="344.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-42" value="继承" style="endArrow=block;endSize=10;endFill=0;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=10;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="wZY0w088OBqGby_yj9VT-1" source="wZY0w088OBqGby_yj9VT-35" target="wZY0w088OBqGby_yj9VT-34" edge="1">
          <mxGeometry x="-0.3818" y="-10" width="160" relative="1" as="geometry">
            <mxPoint x="273" y="1067" as="sourcePoint" />
            <mxPoint x="433" y="1067" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-43" value="" style="endArrow=block;dashed=1;endFill=0;endSize=10;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=10;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="wZY0w088OBqGby_yj9VT-1" target="wZY0w088OBqGby_yj9VT-27" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="203" y="1076" as="sourcePoint" />
            <mxPoint x="398" y="1080" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-44" value="实现" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontFamily=Comic Sans MS;" parent="wZY0w088OBqGby_yj9VT-43" vertex="1" connectable="0">
          <mxGeometry x="-0.178" y="-1" relative="1" as="geometry">
            <mxPoint x="-16" y="4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-45" value="继承" style="endArrow=block;endSize=6;endFill=0;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=10;" parent="wZY0w088OBqGby_yj9VT-1" edge="1">
          <mxGeometry x="-0.0159" y="11" width="160" relative="1" as="geometry">
            <mxPoint x="376" y="1127" as="sourcePoint" />
            <mxPoint x="439" y="1127" as="targetPoint" />
            <Array as="points">
              <mxPoint x="392" y="1127" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-46" value="DrawReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#dae8fc;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#6c8ebf;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="226" y="821" width="140" height="78" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-47" value="- uId: String" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="wZY0w088OBqGby_yj9VT-46" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-48" value="- strategyId: Long" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="wZY0w088OBqGby_yj9VT-46" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-49" value="DrawResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#dae8fc;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#6c8ebf;swimlaneLine=0;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="31.25" y="769" width="140" height="130" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-50" value="- uId: String" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="wZY0w088OBqGby_yj9VT-49" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-51" value="- strategyId: Long" style="text;strokeColor=#7EA6E0;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="wZY0w088OBqGby_yj9VT-49" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-52" value="- awardId: String" style="text;strokeColor=#6C8EBF;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="wZY0w088OBqGby_yj9VT-49" vertex="1">
          <mxGeometry y="78" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-53" value="- awardName : String" style="text;strokeColor=none;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="wZY0w088OBqGby_yj9VT-49" vertex="1">
          <mxGeometry y="104" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-54" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;entryX=0.013;entryY=0.006;entryDx=0;entryDy=0;entryPerimeter=0;" parent="wZY0w088OBqGby_yj9VT-1" source="wZY0w088OBqGby_yj9VT-56" target="wZY0w088OBqGby_yj9VT-70" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="485" y="1226" as="targetPoint" />
            <Array as="points">
              <mxPoint x="425" y="1267" />
              <mxPoint x="425" y="1217" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-55" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="wZY0w088OBqGby_yj9VT-1" source="wZY0w088OBqGby_yj9VT-56" target="wZY0w088OBqGby_yj9VT-73" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="424" y="1267" />
              <mxPoint x="424" y="1331" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-56" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IStrategyRepository&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ queryStrategyRich(Long strategyId&lt;span&gt;) : StrategyRich&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span&gt;+ queryAwardInfo(String awardId): Award&lt;/span&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;sketch=1;rounded=0;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="44" y="1220" width="309" height="94" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-57" value="StrategyRepository" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6c8ebf;swimlaneLine=0;fillColor=#dae8fc;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="34" y="1451" width="319" height="147" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-58" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="wZY0w088OBqGby_yj9VT-57" vertex="1">
          <mxGeometry y="26" width="319" height="8" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-59" value="- awardDao: IAwardDao&#xa;- strategyDao:IStrategyDao&#xa;- strategyDetailDao: IStrategyDetailDao" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="wZY0w088OBqGby_yj9VT-57" vertex="1">
          <mxGeometry y="34" width="319" height="53" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-60" value="+ queryStrategyRich(Long strategyId) : StrategyRich&#xa;+ queryAwardInfo(String awardId): Award&#xa;" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="wZY0w088OBqGby_yj9VT-57" vertex="1">
          <mxGeometry y="87" width="319" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-61" value="" style="endArrow=block;dashed=1;endFill=0;endSize=10;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=12;entryX=0.475;entryY=1.035;entryDx=0;entryDy=0;entryPerimeter=0;" parent="wZY0w088OBqGby_yj9VT-1" source="wZY0w088OBqGby_yj9VT-57" target="wZY0w088OBqGby_yj9VT-56" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="310.63" y="1544.77" as="sourcePoint" />
            <mxPoint x="189.24200000000008" y="1409" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=10;endArrow=classic;endFill=1;" parent="wZY0w088OBqGby_yj9VT-1" target="wZY0w088OBqGby_yj9VT-56" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="199" y="1165" as="sourcePoint" />
            <mxPoint x="84.82999999999993" y="1172.004" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-63" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IAwardDao&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=#f8cecc;strokeColor=#b85450;sketch=1;rounded=0;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="453.25" y="1393" width="309" height="65" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-64" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IStrategyDetailDao&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=#f8cecc;strokeColor=#b85450;sketch=1;rounded=0;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="451.25" y="1485" width="309" height="65" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-65" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IStrategyDao&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=#f8cecc;strokeColor=#b85450;sketch=1;rounded=0;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="453.75" y="1580" width="309" height="65" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.004;entryY=0.398;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;" parent="wZY0w088OBqGby_yj9VT-1" source="wZY0w088OBqGby_yj9VT-59" target="wZY0w088OBqGby_yj9VT-64" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-67" value="" style="endArrow=classic;endFill=1;endSize=6;html=1;rounded=1;fontFamily=Comic Sans MS;fontSize=12;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="wZY0w088OBqGby_yj9VT-1" target="wZY0w088OBqGby_yj9VT-65" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="399" y="1512" as="sourcePoint" />
            <mxPoint x="498" y="1545" as="targetPoint" />
            <Array as="points">
              <mxPoint x="399" y="1512" />
              <mxPoint x="399" y="1613" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-68" value="" style="endArrow=classic;endFill=1;endSize=6;html=1;rounded=1;fontFamily=Comic Sans MS;fontSize=12;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="wZY0w088OBqGby_yj9VT-1" target="wZY0w088OBqGby_yj9VT-63" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="399" y="1513" as="sourcePoint" />
            <mxPoint x="498" y="1494" as="targetPoint" />
            <Array as="points">
              <mxPoint x="399" y="1426" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-69" value="Award" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=#f8cecc;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="470.5" y="1191" width="160" height="52" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-70" value="" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="wZY0w088OBqGby_yj9VT-69" vertex="1">
          <mxGeometry y="26" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-71" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0.011;entryY=0.223;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="wZY0w088OBqGby_yj9VT-1" source="wZY0w088OBqGby_yj9VT-72" target="wZY0w088OBqGby_yj9VT-75" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-72" value="StrategyRich" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="462" y="1270" width="173" height="96" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-73" value="- strategyId ： Long&#xa;- strategy: Strategy&#xa;- strategyDetailList: &#xa;List&lt;StrategyDetail&gt;" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="wZY0w088OBqGby_yj9VT-72" vertex="1">
          <mxGeometry y="26" width="173" height="70" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-74" value="Strategy" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=#f8cecc;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="667" y="1262" width="160" height="52" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-75" value="" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="wZY0w088OBqGby_yj9VT-74" vertex="1">
          <mxGeometry y="26" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-76" value="StrategyDetail" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=#f8cecc;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="667" y="1323" width="160" height="52" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-77" value="" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="wZY0w088OBqGby_yj9VT-76" vertex="1">
          <mxGeometry y="26" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;exitX=1;exitY=0.757;exitDx=0;exitDy=0;exitPerimeter=0;" parent="wZY0w088OBqGby_yj9VT-1" source="wZY0w088OBqGby_yj9VT-73" target="wZY0w088OBqGby_yj9VT-76" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-79" value="抽奖算法领域层" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="40.25" y="74" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-80" value="抽奖执行领域层" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="42.25" y="138" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="wZY0w088OBqGby_yj9VT-81" value="基础层" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#b85450;fillColor=#f8cecc;" parent="wZY0w088OBqGby_yj9VT-1" vertex="1">
          <mxGeometry x="40.25" y="6" width="120" height="45" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第五章流程图" id="OSTlf8gEEJxMjqmaIhO1">
    <mxGraphModel dx="2327" dy="887" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="KDUHspmscRbwrcqbiROz-0" />
        <mxCell id="KDUHspmscRbwrcqbiROz-1" parent="KDUHspmscRbwrcqbiROz-0" />
        <mxCell id="oAvYLEznCvBorLOFh9la-22" value="doDrawExec流程" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="308" y="12" width="459" height="858" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-8" value="init()流程" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#00FF00;strokeColor=#00FF00;fillColor=none;gradientColor=none;verticalAlign=top;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-811" y="222" width="186" height="185" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-4" value="&lt;font color=&quot;#00ff00&quot;&gt;&lt;b&gt;DrawExecImpl&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#00FF00;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-818" y="57" width="630" height="92" as="geometry" />
        </mxCell>
        <mxCell id="iSgghEHzwN340QR4OC5Z-1" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="KDUHspmscRbwrcqbiROz-1" source="YL-BXlEYJRT24HLLxVpZ-5" target="YL-BXlEYJRT24HLLxVpZ-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-5" value="&lt;font color=&quot;#00ff00&quot;&gt;&lt;b&gt;DrawBase&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#00FF00;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-794.5" y="255" width="151" height="35" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-6" value="&lt;font color=&quot;#00ff00&quot;&gt;&lt;b&gt;DrawConfig&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#00FF00;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-794.5" y="322" width="150" height="69" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-9" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="KDUHspmscRbwrcqbiROz-1" source="YL-BXlEYJRT24HLLxVpZ-7" target="YL-BXlEYJRT24HLLxVpZ-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-7" value="init()" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#00FF00;strokeColor=#00FF00;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-777" y="98" width="114" height="28" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-15" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="KDUHspmscRbwrcqbiROz-1" source="YL-BXlEYJRT24HLLxVpZ-10" target="YL-BXlEYJRT24HLLxVpZ-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-10" value="init()" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#00FF00;strokeColor=#00FF00;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-776.5" y="359" width="114" height="28" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-11" value="init()流程" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#00FF00;strokeColor=#00FF00;fillColor=none;gradientColor=none;verticalAlign=top;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-813" y="444" width="186" height="282" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-17" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="KDUHspmscRbwrcqbiROz-1" source="YL-BXlEYJRT24HLLxVpZ-12" target="YL-BXlEYJRT24HLLxVpZ-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-22" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="KDUHspmscRbwrcqbiROz-1" source="YL-BXlEYJRT24HLLxVpZ-12" target="YL-BXlEYJRT24HLLxVpZ-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-12" value="&lt;font color=&quot;#00ff00&quot;&gt;注入抽奖算法list&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#00FF00;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-795.5" y="488" width="151" height="35" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-19" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="KDUHspmscRbwrcqbiROz-1" source="YL-BXlEYJRT24HLLxVpZ-16" target="YL-BXlEYJRT24HLLxVpZ-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-16" value="抽奖算法类是否有&lt;br&gt;Strategy注解" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#00FF00;fillColor=none;verticalAlign=top;gradientColor=none;html=1;fontColor=#00FF00;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-795.5" y="568" width="151" height="48" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-24" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="KDUHspmscRbwrcqbiROz-1" source="YL-BXlEYJRT24HLLxVpZ-18" target="YL-BXlEYJRT24HLLxVpZ-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-18" value="放入抽奖策略组map" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#00FF00;fillColor=none;verticalAlign=top;gradientColor=none;html=1;fontColor=#00FF00;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-795.5" y="670" width="151" height="34" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-20" value="有" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#00FF00;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-716" y="628" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-26" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="KDUHspmscRbwrcqbiROz-1" source="YL-BXlEYJRT24HLLxVpZ-21" target="YL-BXlEYJRT24HLLxVpZ-25" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-287" y="468" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-28" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="KDUHspmscRbwrcqbiROz-1" source="YL-BXlEYJRT24HLLxVpZ-21" target="YL-BXlEYJRT24HLLxVpZ-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-21" value="List&amp;lt;IDrawAlgorithm&amp;gt;&amp;nbsp;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#00FF00;fillColor=none;verticalAlign=top;gradientColor=none;html=1;fontColor=#00FF00;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-567" y="488" width="183" height="35" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-23" value="&lt;font style=&quot;font-size: 12px&quot;&gt;Map&amp;lt;Integer, IDrawAlgorithm&amp;gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#00FF00;fillColor=none;verticalAlign=top;gradientColor=none;html=1;fontColor=#00FF00;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-811" y="751" width="193" height="34" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-25" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;DefaultRateRandomDrawAlgorithm&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#00FF00;fillColor=none;verticalAlign=top;gradientColor=none;html=1;fontColor=#00FF00;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-575" y="377" width="199" height="35" as="geometry" />
        </mxCell>
        <mxCell id="YL-BXlEYJRT24HLLxVpZ-27" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;SingleRateRandomDrawAlgorithm&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#00FF00;fillColor=none;verticalAlign=top;gradientColor=none;html=1;fontColor=#00FF00;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-572" y="574" width="193" height="35" as="geometry" />
        </mxCell>
        <mxCell id="iSgghEHzwN340QR4OC5Z-0" value="初始化抽奖算法" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-770" y="72" width="89" height="30" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-18" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.474;entryY=-0.003;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="KDUHspmscRbwrcqbiROz-1" source="iSgghEHzwN340QR4OC5Z-2" target="oAvYLEznCvBorLOFh9la-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-19" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="KDUHspmscRbwrcqbiROz-1" source="iSgghEHzwN340QR4OC5Z-2" target="oAvYLEznCvBorLOFh9la-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-23" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="KDUHspmscRbwrcqbiROz-1" source="iSgghEHzwN340QR4OC5Z-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-15" y="113" as="sourcePoint" />
            <mxPoint x="302" y="108" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iSgghEHzwN340QR4OC5Z-2" value="doDrawExec()" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-404" y="94" width="126" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iSgghEHzwN340QR4OC5Z-3" value="执行抽奖" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-388" y="68" width="89" height="30" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-9" value="DrawResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#3399FF;swimlaneLine=1;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-310.5" y="185" width="252" height="130" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-10" value="- uId: String  //用户id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="oAvYLEznCvBorLOFh9la-9" vertex="1">
          <mxGeometry y="26" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-11" value="- strategyId: Long //策略id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="oAvYLEznCvBorLOFh9la-9" vertex="1">
          <mxGeometry y="52" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-12" value="- awardId: String  //奖品id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="oAvYLEznCvBorLOFh9la-9" vertex="1">
          <mxGeometry y="78" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-13" value="- awardName : String //奖品名称" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="oAvYLEznCvBorLOFh9la-9" vertex="1">
          <mxGeometry y="104" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-14" value="DrawReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#3399FF;swimlaneLine=1;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-597" y="195" width="252" height="78" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-15" value="- uId: String  // 用户id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="oAvYLEznCvBorLOFh9la-14" vertex="1">
          <mxGeometry y="26" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-16" value="- strategyId: Long  //策略id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="oAvYLEznCvBorLOFh9la-14" vertex="1">
          <mxGeometry y="52" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-20" value="入参" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-597" y="162" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-21" value="返回值" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-317" y="162" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-26" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="KDUHspmscRbwrcqbiROz-1" source="oAvYLEznCvBorLOFh9la-24" target="oAvYLEznCvBorLOFh9la-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-24" value="&amp;nbsp;1.根据抽奖策略id查询抽奖聚合信息" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="342" y="71" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-28" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="KDUHspmscRbwrcqbiROz-1" source="oAvYLEznCvBorLOFh9la-25" target="KAFgKxwYwCAY4D2n9Bq7-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="467" y="297" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-25" value="2.初始化和校验数据" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="342" y="185" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-30" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="KDUHspmscRbwrcqbiROz-1" source="oAvYLEznCvBorLOFh9la-27" target="oAvYLEznCvBorLOFh9la-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-27" value="4.封装返回" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="342" y="417" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-32" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="KDUHspmscRbwrcqbiROz-1" source="oAvYLEznCvBorLOFh9la-29" target="oAvYLEznCvBorLOFh9la-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-34" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.525;exitDx=0;exitDy=0;exitPerimeter=0;" parent="KDUHspmscRbwrcqbiROz-1" source="oAvYLEznCvBorLOFh9la-29" target="oAvYLEznCvBorLOFh9la-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-29" value="是否返回中奖id" style="rhombus;whiteSpace=wrap;html=1;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="392" y="544" width="158" height="80" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-31" value="4.2 若返回抽奖id，根据抽奖id查询奖品信息,在封装返回" style="whiteSpace=wrap;html=1;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="392" y="713" width="158" height="60" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-33" value="4.1 若返回&quot;&quot;，&quot;未中奖&quot; 直接封装返回" style="whiteSpace=wrap;html=1;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="627" y="560" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-35" value="是" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="460" y="647" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-36" value="否" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="548" y="549" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="oAvYLEznCvBorLOFh9la-37" value="&lt;span style=&quot;background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;IStrategyRepository&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="798" y="39" width="257" height="92" as="geometry" />
        </mxCell>
        <mxCell id="KAFgKxwYwCAY4D2n9Bq7-0" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="KDUHspmscRbwrcqbiROz-1" source="M53LYtq87z1iahJ4hsaa-0" target="oAvYLEznCvBorLOFh9la-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="M53LYtq87z1iahJ4hsaa-0" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&amp;nbsp;queryStrategyRich(Long strategyId&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="816.5" y="85" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="KAFgKxwYwCAY4D2n9Bq7-3" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="KDUHspmscRbwrcqbiROz-1" source="KAFgKxwYwCAY4D2n9Bq7-2" target="oAvYLEznCvBorLOFh9la-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0B-pyl49Mc1vlvB2PiQm-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="KDUHspmscRbwrcqbiROz-1" source="KAFgKxwYwCAY4D2n9Bq7-2" target="SwPTbbFY1TbkHsI59tHf-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0B-pyl49Mc1vlvB2PiQm-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="KDUHspmscRbwrcqbiROz-1" source="KAFgKxwYwCAY4D2n9Bq7-2" target="0B-pyl49Mc1vlvB2PiQm-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KAFgKxwYwCAY4D2n9Bq7-2" value="3.执行抽奖策略" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="342" y="301" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="KAFgKxwYwCAY4D2n9Bq7-8" value="&lt;span style=&quot;background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;DrawBase&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="795" y="154" width="257" height="92" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-0" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="KDUHspmscRbwrcqbiROz-1" source="KAFgKxwYwCAY4D2n9Bq7-9" target="oAvYLEznCvBorLOFh9la-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-2" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="KDUHspmscRbwrcqbiROz-1" source="KAFgKxwYwCAY4D2n9Bq7-9" target="0JIk-trch8FnQZe3esc3-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KAFgKxwYwCAY4D2n9Bq7-9" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;chechAndInitRateData()&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="820" y="197" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-1" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;chechAndInitRateData流程&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="795" y="345" width="295" height="516" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-5" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="KDUHspmscRbwrcqbiROz-1" source="0JIk-trch8FnQZe3esc3-3" target="0JIk-trch8FnQZe3esc3-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-3" value="&amp;nbsp; &amp;nbsp; 1.从抽奖策略组中获取具体抽奖策略算法，若为null，直接返回" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="807" y="400" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-7" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="KDUHspmscRbwrcqbiROz-1" source="0JIk-trch8FnQZe3esc3-4" target="0JIk-trch8FnQZe3esc3-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-4" value="2.判断当前抽奖策略算法是否已经初始化当前抽奖策略" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="807" y="579" width="261.5" height="52" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-6" value="3.未初始化则进行初始化" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="804.5" y="758" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-8" value="&lt;span style=&quot;background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;IStrategyRepository&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="328.5" y="894" width="257" height="92" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-10" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="KDUHspmscRbwrcqbiROz-1" source="0JIk-trch8FnQZe3esc3-9" target="oAvYLEznCvBorLOFh9la-31" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="575" y="954" />
              <mxPoint x="575" y="743" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-9" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&lt;span&gt;&#x9;&lt;/span&gt; queryAwardInfo(String awardId)&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="342" y="940" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-14" value="&lt;b&gt;BaseAlgorithm&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="1133" y="549" width="257" height="182" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-16" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="KDUHspmscRbwrcqbiROz-1" source="0JIk-trch8FnQZe3esc3-15" target="0JIk-trch8FnQZe3esc3-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-15" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;isExistRateTuple(Long strategyId)&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="1158" y="592" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-18" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="KDUHspmscRbwrcqbiROz-1" source="0JIk-trch8FnQZe3esc3-17" target="0JIk-trch8FnQZe3esc3-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="998" y="695" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-20" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="KDUHspmscRbwrcqbiROz-1" source="0JIk-trch8FnQZe3esc3-17" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1473" y="695" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-17" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;initRateTuple()&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="1158" y="681" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-19" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;initRateTuple()流程&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="1477" y="422" width="336" height="468" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-23" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.508;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="KDUHspmscRbwrcqbiROz-1" source="0JIk-trch8FnQZe3esc3-21" target="0JIk-trch8FnQZe3esc3-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-21" value="&amp;nbsp;1.存放策略id、奖品信息的map" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="1500" y="469" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-25" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="KDUHspmscRbwrcqbiROz-1" source="0JIk-trch8FnQZe3esc3-22" target="0JIk-trch8FnQZe3esc3-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-22" value="&amp;nbsp;2.创建策略id、128个奖品id散列数组的map" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="1489" y="592" width="284" height="52" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-27" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="KDUHspmscRbwrcqbiROz-1" source="0JIk-trch8FnQZe3esc3-24" target="0JIk-trch8FnQZe3esc3-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-24" value="&amp;nbsp;3.当前奖品的中奖概率*100，得到rateVal" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="1492" y="706" width="284" height="52" as="geometry" />
        </mxCell>
        <mxCell id="0JIk-trch8FnQZe3esc3-26" value="&amp;nbsp;4.Hash(概率范围内的每个值),&lt;br&gt;array[hash值] = 当前奖品id" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="1495" y="812" width="284" height="52" as="geometry" />
        </mxCell>
        <mxCell id="2caPFLJjIIMGBSx1-Wbq-7" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=14;fontColor=#000000;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="KDUHspmscRbwrcqbiROz-1" source="2caPFLJjIIMGBSx1-Wbq-0" target="2caPFLJjIIMGBSx1-Wbq-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2150" y="493" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2caPFLJjIIMGBSx1-Wbq-0" value="&lt;div style=&quot;text-align: left ; font-size: 12px&quot;&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;DefaultRateRandomDrawAlgorithm randomDrawAlgorithm = new DefaultRateRandomDrawAlgorithm();&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;// 奖品信息&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;List&amp;lt;AwardRateInfo&amp;gt; strategyList = new ArrayList&amp;lt;&amp;gt;();&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;strategyList.add(new AwardRateInfo(&quot;一等奖：IMac&quot;, new BigDecimal(&quot;0.05&quot;)));&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;strategyList.add(new AwardRateInfo(&quot;二等奖：iphone&quot;, new BigDecimal(&quot;0.15&quot;)));&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;strategyList.add(new AwardRateInfo(&quot;三等奖：ipad&quot;, new BigDecimal(&quot;0.20&quot;)));&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;strategyList.add(new AwardRateInfo(&quot;四等奖：AirPods&quot;, new BigDecimal(&quot;0.25&quot;)));&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;strategyList.add(new AwardRateInfo(&quot;五等奖：充电宝&quot;, new BigDecimal(&quot;0.35&quot;)));&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;// 初始数据&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;randomDrawAlgorithm.initRateTuple(100001L, strategyList);&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#000000;fillColor=none;gradientColor=none;verticalAlign=top;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="1844" y="536.5" width="478" height="197" as="geometry" />
        </mxCell>
        <mxCell id="2caPFLJjIIMGBSx1-Wbq-3" value="&lt;div style=&quot;text-align: left ; font-size: 14px&quot;&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#000000&quot;&gt;奖品:null 个数:28坐标：[0, 1, 2, 15, 16, 17, 29, 30, 31, 43, 44, 45, 57, 58, 59, 71, 72, 73, 74, 86, 87, 88, 100, 101, 102, 114, 115, 116]&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#000000&quot;&gt;奖品:三等奖：ipad 个数:20坐标：[10, 11, 24, 25, 26, 39, 40, 53, 54, 67, 68, 81, 82, 95, 96, 97, 110, 111, 124, 125]&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#000000&quot;&gt;奖品:四等奖：AirPods 个数:25坐标：[7, 8, 9, 22, 23, 36, 37, 38, 50, 51, 52, 64, 65, 66, 78, 79, 80, 93, 94, 107, 108, 109, 121, 122, 123]&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#000000&quot;&gt;奖品:一等奖：IMac 个数:5坐标：[14, 28, 42, 85, 99]&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#000000&quot;&gt;奖品:五等奖：充电宝个数:35坐标：[3, 4, 5, 6, 18, 19, 20, 21, 32, 33, 34, 35, 46, 47, 48, 49, 60, 61, 62, 63, 75, 76, 77, 89, 90, 91, 92, 103, 104, 105, 106, 117, 118, 119, 120]&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#000000&quot;&gt;奖品:二等奖：iphone 个数:15坐标：[12, 13, 27, 41, 55, 56, 69, 70, 83, 84, 98, 112, 113, 126, 127]&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#000000;fillColor=none;gradientColor=none;verticalAlign=top;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="1742.5" y="918" width="681" height="205" as="geometry" />
        </mxCell>
        <mxCell id="SwPTbbFY1TbkHsI59tHf-0" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;SingleRateRandomDrawAlgorithm&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-313" y="412" width="257" height="92" as="geometry" />
        </mxCell>
        <mxCell id="SwPTbbFY1TbkHsI59tHf-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="KDUHspmscRbwrcqbiROz-1" source="SwPTbbFY1TbkHsI59tHf-1" target="SwPTbbFY1TbkHsI59tHf-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SwPTbbFY1TbkHsI59tHf-1" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-294.5" y="458" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="SwPTbbFY1TbkHsI59tHf-2" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)流程&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-309.37" y="566" width="249.75" height="367" as="geometry" />
        </mxCell>
        <mxCell id="SwPTbbFY1TbkHsI59tHf-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="KDUHspmscRbwrcqbiROz-1" source="SwPTbbFY1TbkHsI59tHf-4" target="SwPTbbFY1TbkHsI59tHf-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SwPTbbFY1TbkHsI59tHf-4" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;1.获取当前策略的元数组&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-295.62" y="619" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="SwPTbbFY1TbkHsI59tHf-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="KDUHspmscRbwrcqbiROz-1" source="SwPTbbFY1TbkHsI59tHf-5" target="SwPTbbFY1TbkHsI59tHf-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SwPTbbFY1TbkHsI59tHf-5" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;2.用SecureRandom生成一个随机数&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-295.62" y="683" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="SwPTbbFY1TbkHsI59tHf-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="KDUHspmscRbwrcqbiROz-1" source="SwPTbbFY1TbkHsI59tHf-7" target="SwPTbbFY1TbkHsI59tHf-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SwPTbbFY1TbkHsI59tHf-7" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;3.生成的随机数获取波那契（Fibonacci）散列法的下标值&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-295.62" y="747" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SwPTbbFY1TbkHsI59tHf-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="KDUHspmscRbwrcqbiROz-1" source="SwPTbbFY1TbkHsI59tHf-9" target="SwPTbbFY1TbkHsI59tHf-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SwPTbbFY1TbkHsI59tHf-9" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;4.通过下标获取奖品id&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-295.62" y="813" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="SwPTbbFY1TbkHsI59tHf-11" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;div&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;5.如在奖品排除id中，返回未中奖&amp;nbsp; ， 如不在返回奖品id&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="-295.62" y="877" width="220" height="44" as="geometry" />
        </mxCell>
        <mxCell id="0B-pyl49Mc1vlvB2PiQm-0" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;DefaultRateRandomDrawAlgorithm&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry y="412" width="257" height="92" as="geometry" />
        </mxCell>
        <mxCell id="0B-pyl49Mc1vlvB2PiQm-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="KDUHspmscRbwrcqbiROz-1" source="0B-pyl49Mc1vlvB2PiQm-2" target="0B-pyl49Mc1vlvB2PiQm-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0B-pyl49Mc1vlvB2PiQm-2" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="18.5" y="458" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="0B-pyl49Mc1vlvB2PiQm-3" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)流程&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="4" y="566" width="249" height="367" as="geometry" />
        </mxCell>
        <mxCell id="0B-pyl49Mc1vlvB2PiQm-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="KDUHspmscRbwrcqbiROz-1" source="0B-pyl49Mc1vlvB2PiQm-5" target="0B-pyl49Mc1vlvB2PiQm-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0B-pyl49Mc1vlvB2PiQm-5" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;1.获取所有抽奖概率信息与排除的id，重新计算总共的概率&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="18.5" y="605" width="220" height="44" as="geometry" />
        </mxCell>
        <mxCell id="0B-pyl49Mc1vlvB2PiQm-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="KDUHspmscRbwrcqbiROz-1" source="0B-pyl49Mc1vlvB2PiQm-7" target="0B-pyl49Mc1vlvB2PiQm-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0B-pyl49Mc1vlvB2PiQm-7" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;2.若新的抽奖概率信息只剩下0返回&quot;&quot;或者1个直接返回奖品id&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="18.5" y="679" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0B-pyl49Mc1vlvB2PiQm-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="KDUHspmscRbwrcqbiROz-1" source="0B-pyl49Mc1vlvB2PiQm-9" target="0B-pyl49Mc1vlvB2PiQm-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0B-pyl49Mc1vlvB2PiQm-9" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;3.生成随机数&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="18.5" y="749" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0B-pyl49Mc1vlvB2PiQm-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="KDUHspmscRbwrcqbiROz-1" source="0B-pyl49Mc1vlvB2PiQm-11" target="0B-pyl49Mc1vlvB2PiQm-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0B-pyl49Mc1vlvB2PiQm-11" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;4.重新计算当前奖品的概率&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="18.5" y="815" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="0B-pyl49Mc1vlvB2PiQm-12" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;div&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;5.比较随机数和当前奖品概率的范围，返回满足的&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="KDUHspmscRbwrcqbiROz-1" vertex="1">
          <mxGeometry x="18.5" y="879" width="220" height="44" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第六章流程图" id="G0LsnREEoq4RkKZ_4T-A">
    <mxGraphModel dx="5370" dy="1900" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-0" />
        <mxCell id="DzT3CIV36KvdyMCAsBbq-1" parent="DzT3CIV36KvdyMCAsBbq-0" />
        <mxCell id="OOqdxl9vd3Ukq8QyhE3R-1" value="&lt;font style=&quot;font-size: 16px&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;执行抽奖领域&lt;/b&gt;&lt;/font&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;strokeColor=#007FFF;fillColor=none;width=113;height=39;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1893" y="54" width="3205" height="756" as="geometry" />
        </mxCell>
        <mxCell id="PvTnGCS2RSkNRaGeY3k7-6" value="&lt;span style=&quot;background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;IStrategyRepository&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="956" y="172.5" width="257" height="152.5" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-2" value="doDrawExec流程" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="88" y="152" width="356" height="631" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-4" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;DrawExecImpl&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fillColor=none;verticalAlign=top;gradientColor=none;html=1;strokeColor=#007FFF;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-995" y="157" width="460" height="309" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-28" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.474;entryY=-0.003;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="DzT3CIV36KvdyMCAsBbq-1" source="DzT3CIV36KvdyMCAsBbq-31" target="DzT3CIV36KvdyMCAsBbq-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-29" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="DzT3CIV36KvdyMCAsBbq-1" source="DzT3CIV36KvdyMCAsBbq-31" target="DzT3CIV36KvdyMCAsBbq-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-30" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.012;entryY=0.418;entryDx=0;entryDy=0;entryPerimeter=0;" parent="DzT3CIV36KvdyMCAsBbq-1" source="DzT3CIV36KvdyMCAsBbq-31" target="FF-MtrEnGQYJ9FkfzvfG-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-379" y="242" as="sourcePoint" />
            <mxPoint x="-481" y="237" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-31" value="doDrawExec()" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-860" y="398" width="231" height="28" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-32" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;start:执行抽奖&lt;/font&gt;&lt;/b&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-863" y="365" width="127" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-33" value="DrawResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#3399FF;swimlaneLine=1;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1023" y="534" width="252" height="130" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-34" value="- uId: String  //用户id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="DzT3CIV36KvdyMCAsBbq-33" vertex="1">
          <mxGeometry y="26" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-35" value="- strategyId: Long //策略id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="DzT3CIV36KvdyMCAsBbq-33" vertex="1">
          <mxGeometry y="52" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-36" value="- drawState: Integer //中奖状态" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="DzT3CIV36KvdyMCAsBbq-33" vertex="1">
          <mxGeometry y="78" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-37" value="- drawAwardInfo : DrawAwardInfo" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="DzT3CIV36KvdyMCAsBbq-33" vertex="1">
          <mxGeometry y="104" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-38" value="DrawReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#3399FF;swimlaneLine=1;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-725" y="545" width="252" height="78" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-39" value="- uId: String  // 用户id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="DzT3CIV36KvdyMCAsBbq-38" vertex="1">
          <mxGeometry y="26" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-40" value="- strategyId: Long  //策略id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="DzT3CIV36KvdyMCAsBbq-38" vertex="1">
          <mxGeometry y="52" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-41" value="入参" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-567" y="515" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-42" value="返回值" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1023" y="504" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-43" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="DzT3CIV36KvdyMCAsBbq-1" source="DzT3CIV36KvdyMCAsBbq-44" target="DzT3CIV36KvdyMCAsBbq-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-44" value="&amp;nbsp;1.根据抽奖策略id查询抽奖聚合信息" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="122" y="211" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-45" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="DzT3CIV36KvdyMCAsBbq-1" source="DzT3CIV36KvdyMCAsBbq-46" target="DzT3CIV36KvdyMCAsBbq-62" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="247" y="437" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-46" value="2.初始化和校验数据" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="122" y="325" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-47" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="DzT3CIV36KvdyMCAsBbq-1" source="DzT3CIV36KvdyMCAsBbq-48" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="250.99999999999955" y="676.0000000000002" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-48" value="4.执行抽奖策略" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="122" y="557" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-56" value="&lt;b&gt;DrawStrategySupport&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="578" y="179" width="277" height="159" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-57" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="DzT3CIV36KvdyMCAsBbq-1" source="DzT3CIV36KvdyMCAsBbq-58" target="DzT3CIV36KvdyMCAsBbq-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-58" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&amp;nbsp;queryStrategyRich(Long strategyId&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="596.5" y="225" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-59" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="DzT3CIV36KvdyMCAsBbq-1" source="DzT3CIV36KvdyMCAsBbq-62" target="DzT3CIV36KvdyMCAsBbq-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-62" value="3.获取不在抽奖范围内的列表" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="122" y="441" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-67" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;chechAndInitRateData流程&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-3" y="974" width="295" height="516" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-68" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="DzT3CIV36KvdyMCAsBbq-1" source="DzT3CIV36KvdyMCAsBbq-69" target="DzT3CIV36KvdyMCAsBbq-71" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-69" value="&amp;nbsp; &amp;nbsp; 1.从抽奖策略组中获取具体抽奖策略算法，若为null，直接返回" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="9" y="1029" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-70" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="DzT3CIV36KvdyMCAsBbq-1" source="DzT3CIV36KvdyMCAsBbq-71" target="DzT3CIV36KvdyMCAsBbq-72" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-71" value="2.判断当前抽奖策略算法是否已经初始化当前抽奖策略" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="9" y="1208" width="261.5" height="52" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-72" value="3.未初始化则进行初始化" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="6.5" y="1387" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="cw32tFCsAzcIqrjLtdve-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="DzT3CIV36KvdyMCAsBbq-1" source="DzT3CIV36KvdyMCAsBbq-75" target="cw32tFCsAzcIqrjLtdve-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-75" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&lt;span&gt;&#x9;&lt;/span&gt; queryAwardInfo(String awardId)&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="974.5" y="284" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-76" value="&lt;b&gt;BaseAlgorithm&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-409" y="992" width="257" height="182" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-77" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="DzT3CIV36KvdyMCAsBbq-1" source="DzT3CIV36KvdyMCAsBbq-78" target="DzT3CIV36KvdyMCAsBbq-69" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-72" y="1058.9999999999995" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-78" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;isExistRateTuple(Long strategyId)&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-384" y="1035" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-79" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="DzT3CIV36KvdyMCAsBbq-1" source="DzT3CIV36KvdyMCAsBbq-81" target="DzT3CIV36KvdyMCAsBbq-72" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-274" y="1413" />
            </Array>
            <mxPoint x="270" y="1032" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-80" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=1.001;entryY=0.324;entryDx=0;entryDy=0;entryPerimeter=0;" parent="DzT3CIV36KvdyMCAsBbq-1" source="DzT3CIV36KvdyMCAsBbq-81" target="DzT3CIV36KvdyMCAsBbq-82" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="570" y="1280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-81" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;initRateTuple()&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-384" y="1124" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-82" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;initRateTuple()流程&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-838" y="992" width="336" height="468" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-83" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.508;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="DzT3CIV36KvdyMCAsBbq-1" source="DzT3CIV36KvdyMCAsBbq-84" target="DzT3CIV36KvdyMCAsBbq-86" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-84" value="&amp;nbsp;1.存放策略id、奖品信息的map" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-815" y="1039" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-85" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="DzT3CIV36KvdyMCAsBbq-1" source="DzT3CIV36KvdyMCAsBbq-86" target="DzT3CIV36KvdyMCAsBbq-88" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-86" value="&amp;nbsp;2.创建策略id、128个奖品id散列数组的map" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-826" y="1162" width="284" height="52" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-87" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="DzT3CIV36KvdyMCAsBbq-1" source="DzT3CIV36KvdyMCAsBbq-88" target="DzT3CIV36KvdyMCAsBbq-89" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-88" value="&amp;nbsp;3.当前奖品的中奖概率*100，得到rateVal" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-823" y="1276" width="284" height="52" as="geometry" />
        </mxCell>
        <mxCell id="DzT3CIV36KvdyMCAsBbq-89" value="&amp;nbsp;4.Hash(概率范围内的每个值),&lt;br&gt;array[hash值] = 当前奖品id" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-820" y="1382" width="284" height="52" as="geometry" />
        </mxCell>
        <mxCell id="RxVOgOoF6G75U3Zh3tw9-0" value="DrawAwardInfo" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;swimlaneLine=1;fillColor=none;strokeColor=#007FFF;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1252" y="716" width="254" height="78" as="geometry" />
        </mxCell>
        <mxCell id="RxVOgOoF6G75U3Zh3tw9-1" value="- awardId: String" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="RxVOgOoF6G75U3Zh3tw9-0" vertex="1">
          <mxGeometry y="26" width="254" height="26" as="geometry" />
        </mxCell>
        <mxCell id="RxVOgOoF6G75U3Zh3tw9-2" value="- awardName : String" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="RxVOgOoF6G75U3Zh3tw9-0" vertex="1">
          <mxGeometry y="52" width="254" height="26" as="geometry" />
        </mxCell>
        <mxCell id="FF-MtrEnGQYJ9FkfzvfG-0" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="DzT3CIV36KvdyMCAsBbq-1" source="DzT3CIV36KvdyMCAsBbq-37" target="RxVOgOoF6G75U3Zh3tw9-0" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-752.5" y="485.0000000000001" as="sourcePoint" />
            <mxPoint x="-887" y="544" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FF-MtrEnGQYJ9FkfzvfG-1" value="&lt;span style=&quot;font-style: italic ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot; color=&quot;#007fff&quot;&gt;AbstractDrawBase&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fillColor=none;verticalAlign=top;gradientColor=none;html=1;strokeColor=#007FFF;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-335" y="153" width="342" height="627" as="geometry" />
        </mxCell>
        <mxCell id="PvTnGCS2RSkNRaGeY3k7-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="DzT3CIV36KvdyMCAsBbq-1" source="FF-MtrEnGQYJ9FkfzvfG-2" target="DzT3CIV36KvdyMCAsBbq-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FF-MtrEnGQYJ9FkfzvfG-2" value="doDrawExec()" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-274.5" y="223" width="231" height="28" as="geometry" />
        </mxCell>
        <mxCell id="PvTnGCS2RSkNRaGeY3k7-0" value="模板模式定义抽奖流程" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-269" y="193" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PvTnGCS2RSkNRaGeY3k7-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;endSize=14;startSize=14;" parent="DzT3CIV36KvdyMCAsBbq-1" source="PvTnGCS2RSkNRaGeY3k7-2" target="DzT3CIV36KvdyMCAsBbq-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cw32tFCsAzcIqrjLtdve-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;entryX=0.827;entryY=0.169;entryDx=0;entryDy=0;entryPerimeter=0;" parent="DzT3CIV36KvdyMCAsBbq-1" source="PvTnGCS2RSkNRaGeY3k7-2" target="OOqdxl9vd3Ukq8QyhE3R-0" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-380.66656494140625" y="942.8333587646484" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-305" y="344" />
              <mxPoint x="-305" y="911" />
              <mxPoint x="53" y="911" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="PvTnGCS2RSkNRaGeY3k7-2" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;chechAndInitRateData()&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-276.5" y="337" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="PvTnGCS2RSkNRaGeY3k7-5" value="5.结果封装返回，若awardId为null未中奖，不为null查询奖品信息" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="115" y="682" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="PvTnGCS2RSkNRaGeY3k7-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="DzT3CIV36KvdyMCAsBbq-1" source="PvTnGCS2RSkNRaGeY3k7-7" target="DzT3CIV36KvdyMCAsBbq-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PvTnGCS2RSkNRaGeY3k7-7" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&amp;nbsp;queryStrategyRich(Long strategyId&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="971" y="225" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="PvTnGCS2RSkNRaGeY3k7-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="DzT3CIV36KvdyMCAsBbq-1" source="PvTnGCS2RSkNRaGeY3k7-11" target="DzT3CIV36KvdyMCAsBbq-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PvTnGCS2RSkNRaGeY3k7-11" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;queryExcludeAwardIds(）&amp;nbsp;&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-279" y="453" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="qyZPaB1Cq8o4iaZF0nFO-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="DzT3CIV36KvdyMCAsBbq-1" source="qyZPaB1Cq8o4iaZF0nFO-0" target="PvTnGCS2RSkNRaGeY3k7-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qyZPaB1Cq8o4iaZF0nFO-0" value="&lt;span style=&quot;color: rgb(0 , 127 , 255) ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;queryExcludeAwardIds(）&amp;nbsp;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-869" y="323" width="231" height="34" as="geometry" />
        </mxCell>
        <mxCell id="qyZPaB1Cq8o4iaZF0nFO-2" value="&lt;span style=&quot;background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;IStrategyRepository&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1325" y="280" width="305" height="141" as="geometry" />
        </mxCell>
        <mxCell id="OjVLEZHZZjx8rD3vEd8D-0" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="DzT3CIV36KvdyMCAsBbq-1" source="qyZPaB1Cq8o4iaZF0nFO-3" target="qyZPaB1Cq8o4iaZF0nFO-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8SVkvxdl_Ij5D8QaN6Sq-6" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="DzT3CIV36KvdyMCAsBbq-1" source="qyZPaB1Cq8o4iaZF0nFO-3" target="8SVkvxdl_Ij5D8QaN6Sq-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qyZPaB1Cq8o4iaZF0nFO-3" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;queryNoStockStrategyAwardList(&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1263.5" y="326" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="_23kxnEijA0qnuyomDqU-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="DzT3CIV36KvdyMCAsBbq-1" source="_23kxnEijA0qnuyomDqU-0" target="DzT3CIV36KvdyMCAsBbq-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_23kxnEijA0qnuyomDqU-0" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;drawAlgorithm()&lt;br&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-276.5" y="569" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="_23kxnEijA0qnuyomDqU-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="DzT3CIV36KvdyMCAsBbq-1" source="_23kxnEijA0qnuyomDqU-1" target="PvTnGCS2RSkNRaGeY3k7-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_23kxnEijA0qnuyomDqU-1" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;buildDrawResult()&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-279" y="688" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="cw32tFCsAzcIqrjLtdve-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="DzT3CIV36KvdyMCAsBbq-1" source="cw32tFCsAzcIqrjLtdve-0" target="_23kxnEijA0qnuyomDqU-0" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-419" y="254" />
              <mxPoint x="-419" y="583" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-27" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="DzT3CIV36KvdyMCAsBbq-1" source="cw32tFCsAzcIqrjLtdve-0" target="Ehbomfc6i1Ja9MNPz_Le-26" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1261" y="254" />
              <mxPoint x="-1261" y="254" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cw32tFCsAzcIqrjLtdve-0" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;drawAlgorithm()&lt;br&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-863" y="240" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="cw32tFCsAzcIqrjLtdve-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="DzT3CIV36KvdyMCAsBbq-1" source="cw32tFCsAzcIqrjLtdve-4" target="PvTnGCS2RSkNRaGeY3k7-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cw32tFCsAzcIqrjLtdve-4" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;queryAwardInfoByAwardId()&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="601" y="284" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-0" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;SingleRateRandomDrawAlgorithm&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1886" y="926.5" width="257" height="92" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="DzT3CIV36KvdyMCAsBbq-1" source="Ehbomfc6i1Ja9MNPz_Le-2" target="Ehbomfc6i1Ja9MNPz_Le-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-2" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1867.5" y="972.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-3" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)流程&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1881.25" y="1082.5" width="249.75" height="367" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="DzT3CIV36KvdyMCAsBbq-1" source="Ehbomfc6i1Ja9MNPz_Le-5" target="Ehbomfc6i1Ja9MNPz_Le-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-5" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;1.获取当前策略的元数组&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1867.5" y="1135.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="DzT3CIV36KvdyMCAsBbq-1" source="Ehbomfc6i1Ja9MNPz_Le-7" target="Ehbomfc6i1Ja9MNPz_Le-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-7" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;2.用SecureRandom生成一个随机数&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1867.5" y="1199.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="DzT3CIV36KvdyMCAsBbq-1" source="Ehbomfc6i1Ja9MNPz_Le-9" target="Ehbomfc6i1Ja9MNPz_Le-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-9" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;3.生成的随机数获取波那契（Fibonacci）散列法的下标值&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1867.5" y="1263.5" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="DzT3CIV36KvdyMCAsBbq-1" source="Ehbomfc6i1Ja9MNPz_Le-11" target="Ehbomfc6i1Ja9MNPz_Le-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-11" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;4.通过下标获取奖品id&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1867.5" y="1329.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-12" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;div&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;5.如在奖品排除id中，返回未中奖&amp;nbsp; ， 如不在返回奖品id&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1867.5" y="1393.5" width="220" height="44" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-13" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;DefaultRateRandomDrawAlgorithm&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1573" y="926.5" width="257" height="92" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="DzT3CIV36KvdyMCAsBbq-1" source="Ehbomfc6i1Ja9MNPz_Le-15" target="Ehbomfc6i1Ja9MNPz_Le-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-15" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1554.5" y="972.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-16" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)流程&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1569" y="1080.5" width="249" height="367" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-17" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="DzT3CIV36KvdyMCAsBbq-1" source="Ehbomfc6i1Ja9MNPz_Le-18" target="Ehbomfc6i1Ja9MNPz_Le-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-18" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;1.获取所有抽奖概率信息与排除的id，重新计算总共的概率&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1554.5" y="1119.5" width="220" height="44" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="DzT3CIV36KvdyMCAsBbq-1" source="Ehbomfc6i1Ja9MNPz_Le-20" target="Ehbomfc6i1Ja9MNPz_Le-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-20" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;2.若新的抽奖概率信息只剩下0返回&quot;&quot;或者1个直接返回奖品id&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1554.5" y="1193.5" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="DzT3CIV36KvdyMCAsBbq-1" source="Ehbomfc6i1Ja9MNPz_Le-22" target="Ehbomfc6i1Ja9MNPz_Le-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-22" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;3.生成随机数&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1554.5" y="1263.5" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="DzT3CIV36KvdyMCAsBbq-1" source="Ehbomfc6i1Ja9MNPz_Le-24" target="Ehbomfc6i1Ja9MNPz_Le-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-24" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;4.重新计算当前奖品的概率&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1554.5" y="1329.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-25" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;div&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;5.比较随机数和当前奖品概率的范围，返回满足的&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1554.5" y="1393.5" width="220" height="44" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-26" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;drawAlgorithm()流程&lt;br&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1787" y="183.75" width="395" height="351.25" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-30" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="DzT3CIV36KvdyMCAsBbq-1" source="Ehbomfc6i1Ja9MNPz_Le-28" target="Ehbomfc6i1Ja9MNPz_Le-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="DzT3CIV36KvdyMCAsBbq-1" source="Ehbomfc6i1Ja9MNPz_Le-28" target="Ehbomfc6i1Ja9MNPz_Le-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="DzT3CIV36KvdyMCAsBbq-1" source="Ehbomfc6i1Ja9MNPz_Le-28" target="Ehbomfc6i1Ja9MNPz_Le-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-28" value="&amp;nbsp;1.执行抽奖，为null直接返回" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1712" y="225" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="DzT3CIV36KvdyMCAsBbq-1" source="Ehbomfc6i1Ja9MNPz_Le-29" target="Ehbomfc6i1Ja9MNPz_Le-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-29" value="&amp;nbsp;2.扣减库存" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1712" y="357" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-31" value="3.扣减成功返回奖品id,失败返回null" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1712" y="463" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="DzT3CIV36KvdyMCAsBbq-1" source="Ehbomfc6i1Ja9MNPz_Le-35" target="Ehbomfc6i1Ja9MNPz_Le-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8SVkvxdl_Ij5D8QaN6Sq-2" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.475;exitY=0.94;exitDx=0;exitDy=0;exitPerimeter=0;" parent="DzT3CIV36KvdyMCAsBbq-1" source="Ehbomfc6i1Ja9MNPz_Le-35" target="8SVkvxdl_Ij5D8QaN6Sq-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ehbomfc6i1Ja9MNPz_Le-35" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;deductStock()&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1267" y="369" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="OOqdxl9vd3Ukq8QyhE3R-0" value="&lt;font style=&quot;font-size: 16px&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;抽奖算法领域&lt;/b&gt;&lt;/font&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;strokeColor=#007FFF;fillColor=none;width=113;height=39;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1900" y="871" width="2361" height="662" as="geometry" />
        </mxCell>
        <mxCell id="8SVkvxdl_Ij5D8QaN6Sq-1" value="&lt;div style=&quot;text-align: left; font-size: 14px;&quot;&gt;&lt;div style=&quot;&quot;&gt;UPDATE strategy_detail SET award_surplus_count = award_surplus_count - 1&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;WHERE strategy_id = #{strategyId} AND award_id = #{awardId} AND award_surplus_count &amp;gt; 0&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1364.5" y="538.5" width="321" height="89" as="geometry" />
        </mxCell>
        <mxCell id="8SVkvxdl_Ij5D8QaN6Sq-5" value="&lt;div style=&quot;font-size: 14px;&quot;&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;SELECT award_id&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; FROM strategy_detail&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; WHERE strategy_id = #{strategyId} AND&amp;nbsp;award_surplus_count&amp;nbsp;= 0&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;align=left;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-1363" y="79" width="335" height="102" as="geometry" />
        </mxCell>
        <mxCell id="4aD4HLMKUvPd7e5lRDS0-0" value="&lt;font style=&quot;font-size: 16px&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;执行抽奖领域&lt;/b&gt;&lt;/font&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;strokeColor=#007FFF;fillColor=none;width=113;height=39;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-2496" y="-47" width="3205" height="756" as="geometry" />
        </mxCell>
        <mxCell id="eon7AhKQ8DRpUk7gxeCH-0" value="&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;算法实现详细描述&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;#### 1. 设计思路：&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;  - 我们希望实现一个公平且高效的抽奖算法，能够根据不同奖品的概率进行抽奖。&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;  - 考虑到奖品可能有不同的概率，我们需要一个方法来处理这些概率，并确保随机选择时能够准确反映这些概率。&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;#### 2. 数据结构选择：&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;  - 使用 `List` 存储奖品的概率信息。&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;  - 使用 `BigDecimal` 处理概率值，确保计算过程中的精度。&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;  - 使用 `ConcurrentHashMap` 存储不同策略ID对应的奖品概率信息和散列结果，确保线程安全。&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;#### 3. 核心算法步骤：&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;  - **步骤1：初始化概率信息**&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;    - 在`initRateTuple`方法中，我们将每个奖品的概率信息初始化到一个数组中，以便后续快速查找和处理。&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;    - 使用斐波那契散列法来计算哈希索引，减少冲突。&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;    - 将每个奖品的概率范围填充到哈希数组中。&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;  - **步骤2：执行抽奖**&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;    - 在`randomDraw`方法中，我们首先排除掉不在抽奖范围内的奖品。&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;    - 检查剩余奖品列表，如果为空或只有一个奖品，直接返回结果。&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;    - 生成一个0到100之间的随机数，作为抽奖的随机概率值。&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;    - 遍历剩余奖品列表，根据每个奖品的概率范围，判断随机值是否落在当前奖品的概率区间内，确定中奖奖品。&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;  - **步骤3：生成随机数**&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;    - 使用`SecureRandom`生成一个范围在0到100之间的随机数，确保随机性和安全性。&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;#### 4. 斐波那契散列法：&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;  - 斐波那契散列法用于计算哈希索引，以减少哈希冲突。&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;  - 使用黄金分割点 `(√5 - 1) / 2 = 0.6180339887`，计算出斐波那契常量 `0x61c88647`。&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;### 示例解释&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;假设我们有以下奖品及其概率：&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;- 奖品A：40%&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;- 奖品B：30%&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;- 奖品C：20%&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;- 奖品D：10%&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;在初始化阶段，我们会根据每个奖品的概率将它们的概率区间填充到数组中：&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;- 奖品A：索引1-40&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;- 奖品B：索引41-70&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;- 奖品C：索引71-90&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;- 奖品D：索引91-100&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;当执行抽奖时，我们会生成一个1到100之间的随机数，并根据这个随机数落在的区间来确定中奖奖品。例如，若随机数为45，则奖品B中奖。&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;### 扩展性和优化&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;- 通过抽象出`IDrawAlgorithm`接口，我们可以灵活地添加新的抽奖算法。&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve; background-color: rgb(236, 238, 239);&quot;&gt;- 使用`ConcurrentHashMap`确保线程安全，支持高并发环境。&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;br style=&quot;font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: rgb(236, 238, 239); font-family: &amp;quot;SF Pro Display&amp;quot;, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe Ul&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: medium; white-space-collapse: preserve;&quot;&gt;通过以上详细的描述，面试官可以全面了解你的算法实现过程，以及你在设计和实现过程中所考虑的细节和技术点。&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="DzT3CIV36KvdyMCAsBbq-1" vertex="1">
          <mxGeometry x="-3735" y="-210" width="1012" height="919" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="u-i8jv6sWorSlcaWmHJO" name="第六章">
    <mxGraphModel dx="940" dy="780" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="4P5p8Y1akYeRRL2wSGTU-0" />
        <mxCell id="4P5p8Y1akYeRRL2wSGTU-1" parent="4P5p8Y1akYeRRL2wSGTU-0" />
        <mxCell id="55R6YX44TV_IL3wcqC2J-1" value="抽奖执行领域层优化后" style="whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#0e8088;fillColor=#b0e3e6;" parent="4P5p8Y1akYeRRL2wSGTU-1" vertex="1">
          <mxGeometry x="881" y="2" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-53" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.397;entryY=1.024;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=10;endArrow=classic;endFill=1;" parent="4P5p8Y1akYeRRL2wSGTU-1" source="CLTcsabYiYyLR9P0hwMk-55" target="CLTcsabYiYyLR9P0hwMk-59" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1120.03" y="366" />
              <mxPoint x="1120.03" y="342" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-54" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.49;entryY=0.981;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=10;endArrow=classic;endFill=1;" parent="4P5p8Y1akYeRRL2wSGTU-1" source="CLTcsabYiYyLR9P0hwMk-55" target="CLTcsabYiYyLR9P0hwMk-64" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="932.03" y="366" />
              <mxPoint x="932.03" y="239" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-55" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IDrawExec&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ doDrawExec(DrawReq drawReq&lt;span&gt;) : DrawResult&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;sketch=1;" parent="4P5p8Y1akYeRRL2wSGTU-1" vertex="1">
          <mxGeometry x="840.03" y="366" width="381" height="93" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-57" value="DrawReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#b0e3e6;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#0e8088;swimlaneLine=0;" parent="4P5p8Y1akYeRRL2wSGTU-1" vertex="1">
          <mxGeometry x="1064.03" y="239" width="140" height="78" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-58" value="- uId: String" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="CLTcsabYiYyLR9P0hwMk-57" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-59" value="- strategyId: Long" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="CLTcsabYiYyLR9P0hwMk-57" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-60" value="DrawResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#b0e3e6;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#0e8088;swimlaneLine=0;" parent="4P5p8Y1akYeRRL2wSGTU-1" vertex="1">
          <mxGeometry x="836" y="109" width="195.03" height="130" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-61" value="- uId: String" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="CLTcsabYiYyLR9P0hwMk-60" vertex="1">
          <mxGeometry y="26" width="195.03" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-62" value="- strategyId: Long" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="CLTcsabYiYyLR9P0hwMk-60" vertex="1">
          <mxGeometry y="52" width="195.03" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-63" value="- drawState: Integer" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="CLTcsabYiYyLR9P0hwMk-60" vertex="1">
          <mxGeometry y="78" width="195.03" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-64" value="- drawAwardInfo : DrawAwardInfo" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="CLTcsabYiYyLR9P0hwMk-60" vertex="1">
          <mxGeometry y="104" width="195.03" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-66" value="DrawAwardInfo" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#b0e3e6;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#0e8088;swimlaneLine=0;" parent="4P5p8Y1akYeRRL2wSGTU-1" vertex="1">
          <mxGeometry x="1069.03" y="128" width="140" height="78" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-69" value="- awardId: String" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="CLTcsabYiYyLR9P0hwMk-66" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-70" value="- awardName : String" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="CLTcsabYiYyLR9P0hwMk-66" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-71" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;entryX=-0.002;entryY=0.754;entryDx=0;entryDy=0;entryPerimeter=0;" parent="4P5p8Y1akYeRRL2wSGTU-1" source="CLTcsabYiYyLR9P0hwMk-62" target="CLTcsabYiYyLR9P0hwMk-69" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-72" value="DrawConfig" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fillColor=#b0e3e6;strokeColor=#0e8088;swimlaneLine=0;" parent="4P5p8Y1akYeRRL2wSGTU-1" vertex="1">
          <mxGeometry x="1250" y="157" width="398" height="112" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-73" value="- algorithmList: List&lt;IDrawAlgorithm&gt;" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="CLTcsabYiYyLR9P0hwMk-72" vertex="1">
          <mxGeometry y="26" width="398" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-74" value="# drawAlgorithmMap: Map&lt;Integer,IDrawAlgorithm&gt;" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="CLTcsabYiYyLR9P0hwMk-72" vertex="1">
          <mxGeometry y="52" width="398" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-75" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;" parent="CLTcsabYiYyLR9P0hwMk-72" vertex="1">
          <mxGeometry y="78" width="398" height="8" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-76" value="+ init()" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;" parent="CLTcsabYiYyLR9P0hwMk-72" vertex="1">
          <mxGeometry y="86" width="398" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-77" value="DrawStrategySupport" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fillColor=#b0e3e6;strokeColor=#0e8088;swimlaneLine=0;" parent="4P5p8Y1akYeRRL2wSGTU-1" vertex="1">
          <mxGeometry x="1237" y="347" width="409" height="112" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-78" value="- strategyRepository : IStrategyRepository " style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="CLTcsabYiYyLR9P0hwMk-77" vertex="1">
          <mxGeometry y="26" width="409" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-80" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;" parent="CLTcsabYiYyLR9P0hwMk-77" vertex="1">
          <mxGeometry y="52" width="409" height="8" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-81" value="# queryStrategyRich(Long strategyId) : StrategyRich&#xa;" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;" parent="CLTcsabYiYyLR9P0hwMk-77" vertex="1">
          <mxGeometry y="60" width="409" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-79" value="# queryAwardInfoByAwardId(String awardId): Award" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="CLTcsabYiYyLR9P0hwMk-77" vertex="1">
          <mxGeometry y="86" width="409" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-82" value="AbstractDrawBase" style="swimlane;fontStyle=3;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fillColor=#b0e3e6;strokeColor=#0e8088;swimlaneLine=0;" parent="4P5p8Y1akYeRRL2wSGTU-1" vertex="1">
          <mxGeometry x="1035" y="553" width="456" height="206" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-84" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;" parent="CLTcsabYiYyLR9P0hwMk-82" vertex="1">
          <mxGeometry y="26" width="456" height="8" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-85" value="+ doDrawExec(DrawReq drawReq) : DrawResult" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;" parent="CLTcsabYiYyLR9P0hwMk-82" vertex="1">
          <mxGeometry y="34" width="456" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-83" value="# queryExcludeAwardIds(Long strategyId) : List&lt;String&gt;" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontStyle=2;" parent="CLTcsabYiYyLR9P0hwMk-82" vertex="1">
          <mxGeometry y="60" width="456" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-95" value="# drawAlgorithm(Long strategyId,IDrawAlgorithm &#xa;drawAlgorithm,List&lt;String&gt; execludeAwardIds) : String" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontStyle=2;" parent="CLTcsabYiYyLR9P0hwMk-82" vertex="1">
          <mxGeometry y="86" width="456" height="42" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-86" value="- chechAndInitRateData(Long strategyId,&#xa; Integer strategyMode,List&lt;StrategyDetail&gt; strategyDetailList)" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="CLTcsabYiYyLR9P0hwMk-82" vertex="1">
          <mxGeometry y="128" width="456" height="42" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-96" value="- buildDrawResult(String uId, Long strategyId, String awardId) : DrawResult" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="CLTcsabYiYyLR9P0hwMk-82" vertex="1">
          <mxGeometry y="170" width="456" height="36" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-87" value="DrawExecImpl" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fillColor=#b0e3e6;strokeColor=#0e8088;swimlaneLine=0;" parent="4P5p8Y1akYeRRL2wSGTU-1" vertex="1">
          <mxGeometry x="1028.01" y="844" width="469.97" height="105" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-89" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;" parent="CLTcsabYiYyLR9P0hwMk-87" vertex="1">
          <mxGeometry y="26" width="469.97" height="8" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-90" value="# queryExcludeAwardIds(Long strategyId) : List&lt;String&gt;" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;" parent="CLTcsabYiYyLR9P0hwMk-87" vertex="1">
          <mxGeometry y="34" width="469.97" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-92" value="# drawAlgorithm(Long strategyId,IDrawAlgorithm&#xa;drawAlgorithm,List&lt;String&gt; execludeAwardIds) : String" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="CLTcsabYiYyLR9P0hwMk-87" vertex="1">
          <mxGeometry y="60" width="469.97" height="45" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-94" value="继承" style="endArrow=block;endSize=10;endFill=0;html=1;fontFamily=Comic Sans MS;fontSize=12;exitX=0.522;exitY=0.008;exitDx=0;exitDy=0;exitPerimeter=0;" parent="4P5p8Y1akYeRRL2wSGTU-1" source="CLTcsabYiYyLR9P0hwMk-77" target="CLTcsabYiYyLR9P0hwMk-76" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1141" y="331" as="sourcePoint" />
            <mxPoint x="1464" y="275" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-98" value="继承" style="endArrow=block;endSize=10;endFill=0;html=1;fontFamily=Comic Sans MS;fontSize=12;exitX=0.519;exitY=-0.014;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.519;entryY=1.041;entryDx=0;entryDy=0;entryPerimeter=0;" parent="4P5p8Y1akYeRRL2wSGTU-1" source="CLTcsabYiYyLR9P0hwMk-87" target="CLTcsabYiYyLR9P0hwMk-96" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1276" y="837" as="sourcePoint" />
            <mxPoint x="1142" y="665" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-100" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;fontFamily=Comic Sans MS;fontSize=12;exitX=0.184;exitY=-0.002;exitDx=0;exitDy=0;entryX=0.73;entryY=1.022;entryDx=0;entryDy=0;entryPerimeter=0;exitPerimeter=0;" parent="4P5p8Y1akYeRRL2wSGTU-1" source="CLTcsabYiYyLR9P0hwMk-82" target="CLTcsabYiYyLR9P0hwMk-55" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1117" y="498" as="sourcePoint" />
            <mxPoint x="1277" y="498" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-101" value="继承" style="endArrow=block;endSize=10;endFill=0;html=1;fontFamily=Comic Sans MS;fontSize=12;entryX=0.334;entryY=0.965;entryDx=0;entryDy=0;entryPerimeter=0;" parent="4P5p8Y1akYeRRL2wSGTU-1" target="CLTcsabYiYyLR9P0hwMk-79" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1372" y="550" as="sourcePoint" />
            <mxPoint x="1277" y="498" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-102" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;entryX=0.013;entryY=0.006;entryDx=0;entryDy=0;entryPerimeter=0;" parent="4P5p8Y1akYeRRL2wSGTU-1" source="CLTcsabYiYyLR9P0hwMk-104" target="CLTcsabYiYyLR9P0hwMk-117" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2125" y="372" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2065" y="413" />
              <mxPoint x="2065" y="363" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-103" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="4P5p8Y1akYeRRL2wSGTU-1" source="CLTcsabYiYyLR9P0hwMk-104" target="CLTcsabYiYyLR9P0hwMk-120" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2064" y="413" />
              <mxPoint x="2064" y="477" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-104" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IStrategyRepository&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ queryStrategyRich(Long strategyId&lt;span&gt;) : StrategyRich&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span&gt;+ queryAwardInfo(String awardId): Award&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span&gt;+ queryNoStockStrategyAwardList(&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;Long strategyId):List&amp;lt;String&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span&gt;+ deductStock(Long strategyId,String awardId): boolean&lt;/span&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;sketch=1;" parent="4P5p8Y1akYeRRL2wSGTU-1" vertex="1">
          <mxGeometry x="1683" y="348.5" width="326" height="143" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-105" value="StrategyRepository" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#0e8088;swimlaneLine=0;fillColor=#b0e3e6;" parent="4P5p8Y1akYeRRL2wSGTU-1" vertex="1">
          <mxGeometry x="1674" y="597" width="330" height="173" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-106" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="CLTcsabYiYyLR9P0hwMk-105" vertex="1">
          <mxGeometry y="26" width="330" height="8" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-107" value="- awardDao: IAwardDao&#xa;- strategyDao:IStrategyDao&#xa;- strategyDetailDao: IStrategyDetailDao" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="CLTcsabYiYyLR9P0hwMk-105" vertex="1">
          <mxGeometry y="34" width="330" height="53" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-108" value="+ queryStrategyRich(Long strategyId) : StrategyRich&#xa;+ queryAwardInfo(String awardId): Award&#xa;+ queryNoStockStrategyAwardList(&#xa;&#x9;&#x9;&#x9;&#x9;Long strategyId):List&lt;String&gt;&#xa;+ deductStock(Long strategyId,String awardId): boolean&#xa;" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="CLTcsabYiYyLR9P0hwMk-105" vertex="1">
          <mxGeometry y="87" width="330" height="86" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-109" value="" style="endArrow=block;dashed=1;endFill=0;endSize=10;html=1;fontFamily=Comic Sans MS;fontSize=12;entryX=0.475;entryY=1.035;entryDx=0;entryDy=0;entryPerimeter=0;" parent="4P5p8Y1akYeRRL2wSGTU-1" source="CLTcsabYiYyLR9P0hwMk-105" target="CLTcsabYiYyLR9P0hwMk-104" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1950.63" y="690.77" as="sourcePoint" />
            <mxPoint x="1829.2420000000002" y="555" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-110" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IAwardDao&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ queryAwardInfo(String awardId) : Award&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=#f8cecc;strokeColor=#b85450;sketch=1;" parent="4P5p8Y1akYeRRL2wSGTU-1" vertex="1">
          <mxGeometry x="2093.75" y="534" width="309" height="78" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-111" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IStrategyDao&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ queryStrategy(Long strategyId) : Strategy&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=#f8cecc;strokeColor=#b85450;sketch=1;" parent="4P5p8Y1akYeRRL2wSGTU-1" vertex="1">
          <mxGeometry x="2093.75" y="624" width="309" height="82" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-112" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IStrategyDetailDao&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ queryStrategyDetailList(Long strategyId)&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;: List&amp;lt;StrategyDetail&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ queryNoStockStrategyAwardList(&lt;br style=&quot;padding: 0px ; margin: 0px&quot;&gt;Long strategyId):List&amp;lt;String&amp;gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ deductStock(StrategyDetail strategyDetail): int&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=#f8cecc;strokeColor=#b85450;sketch=1;" parent="4P5p8Y1akYeRRL2wSGTU-1" vertex="1">
          <mxGeometry x="2091" y="720" width="309" height="148" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-113" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.004;entryY=0.398;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;" parent="4P5p8Y1akYeRRL2wSGTU-1" source="CLTcsabYiYyLR9P0hwMk-107" target="CLTcsabYiYyLR9P0hwMk-111" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-114" value="" style="endArrow=classic;endFill=1;endSize=6;html=1;fontFamily=Comic Sans MS;fontSize=12;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="4P5p8Y1akYeRRL2wSGTU-1" target="CLTcsabYiYyLR9P0hwMk-112" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="2039" y="658" as="sourcePoint" />
            <mxPoint x="2138" y="691" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2039" y="658" />
              <mxPoint x="2039" y="780" />
              <mxPoint x="2039" y="794" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-115" value="" style="endArrow=classic;endFill=1;endSize=6;html=1;fontFamily=Comic Sans MS;fontSize=12;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="4P5p8Y1akYeRRL2wSGTU-1" target="CLTcsabYiYyLR9P0hwMk-110" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="2039" y="659" as="sourcePoint" />
            <mxPoint x="2138" y="640" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2039" y="572" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-116" value="Award" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=#f8cecc;" parent="4P5p8Y1akYeRRL2wSGTU-1" vertex="1">
          <mxGeometry x="2110.5" y="337" width="160" height="52" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-117" value="" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="CLTcsabYiYyLR9P0hwMk-116" vertex="1">
          <mxGeometry y="26" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-118" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0.011;entryY=0.223;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="4P5p8Y1akYeRRL2wSGTU-1" source="CLTcsabYiYyLR9P0hwMk-119" target="CLTcsabYiYyLR9P0hwMk-122" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-119" value="StrategyRich" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#0e8088;fillColor=#b0e3e6;" parent="4P5p8Y1akYeRRL2wSGTU-1" vertex="1">
          <mxGeometry x="2102" y="416" width="173" height="96" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-120" value="- strategyId ： Long&#xa;- strategy: Strategy&#xa;- strategyDetailList: &#xa;List&lt;StrategyDetail&gt;" style="text;strokeColor=#0e8088;fillColor=#b0e3e6;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="CLTcsabYiYyLR9P0hwMk-119" vertex="1">
          <mxGeometry y="26" width="173" height="70" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-121" value="Strategy" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=#f8cecc;" parent="4P5p8Y1akYeRRL2wSGTU-1" vertex="1">
          <mxGeometry x="2307" y="408" width="160" height="52" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-122" value="" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="CLTcsabYiYyLR9P0hwMk-121" vertex="1">
          <mxGeometry y="26" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-123" value="StrategyDetail" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=#f8cecc;" parent="4P5p8Y1akYeRRL2wSGTU-1" vertex="1">
          <mxGeometry x="2307" y="469" width="160" height="52" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-124" value="" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="CLTcsabYiYyLR9P0hwMk-123" vertex="1">
          <mxGeometry y="26" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-125" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;exitX=1;exitY=0.757;exitDx=0;exitDy=0;exitPerimeter=0;" parent="4P5p8Y1akYeRRL2wSGTU-1" source="CLTcsabYiYyLR9P0hwMk-120" target="CLTcsabYiYyLR9P0hwMk-123" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CLTcsabYiYyLR9P0hwMk-126" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="4P5p8Y1akYeRRL2wSGTU-1" source="CLTcsabYiYyLR9P0hwMk-81" target="CLTcsabYiYyLR9P0hwMk-104" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第六章 项目结构" id="jDQvgIK__-kAaUIcf2xB">
    <mxGraphModel dx="5485" dy="1326" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-0" />
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-1" parent="nqAdxXYk_1kPJEs0QAaH-0" />
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-2" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=232.5;entryDy=14;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#7EA6E0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;" parent="nqAdxXYk_1kPJEs0QAaH-1" source="nqAdxXYk_1kPJEs0QAaH-3" target="nqAdxXYk_1kPJEs0QAaH-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-3" value="lotter-domain" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-2288" y="676" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-4" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.domain.strategy&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-2419" y="885" width="425" height="76" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-7" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;model&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1894" y="250" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-8" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;repository&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1894" y="743" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="hLo-fz4i7PBK609e-Kxn-1" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="nqAdxXYk_1kPJEs0QAaH-1" source="nqAdxXYk_1kPJEs0QAaH-9" target="nqAdxXYk_1kPJEs0QAaH-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-9" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;service&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1910" y="1551" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-11" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IStrategyRepository&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ queryStrategyRich(Long strategyId&lt;span&gt;) : StrategyRich&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span&gt;+ queryAwardInfo(String awardId): Award&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;+ queryNoStockStrategyAwardList(&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;Long strategyId):List&amp;lt;String&amp;gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;+ deductStock(Long strategyId,String awardId): boolean&lt;/font&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#9673a6;sketch=1;rounded=0;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1639" y="662" width="332" height="139" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-12" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;" parent="nqAdxXYk_1kPJEs0QAaH-1" source="nqAdxXYk_1kPJEs0QAaH-13" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1290" y="879" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-13" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;impl&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1637" y="834" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-14" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1691" y="662" width="30" height="241" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-15" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;策略表仓储服务&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1638" y="626" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-16" value="StrategyRepository" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;swimlaneLine=0;fillColor=none;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1289" y="783" width="345" height="185" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-17" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="nqAdxXYk_1kPJEs0QAaH-16" vertex="1">
          <mxGeometry y="26" width="345" height="8" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-18" value="- awardDao: IAwardDao&#xa;- strategyDao:IStrategyDao&#xa;- strategyDetailDao: IStrategyDetailDao" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="nqAdxXYk_1kPJEs0QAaH-16" vertex="1">
          <mxGeometry y="34" width="345" height="53" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-19" value="+ queryStrategyRich(Long strategyId) : StrategyRich&#xa;+ queryAwardInfo(String awardId): Award&#xa;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="nqAdxXYk_1kPJEs0QAaH-16" vertex="1">
          <mxGeometry y="87" width="345" height="41" as="geometry" />
        </mxCell>
        <mxCell id="hLo-fz4i7PBK609e-Kxn-0" value="+ queryNoStockStrategyAwardList(&#xa;Long strategyId):List&lt;String&gt;&#xa;+ deductStock(Long strategyId,String awardId): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="nqAdxXYk_1kPJEs0QAaH-16" vertex="1">
          <mxGeometry y="128" width="345" height="57" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-20" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;策略表仓储服务实现&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1289" y="721" width="159" height="30" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-25" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;" parent="nqAdxXYk_1kPJEs0QAaH-1" source="nqAdxXYk_1kPJEs0QAaH-26" target="nqAdxXYk_1kPJEs0QAaH-33" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1447" y="220" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-26" value="res" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1631" y="186" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-27" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;vo&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1638" y="320" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-28" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1688" y="190" width="30" height="206" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-31" value="DrawResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#3399FF;swimlaneLine=1;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1296" y="165.5" width="246" height="130" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-32" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="nqAdxXYk_1kPJEs0QAaH-31" vertex="1">
          <mxGeometry y="26" width="246" height="26" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-33" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="nqAdxXYk_1kPJEs0QAaH-31" vertex="1">
          <mxGeometry y="52" width="246" height="26" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-34" value="- drawState: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;fontColor=#FF0000;" parent="nqAdxXYk_1kPJEs0QAaH-31" vertex="1">
          <mxGeometry y="78" width="246" height="26" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-35" value="- drawAwardInfo : DrawAwardInfo" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;fontColor=#FF0000;" parent="nqAdxXYk_1kPJEs0QAaH-31" vertex="1">
          <mxGeometry y="104" width="246" height="26" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-39" value=" DrawAwardInfo" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;swimlaneLine=1;fontColor=#FF0000;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1300" y="325.5" width="257" height="78" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-40" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="nqAdxXYk_1kPJEs0QAaH-39" vertex="1">
          <mxGeometry y="26" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-41" value="- awardName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="nqAdxXYk_1kPJEs0QAaH-39" vertex="1">
          <mxGeometry y="52" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-42" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;" parent="nqAdxXYk_1kPJEs0QAaH-1" source="nqAdxXYk_1kPJEs0QAaH-27" target="nqAdxXYk_1kPJEs0QAaH-40" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1437" y="230" as="sourcePoint" />
            <mxPoint x="-1286" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-43" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;仓储服务&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1896" y="696" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-44" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;聚合对象&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1909" y="190" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-46" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;领域服务&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1928" y="1517" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-49" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;中奖信息&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1317" y="295.5" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-51" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;抽奖返回参数&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1300" y="139" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-53" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;draw&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1626" y="1547.5" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-75" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.513;exitDx=0;exitDy=0;exitPerimeter=0;" parent="nqAdxXYk_1kPJEs0QAaH-1" source="nqAdxXYk_1kPJEs0QAaH-76" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-996.75" y="1347" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-76" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;impl&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1369" y="1308" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-77" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1424" y="1327" width="30" height="517" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-78" value="DrawExecImpl" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fillColor=none;strokeColor=#3399FF;swimlaneLine=1;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-996.75" y="1308" width="344.5" height="100" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-80" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;" parent="nqAdxXYk_1kPJEs0QAaH-78" vertex="1">
          <mxGeometry y="26" width="344.5" height="8" as="geometry" />
        </mxCell>
        <mxCell id="0v-aj78uc8zLuBXv8_KP-0" value="# queryExcludeAwardIds(Long strategyId) : List&lt;String&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="nqAdxXYk_1kPJEs0QAaH-78" vertex="1">
          <mxGeometry y="34" width="344.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-81" value="# drawAlgorithm(Long strategyId,IDrawAlgorithm&#xa;drawAlgorithm,List&lt;String&gt; execludeAwardIds) : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontColor=#FF0000;" parent="nqAdxXYk_1kPJEs0QAaH-78" vertex="1">
          <mxGeometry y="60" width="344.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-82" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;抽奖执行实现类&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1000" y="1278" width="159" height="30" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-94" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;抽奖执行共用提取类&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1369" y="1408" width="196" height="30" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-96" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1981" y="278" width="30" height="1340" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-97" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=14;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="nqAdxXYk_1kPJEs0QAaH-1" source="nqAdxXYk_1kPJEs0QAaH-98" target="nqAdxXYk_1kPJEs0QAaH-100" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-98" value="lotter-infrastructure" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-676" y="830" width="222.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-99" value="&lt;font style=&quot;font-size: 12px&quot;&gt;&lt;font color=&quot;#333333&quot; style=&quot;font-size: 12px&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;基础服务层：&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(51 , 51 , 51) ; font-family: &amp;#34;open sans&amp;#34; , &amp;#34;clear sans&amp;#34; , &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; background-color: rgb(255 , 255 , 255)&quot;&gt;为各层提供资源服务（如数据库、缓存等）&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-658" y="783" width="237" height="30" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-126" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=364;exitDy=45;exitPerimeter=0;entryX=0;entryY=0;entryDx=0;entryDy=40.5;entryPerimeter=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;" parent="nqAdxXYk_1kPJEs0QAaH-1" source="nqAdxXYk_1kPJEs0QAaH-100" target="nqAdxXYk_1kPJEs0QAaH-101" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-100" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.&lt;/font&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;infrastructure&lt;/span&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-298" y="813" width="364" height="76" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-127" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=125.00000000000001;exitDy=40.5;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;" parent="nqAdxXYk_1kPJEs0QAaH-1" source="nqAdxXYk_1kPJEs0QAaH-101" target="nqAdxXYk_1kPJEs0QAaH-106" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-101" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;dao&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="172" y="815" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-106" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IStrategyDetailDao&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;+ queryNoStockStrategyAwardList(&lt;br style=&quot;padding: 0px ; margin: 0px&quot;&gt;Long strategyId):List&amp;lt;String&amp;gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;+ deductStock(StrategyDetail strategyDetail): int&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#9673a6;sketch=1;rounded=0;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="399" y="796" width="309" height="119.25" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-115" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="nqAdxXYk_1kPJEs0QAaH-1" source="nqAdxXYk_1kPJEs0QAaH-116" target="nqAdxXYk_1kPJEs0QAaH-118" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-116" value="lotter-interfaces" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-455" y="1339" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-117" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=40.5;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=261;exitDy=45;exitPerimeter=0;" parent="nqAdxXYk_1kPJEs0QAaH-1" source="nqAdxXYk_1kPJEs0QAaH-118" target="nqAdxXYk_1kPJEs0QAaH-122" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-118" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;resource&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-119" y="1319.5" width="261" height="76" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-121" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="nqAdxXYk_1kPJEs0QAaH-1" target="nqAdxXYk_1kPJEs0QAaH-125" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="417" y="1364" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-122" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;mappers&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="287" y="1324" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="nqAdxXYk_1kPJEs0QAaH-125" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;span style=&quot;font-weight: 700&quot;&gt;StrategyDetail&lt;/span&gt;&lt;span style=&quot;font-weight: 700&quot;&gt;Mapper&lt;/span&gt;&lt;span style=&quot;text-align: left&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;.xml&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#000000;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="516" y="1337" width="208" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GRp3MlyQIzgEhHyfR3JX-0" value="DrawStrategySupport" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fillColor=none;strokeColor=#3399FF;swimlaneLine=1;fontColor=#FF0000;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1372" y="1442" width="409" height="112" as="geometry" />
        </mxCell>
        <mxCell id="GRp3MlyQIzgEhHyfR3JX-1" value="- strategyRepository : IStrategyRepository " style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GRp3MlyQIzgEhHyfR3JX-0" vertex="1">
          <mxGeometry y="26" width="409" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GRp3MlyQIzgEhHyfR3JX-2" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;" parent="GRp3MlyQIzgEhHyfR3JX-0" vertex="1">
          <mxGeometry y="52" width="409" height="8" as="geometry" />
        </mxCell>
        <mxCell id="GRp3MlyQIzgEhHyfR3JX-3" value="# queryStrategyRich(Long strategyId) : StrategyRich&#xa;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;" parent="GRp3MlyQIzgEhHyfR3JX-0" vertex="1">
          <mxGeometry y="60" width="409" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GRp3MlyQIzgEhHyfR3JX-4" value="# queryAwardInfoByAwardId(String awardId): Award" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GRp3MlyQIzgEhHyfR3JX-0" vertex="1">
          <mxGeometry y="86" width="409" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hb296I4aL21u43mx5fYr-0" value="AbstractDrawBase" style="swimlane;fontStyle=3;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fillColor=none;strokeColor=#3399FF;swimlaneLine=1;fontColor=#FF0000;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1376" y="1647" width="456" height="206" as="geometry" />
        </mxCell>
        <mxCell id="hb296I4aL21u43mx5fYr-1" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;" parent="hb296I4aL21u43mx5fYr-0" vertex="1">
          <mxGeometry y="26" width="456" height="8" as="geometry" />
        </mxCell>
        <mxCell id="hb296I4aL21u43mx5fYr-2" value="+ doDrawExec(DrawReq drawReq) : DrawResult" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;" parent="hb296I4aL21u43mx5fYr-0" vertex="1">
          <mxGeometry y="34" width="456" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hb296I4aL21u43mx5fYr-3" value="# queryExcludeAwardIds(Long strategyId) : List&lt;String&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontStyle=2;" parent="hb296I4aL21u43mx5fYr-0" vertex="1">
          <mxGeometry y="60" width="456" height="26" as="geometry" />
        </mxCell>
        <mxCell id="hb296I4aL21u43mx5fYr-4" value="# drawAlgorithm(Long strategyId,IDrawAlgorithm &#xa;drawAlgorithm,List&lt;String&gt; execludeAwardIds) : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontStyle=2;" parent="hb296I4aL21u43mx5fYr-0" vertex="1">
          <mxGeometry y="86" width="456" height="42" as="geometry" />
        </mxCell>
        <mxCell id="hb296I4aL21u43mx5fYr-5" value="- chechAndInitRateData(Long strategyId,&#xa; Integer strategyMode,List&lt;StrategyDetail&gt; strategyDetailList)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="hb296I4aL21u43mx5fYr-0" vertex="1">
          <mxGeometry y="128" width="456" height="42" as="geometry" />
        </mxCell>
        <mxCell id="hb296I4aL21u43mx5fYr-6" value="- buildDrawResult(String uId, Long strategyId, String awardId) : DrawResult" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="hb296I4aL21u43mx5fYr-0" vertex="1">
          <mxGeometry y="170" width="456" height="36" as="geometry" />
        </mxCell>
        <mxCell id="hb296I4aL21u43mx5fYr-7" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;模板模式定义抽奖流程&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="nqAdxXYk_1kPJEs0QAaH-1" vertex="1">
          <mxGeometry x="-1382" y="1617" width="196" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="CbfrSADX8bvyN8xO22KA" name="第七章流程">
    <mxGraphModel dx="2668" dy="663" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="583" pageHeight="827" background="none" math="0" shadow="0">
      <root>
        <mxCell id="rgAZGGpRxxONX237S8ez-0" />
        <mxCell id="rgAZGGpRxxONX237S8ez-1" parent="rgAZGGpRxxONX237S8ez-0" />
        <mxCell id="DbZDzaDLpqou7u20R4Vu-0" value="发奖领域" style="shape=umlFrame;whiteSpace=wrap;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;strokeColor=#FF6392;width=109;height=30;labelBackgroundColor=none;fillColor=#FFE45E;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-1163" y="10" width="1161" height="769" as="geometry" />
        </mxCell>
        <mxCell id="m18aFQN3xEna0E--TD5Y-1" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=none;strokeColor=#FF6392;" parent="rgAZGGpRxxONX237S8ez-1" source="DXMSeeZlbxRB4nY6Lr1h-0" target="m18aFQN3xEna0E--TD5Y-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DXMSeeZlbxRB4nY6Lr1h-0" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;DistributionGoodsFactory&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#FF6392;fillColor=none;verticalAlign=top;html=1;fontColor=#5AA9E6;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-1140.5" y="47" width="349" height="92" as="geometry" />
        </mxCell>
        <mxCell id="xN4s-dABP2ePKlEu7JSi-1" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=none;strokeColor=#FF6392;" parent="rgAZGGpRxxONX237S8ez-1" source="DXMSeeZlbxRB4nY6Lr1h-3" target="xN4s-dABP2ePKlEu7JSi-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DXMSeeZlbxRB4nY6Lr1h-3" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font&gt;&amp;nbsp;getDistributionGoodsService()&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-1103.5" y="98" width="283" height="28" as="geometry" />
        </mxCell>
        <mxCell id="m18aFQN3xEna0E--TD5Y-0" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font&gt;GoodsConfig&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#FF6392;fillColor=none;verticalAlign=top;html=1;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontColor=#5AA9E6;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-638.5" y="49" width="283" height="92" as="geometry" />
        </mxCell>
        <mxCell id="hQ1r1_pqNP420kyXII8l-2" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=none;strokeColor=#FF6392;" parent="rgAZGGpRxxONX237S8ez-1" source="hQ1r1_pqNP420kyXII8l-0" target="hQ1r1_pqNP420kyXII8l-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hQ1r1_pqNP420kyXII8l-0" value="&lt;font&gt;init()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-559.5" y="98" width="126" height="28" as="geometry" />
        </mxCell>
        <mxCell id="hQ1r1_pqNP420kyXII8l-1" value="&lt;font&gt;init()流程&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;verticalAlign=top;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-635" y="243" width="277" height="152" as="geometry" />
        </mxCell>
        <mxCell id="hQ1r1_pqNP420kyXII8l-3" value="&lt;font&gt;&lt;b style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;IDistributionGoods&lt;/b&gt;注入map&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-585.75" y="303" width="184.75" height="56" as="geometry" />
        </mxCell>
        <mxCell id="CwXCm88bYVGfQxfLEnET-8" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="rgAZGGpRxxONX237S8ez-1" source="CwXCm88bYVGfQxfLEnET-0" target="hQ1r1_pqNP420kyXII8l-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CwXCm88bYVGfQxfLEnET-0" value="CouponGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=29;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF6392;swimlaneLine=1;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-797.5" y="526" width="175" height="47" as="geometry" />
        </mxCell>
        <mxCell id="CwXCm88bYVGfQxfLEnET-1" value="&lt;p style=&quot;font-family: &amp;quot;helvetica&amp;quot; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="CwXCm88bYVGfQxfLEnET-0" vertex="1">
          <mxGeometry y="29" width="175" height="18" as="geometry" />
        </mxCell>
        <mxCell id="CwXCm88bYVGfQxfLEnET-9" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="rgAZGGpRxxONX237S8ez-1" source="CwXCm88bYVGfQxfLEnET-2" target="hQ1r1_pqNP420kyXII8l-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CwXCm88bYVGfQxfLEnET-2" value="DescGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=29;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF6392;swimlaneLine=1;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-585.5" y="526" width="175" height="47" as="geometry" />
        </mxCell>
        <mxCell id="CwXCm88bYVGfQxfLEnET-3" value="&lt;p style=&quot;font-family: &amp;quot;helvetica&amp;quot; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="CwXCm88bYVGfQxfLEnET-2" vertex="1">
          <mxGeometry y="29" width="175" height="18" as="geometry" />
        </mxCell>
        <mxCell id="CwXCm88bYVGfQxfLEnET-10" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.696;entryY=1.023;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.388;exitY=0.028;exitDx=0;exitDy=0;exitPerimeter=0;labelBackgroundColor=none;strokeColor=#FF6392;" parent="rgAZGGpRxxONX237S8ez-1" source="CwXCm88bYVGfQxfLEnET-4" target="hQ1r1_pqNP420kyXII8l-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CwXCm88bYVGfQxfLEnET-4" value="PhysicalGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=29;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF6392;swimlaneLine=1;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-388.5" y="526" width="175" height="47" as="geometry" />
        </mxCell>
        <mxCell id="CwXCm88bYVGfQxfLEnET-5" value="&lt;p style=&quot;font-family: &amp;quot;helvetica&amp;quot; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="CwXCm88bYVGfQxfLEnET-4" vertex="1">
          <mxGeometry y="29" width="175" height="18" as="geometry" />
        </mxCell>
        <mxCell id="CwXCm88bYVGfQxfLEnET-11" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=1;entryDx=0;entryDy=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="rgAZGGpRxxONX237S8ez-1" source="CwXCm88bYVGfQxfLEnET-6" target="hQ1r1_pqNP420kyXII8l-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CwXCm88bYVGfQxfLEnET-6" value="RedeemCodeGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=29;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF6392;swimlaneLine=1;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-182" y="526" width="175" height="47" as="geometry" />
        </mxCell>
        <mxCell id="CwXCm88bYVGfQxfLEnET-7" value="&lt;p style=&quot;font-family: &amp;quot;helvetica&amp;quot; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="CwXCm88bYVGfQxfLEnET-6" vertex="1">
          <mxGeometry y="29" width="175" height="18" as="geometry" />
        </mxCell>
        <mxCell id="CwXCm88bYVGfQxfLEnET-12" value="优惠券商品" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-802.5" y="496" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="CwXCm88bYVGfQxfLEnET-13" value="描述类商品" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-596.5" y="493" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="CwXCm88bYVGfQxfLEnET-14" value="实物类商品" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-314.5" y="493" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="CwXCm88bYVGfQxfLEnET-15" value="兑换券商品" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-112" y="485" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xN4s-dABP2ePKlEu7JSi-0" value="&lt;b style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font&gt;IDistributionGoods&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;verticalAlign=top;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-1153" y="259" width="387" height="70" as="geometry" />
        </mxCell>
        <mxCell id="5cjl1MaA-GwmLjT7Wg_g-3" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="rgAZGGpRxxONX237S8ez-1" source="5cjl1MaA-GwmLjT7Wg_g-1" target="5cjl1MaA-GwmLjT7Wg_g-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5cjl1MaA-GwmLjT7Wg_g-1" value="&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot; ; font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font&gt;&amp;nbsp;doDistribution()&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-1103.5" y="293" width="283" height="28" as="geometry" />
        </mxCell>
        <mxCell id="5cjl1MaA-GwmLjT7Wg_g-2" value="&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot; ; font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font&gt;&amp;nbsp;doDistribution()流程&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;verticalAlign=top;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-1101.5" y="378" width="283" height="251" as="geometry" />
        </mxCell>
        <mxCell id="5cjl1MaA-GwmLjT7Wg_g-6" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="rgAZGGpRxxONX237S8ez-1" source="5cjl1MaA-GwmLjT7Wg_g-4" target="5cjl1MaA-GwmLjT7Wg_g-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5cjl1MaA-GwmLjT7Wg_g-4" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font face=&quot;comic sans ms&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;1.模拟发奖&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-1069" y="416" width="214" height="28" as="geometry" />
        </mxCell>
        <mxCell id="5cjl1MaA-GwmLjT7Wg_g-8" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="rgAZGGpRxxONX237S8ez-1" source="5cjl1MaA-GwmLjT7Wg_g-5" target="5cjl1MaA-GwmLjT7Wg_g-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5cjl1MaA-GwmLjT7Wg_g-5" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font face=&quot;comic sans ms&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;2.更新用户领奖状态&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-1067" y="498" width="214" height="28" as="geometry" />
        </mxCell>
        <mxCell id="5cjl1MaA-GwmLjT7Wg_g-7" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font face=&quot;comic sans ms&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;3.封装返回结果&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-1067" y="587" width="214" height="28" as="geometry" />
        </mxCell>
        <mxCell id="yOFkT2dsT5i9utg3yNXH-1" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="rgAZGGpRxxONX237S8ez-1" source="yOFkT2dsT5i9utg3yNXH-0" target="5cjl1MaA-GwmLjT7Wg_g-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1145.5" y="703" />
              <mxPoint x="-1145.5" y="512" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yOFkT2dsT5i9utg3yNXH-0" value="AwardRepository" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF6392;swimlaneLine=1;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-1101.5" y="667" width="289" height="72" as="geometry" />
        </mxCell>
        <mxCell id="yOFkT2dsT5i9utg3yNXH-2" value="初始化" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="rgAZGGpRxxONX237S8ez-1" vertex="1">
          <mxGeometry x="-766" y="54" width="80.5" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第七章项目结构" id="XQB2lCpEMtMbo-INfQeD">
    <mxGraphModel dx="3983" dy="663" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-0" />
        <mxCell id="onvCVF38rvDkbsvB6Jeo-1" parent="onvCVF38rvDkbsvB6Jeo-0" />
        <mxCell id="onvCVF38rvDkbsvB6Jeo-2" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=232.5;entryDy=14;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#7EA6E0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;" parent="onvCVF38rvDkbsvB6Jeo-1" source="onvCVF38rvDkbsvB6Jeo-3" target="onvCVF38rvDkbsvB6Jeo-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-3" value="lotter-domain" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-2341" y="679" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-4" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.domain.award&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-2472" y="804" width="425" height="76" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-7" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;model&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1961" y="244" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-8" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;repository&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1979" y="967" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-9" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;service&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1965" y="1691" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-15" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;奖品仓储服务&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1697.75" y="843" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-23" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="onvCVF38rvDkbsvB6Jeo-1" source="onvCVF38rvDkbsvB6Jeo-24" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1354" y="113.99999999999989" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-24" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;req&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1690" y="70" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-25" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;" parent="onvCVF38rvDkbsvB6Jeo-1" source="onvCVF38rvDkbsvB6Jeo-26" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1502" y="340" as="sourcePoint" />
            <mxPoint x="-1351" y="350.4999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-26" value="res" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1690" y="305" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-27" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;vo&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1707" y="533" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-28" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1750" y="81" width="30" height="528" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-42" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;" parent="onvCVF38rvDkbsvB6Jeo-1" source="onvCVF38rvDkbsvB6Jeo-27" target="cYa6ubcitANkcoOCRgE2-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1506" y="443" as="sourcePoint" />
            <mxPoint x="-1369" y="577.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-43" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;仓储服务&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1981" y="920" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-44" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;聚合对象&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1963" y="202" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-46" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;领域服务&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1969" y="1646" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-49" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;地址信息&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1374" y="438" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-50" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;发奖请求参数&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1349" y="12" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-51" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;发奖返回参数&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1355" y="259" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-52" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;fctory&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1724" y="1385" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-53" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;goods&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1739" y="2017.5" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-64" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1522" y="1274.5" width="30" height="297" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-76" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;impl&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1482" y="1778" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-77" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1537" y="1797" width="30" height="517" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-95" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1780" y="1406" width="30" height="684" as="geometry" />
        </mxCell>
        <mxCell id="onvCVF38rvDkbsvB6Jeo-96" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-2034" y="260" width="30" height="1504" as="geometry" />
        </mxCell>
        <mxCell id="WZz0pNtKRNt89uGeZefG-0" value="GoodsReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF00FF;swimlaneLine=1;swimlaneFillColor=none;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1349" y="42" width="223" height="208" as="geometry" />
        </mxCell>
        <mxCell id="WZz0pNtKRNt89uGeZefG-1" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="WZz0pNtKRNt89uGeZefG-0" vertex="1">
          <mxGeometry y="26" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WZz0pNtKRNt89uGeZefG-2" value="- orderId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="WZz0pNtKRNt89uGeZefG-0" vertex="1">
          <mxGeometry y="52" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WZz0pNtKRNt89uGeZefG-3" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="WZz0pNtKRNt89uGeZefG-0" vertex="1">
          <mxGeometry y="78" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WZz0pNtKRNt89uGeZefG-4" value="- awardName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="WZz0pNtKRNt89uGeZefG-0" vertex="1">
          <mxGeometry y="104" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WZz0pNtKRNt89uGeZefG-5" value="- awardContext: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="WZz0pNtKRNt89uGeZefG-0" vertex="1">
          <mxGeometry y="130" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WZz0pNtKRNt89uGeZefG-6" value="- shippingAddress: ShippingAddress" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="WZz0pNtKRNt89uGeZefG-0" vertex="1">
          <mxGeometry y="156" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WZz0pNtKRNt89uGeZefG-7" value="- extInfo: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="WZz0pNtKRNt89uGeZefG-0" vertex="1">
          <mxGeometry y="182" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="2ZM0-CZ4vnamscAFvVJW-0" value="DistributionRes" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF00FF;swimlaneLine=1;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1350" y="285.5" width="247" height="130" as="geometry" />
        </mxCell>
        <mxCell id="2ZM0-CZ4vnamscAFvVJW-1" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="2ZM0-CZ4vnamscAFvVJW-0" vertex="1">
          <mxGeometry y="26" width="247" height="26" as="geometry" />
        </mxCell>
        <mxCell id="2ZM0-CZ4vnamscAFvVJW-2" value="- code: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="2ZM0-CZ4vnamscAFvVJW-0" vertex="1">
          <mxGeometry y="52" width="247" height="26" as="geometry" />
        </mxCell>
        <mxCell id="2ZM0-CZ4vnamscAFvVJW-3" value="- statementId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="2ZM0-CZ4vnamscAFvVJW-0" vertex="1">
          <mxGeometry y="78" width="247" height="26" as="geometry" />
        </mxCell>
        <mxCell id="2ZM0-CZ4vnamscAFvVJW-4" value="- info: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="2ZM0-CZ4vnamscAFvVJW-0" vertex="1">
          <mxGeometry y="104" width="247" height="26" as="geometry" />
        </mxCell>
        <mxCell id="cYa6ubcitANkcoOCRgE2-0" value="ShippingAddress" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF00FF;swimlaneLine=1;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1349" y="464" width="223" height="364" as="geometry" />
        </mxCell>
        <mxCell id="cYa6ubcitANkcoOCRgE2-1" value="- provinceId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="cYa6ubcitANkcoOCRgE2-0" vertex="1">
          <mxGeometry y="26" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="cYa6ubcitANkcoOCRgE2-2" value="- provinceName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="cYa6ubcitANkcoOCRgE2-0" vertex="1">
          <mxGeometry y="52" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="cYa6ubcitANkcoOCRgE2-3" value="- cityId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="cYa6ubcitANkcoOCRgE2-0" vertex="1">
          <mxGeometry y="78" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="cYa6ubcitANkcoOCRgE2-4" value="- cityName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="cYa6ubcitANkcoOCRgE2-0" vertex="1">
          <mxGeometry y="104" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="cYa6ubcitANkcoOCRgE2-5" value="- contryId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="cYa6ubcitANkcoOCRgE2-0" vertex="1">
          <mxGeometry y="130" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="cYa6ubcitANkcoOCRgE2-6" value="- contryName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="cYa6ubcitANkcoOCRgE2-0" vertex="1">
          <mxGeometry y="156" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="cYa6ubcitANkcoOCRgE2-7" value="- townId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="cYa6ubcitANkcoOCRgE2-0" vertex="1">
          <mxGeometry y="182" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="cYa6ubcitANkcoOCRgE2-8" value="- townName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="cYa6ubcitANkcoOCRgE2-0" vertex="1">
          <mxGeometry y="208" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="cYa6ubcitANkcoOCRgE2-9" value="- name: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="cYa6ubcitANkcoOCRgE2-0" vertex="1">
          <mxGeometry y="234" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="cYa6ubcitANkcoOCRgE2-10" value="- phone: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="cYa6ubcitANkcoOCRgE2-0" vertex="1">
          <mxGeometry y="260" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="cYa6ubcitANkcoOCRgE2-13" value="- remark: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="cYa6ubcitANkcoOCRgE2-0" vertex="1">
          <mxGeometry y="286" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="cYa6ubcitANkcoOCRgE2-12" value="- email: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="cYa6ubcitANkcoOCRgE2-0" vertex="1">
          <mxGeometry y="312" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="cYa6ubcitANkcoOCRgE2-11" value="-address: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="cYa6ubcitANkcoOCRgE2-0" vertex="1">
          <mxGeometry y="338" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="BIbGostT5ZqvaGja9I6L-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;span style=&quot;text-align: left&quot;&gt;&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;IAwardRepository&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;sketch=1;strokeColor=#00FF00;fillColor=none;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1697.75" y="886" width="361.5" height="73" as="geometry" />
        </mxCell>
        <mxCell id="Gds3_E8y5cU0kaATxvnd-0" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1750" y="918" width="30" height="201" as="geometry" />
        </mxCell>
        <mxCell id="iQ45hVTHwwdynUI7GLfK-1" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;shadow=1;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="onvCVF38rvDkbsvB6Jeo-1" source="Gds3_E8y5cU0kaATxvnd-1" target="iQ45hVTHwwdynUI7GLfK-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gds3_E8y5cU0kaATxvnd-1" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;impl&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1690" y="1047" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="iQ45hVTHwwdynUI7GLfK-0" value="AwardRepository" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF00FF;swimlaneLine=1;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1347" y="1057" width="359" height="72" as="geometry" />
        </mxCell>
        <mxCell id="Y_02-EN_IoHJkeKNFOdB-0" value="GoodsConfig" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF00FF;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1466" y="1248" width="290" height="104" as="geometry" />
        </mxCell>
        <mxCell id="Y_02-EN_IoHJkeKNFOdB-1" value="- goodsList: List&lt;IDistributionGoods&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="Y_02-EN_IoHJkeKNFOdB-0" vertex="1">
          <mxGeometry y="26" width="290" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Y_02-EN_IoHJkeKNFOdB-2" value="# goodsMap: Map&lt;Integer,IDistributionGoods&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="Y_02-EN_IoHJkeKNFOdB-0" vertex="1">
          <mxGeometry y="52" width="290" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Y_02-EN_IoHJkeKNFOdB-3" value="+ init()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="Y_02-EN_IoHJkeKNFOdB-0" vertex="1">
          <mxGeometry y="78" width="290" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Y_02-EN_IoHJkeKNFOdB-4" value="DistributionGoodsFactory" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF00FF;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1480" y="1514" width="318" height="76" as="geometry" />
        </mxCell>
        <mxCell id="Y_02-EN_IoHJkeKNFOdB-5" value="+ getDistributionGoodsService(Integer &#xa;        awardType):IDistributionGoods&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="Y_02-EN_IoHJkeKNFOdB-4" vertex="1">
          <mxGeometry y="26" width="318" height="50" as="geometry" />
        </mxCell>
        <mxCell id="R_3u6qOK7hoTTku55Onj-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IDistributionGoods&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ doDistribution(GoodsReq req): DistributionRes&lt;/font&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;sketch=1;strokeColor=#00FF00;fillColor=none;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1503.5" y="2045" width="424" height="93" as="geometry" />
        </mxCell>
        <mxCell id="JbVwztH6xZbUG5qw75G3-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;DistributionBase&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;- awardRepository: IAwardRepository&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ updateUsedAwardState(String uId,String orderId,&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;String awardId, Integer awardState,&lt;/font&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;String awardStateInfo)&lt;/span&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;sketch=1;strokeColor=#FF00FF;fillColor=none;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1494.75" y="2205" width="410.5" height="109" as="geometry" />
        </mxCell>
        <mxCell id="jfzkJPv1-4M1Qu6HgrZt-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;CouponGoods&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ doDistribution(GoodsReq req):&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;DistributionRes&lt;/font&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;sketch=1;strokeColor=#FF00FF;fillColor=none;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1235" y="1656.5" width="188" height="89" as="geometry" />
        </mxCell>
        <mxCell id="jfzkJPv1-4M1Qu6HgrZt-1" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;DescGoods&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ doDistribution(GoodsReq req):&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;DistributionRes&lt;/font&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;sketch=1;strokeColor=#FF00FF;fillColor=none;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1243" y="1889.5" width="194" height="88" as="geometry" />
        </mxCell>
        <mxCell id="jfzkJPv1-4M1Qu6HgrZt-2" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;PhysicalGoods&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ doDistribution(GoodsReq req):&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;DistributionRes&lt;/font&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;sketch=1;strokeColor=#FF00FF;fillColor=none;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1027" y="1650.5" width="188" height="89" as="geometry" />
        </mxCell>
        <mxCell id="jfzkJPv1-4M1Qu6HgrZt-3" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;RedeemCodeGoods&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ doDistribution(GoodsReq req):&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;DistributionRes&lt;/font&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;sketch=1;strokeColor=#FF00FF;fillColor=none;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1027" y="1889.5" width="194" height="88" as="geometry" />
        </mxCell>
        <mxCell id="jfzkJPv1-4M1Qu6HgrZt-4" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="onvCVF38rvDkbsvB6Jeo-1" vertex="1">
          <mxGeometry x="-1280" y="1657" width="30" height="297" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="CIzzbLGQJOHej8cakO5r" name="第七章">
    <mxGraphModel dx="1502" dy="663" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="S69Px7kqaJK9UjB_tENg-0" />
        <mxCell id="S69Px7kqaJK9UjB_tENg-1" parent="S69Px7kqaJK9UjB_tENg-0" />
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.486;entryY=0.997;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=12;" parent="S69Px7kqaJK9UjB_tENg-1" source="zN4e8cVv_usRUpZC657L-0" target="GWD0xoS1P7H3VjSCR1Bs-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.607;entryY=0.972;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=12;" parent="S69Px7kqaJK9UjB_tENg-1" source="zN4e8cVv_usRUpZC657L-0" target="GWD0xoS1P7H3VjSCR1Bs-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zN4e8cVv_usRUpZC657L-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IDistributionGoods&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ doDistribution(GoodsReq req): DistributionRes&lt;/font&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;sketch=1;strokeColor=#ae4132;fillColor=#fad9d5;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="311" y="285" width="505" height="93" as="geometry" />
        </mxCell>
        <mxCell id="zT6XGH9vGfhOh2WSXD1p-0" value="GoodsReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6C8EBF;swimlaneLine=1;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="302" y="22" width="223" height="208" as="geometry" />
        </mxCell>
        <mxCell id="zT6XGH9vGfhOh2WSXD1p-1" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="zT6XGH9vGfhOh2WSXD1p-0" vertex="1">
          <mxGeometry y="26" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="zT6XGH9vGfhOh2WSXD1p-2" value="- orderId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="zT6XGH9vGfhOh2WSXD1p-0" vertex="1">
          <mxGeometry y="52" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="zT6XGH9vGfhOh2WSXD1p-4" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="zT6XGH9vGfhOh2WSXD1p-0" vertex="1">
          <mxGeometry y="78" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="zT6XGH9vGfhOh2WSXD1p-3" value="- awardName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="zT6XGH9vGfhOh2WSXD1p-0" vertex="1">
          <mxGeometry y="104" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-0" value="- awardContext: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="zT6XGH9vGfhOh2WSXD1p-0" vertex="1">
          <mxGeometry y="130" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-1" value="- shippingAddress: ShippingAddress" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="zT6XGH9vGfhOh2WSXD1p-0" vertex="1">
          <mxGeometry y="156" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-2" value="- extInfo: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="zT6XGH9vGfhOh2WSXD1p-0" vertex="1">
          <mxGeometry y="182" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-3" value="ShippingAddress" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6C8EBF;swimlaneLine=1;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="27" y="13" width="223" height="364" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-4" value="- provinceId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-3" vertex="1">
          <mxGeometry y="26" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-5" value="- provinceName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-3" vertex="1">
          <mxGeometry y="52" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-6" value="- cityId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-3" vertex="1">
          <mxGeometry y="78" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-7" value="- cityName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-3" vertex="1">
          <mxGeometry y="104" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-8" value="- contryId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-3" vertex="1">
          <mxGeometry y="130" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-9" value="- contryName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-3" vertex="1">
          <mxGeometry y="156" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-10" value="- townId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-3" vertex="1">
          <mxGeometry y="182" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-19" value="- townName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-3" vertex="1">
          <mxGeometry y="208" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-21" value="- name: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-3" vertex="1">
          <mxGeometry y="234" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-22" value="- phone: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-3" vertex="1">
          <mxGeometry y="260" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-20" value="-address: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-3" vertex="1">
          <mxGeometry y="286" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-23" value="- email: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-3" vertex="1">
          <mxGeometry y="312" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-24" value="- remark: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-3" vertex="1">
          <mxGeometry y="338" width="223" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-11" value="DistributionRes" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6C8EBF;swimlaneLine=1;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="569" y="96" width="247" height="130" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-12" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-11" vertex="1">
          <mxGeometry y="26" width="247" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-13" value="- code: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-11" vertex="1">
          <mxGeometry y="52" width="247" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-17" value="- statementId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-11" vertex="1">
          <mxGeometry y="78" width="247" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-18" value="- info: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-11" vertex="1">
          <mxGeometry y="104" width="247" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=12;" parent="S69Px7kqaJK9UjB_tENg-1" source="GWD0xoS1P7H3VjSCR1Bs-26" target="GWD0xoS1P7H3VjSCR1Bs-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-26" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;&lt;font&gt;DistributionBase&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font&gt;- awardRepository: IAwardRepository&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font&gt;+ updateUsedAwardState(String uId,String orderId,&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font&gt;String awardId, Integer awardState,String awardStateInfo)&lt;/font&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;rounded=0;sketch=1;strokeColor=#b85450;fillColor=#f8cecc;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="225.5" y="646" width="410.5" height="109" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=none;endFill=0;endSize=12;" parent="S69Px7kqaJK9UjB_tENg-1" source="GWD0xoS1P7H3VjSCR1Bs-27" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="327.66664123535156" y="623.0833587646484" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-27" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;CouponGoods&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ doDistribution(GoodsReq req):&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;DistributionRes&lt;/font&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;sketch=1;strokeColor=#b85450;fillColor=#f8cecc;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="24" y="477" width="188" height="89" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-28" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;DescGoods&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ doDistribution(GoodsReq req):&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;DistributionRes&lt;/font&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;sketch=1;strokeColor=#b85450;fillColor=#f8cecc;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="230" y="477" width="194" height="88" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-31" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;PhysicalGoods&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ doDistribution(GoodsReq req):&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;DistributionRes&lt;/font&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;sketch=1;strokeColor=#b85450;fillColor=#f8cecc;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="448" y="478" width="188" height="89" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=none;endFill=0;endSize=12;" parent="S69Px7kqaJK9UjB_tENg-1" source="GWD0xoS1P7H3VjSCR1Bs-32" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="531" y="609" as="targetPoint" />
            <Array as="points">
              <mxPoint x="751" y="609" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-32" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;RedeemCodeGoods&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ doDistribution(GoodsReq req):&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;DistributionRes&lt;/font&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;sketch=1;strokeColor=#b85450;fillColor=#f8cecc;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="661" y="479" width="194" height="88" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-36" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=12;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.457;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" parent="S69Px7kqaJK9UjB_tENg-1" source="GWD0xoS1P7H3VjSCR1Bs-31" target="zN4e8cVv_usRUpZC657L-0" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="511" y="516" as="sourcePoint" />
            <mxPoint x="671" y="516" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-37" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=12;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.887;entryY=1.004;entryDx=0;entryDy=0;entryPerimeter=0;" parent="S69Px7kqaJK9UjB_tENg-1" source="GWD0xoS1P7H3VjSCR1Bs-32" target="zN4e8cVv_usRUpZC657L-0" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="506" y="489" as="sourcePoint" />
            <mxPoint x="666" y="489" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-38" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=12;exitX=0.904;exitY=0.018;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.185;entryY=1.025;entryDx=0;entryDy=0;entryPerimeter=0;" parent="S69Px7kqaJK9UjB_tENg-1" source="GWD0xoS1P7H3VjSCR1Bs-28" target="zN4e8cVv_usRUpZC657L-0" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="506" y="489" as="sourcePoint" />
            <mxPoint x="376" y="376" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-39" value="" style="endArrow=none;dashed=1;endFill=0;endSize=12;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=12;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="S69Px7kqaJK9UjB_tENg-1" source="GWD0xoS1P7H3VjSCR1Bs-27" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="353" y="536" as="sourcePoint" />
            <mxPoint x="405" y="432" as="targetPoint" />
            <Array as="points">
              <mxPoint x="118" y="432" />
              <mxPoint x="332" y="432" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-40" value="继承" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=12;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="S69Px7kqaJK9UjB_tENg-1" target="GWD0xoS1P7H3VjSCR1Bs-26" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="533" y="569" as="sourcePoint" />
            <mxPoint x="542" y="480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-41" value="继承" style="endArrow=block;endSize=12;endFill=0;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=12;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="S69Px7kqaJK9UjB_tENg-1" source="GWD0xoS1P7H3VjSCR1Bs-28" target="GWD0xoS1P7H3VjSCR1Bs-26" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="382" y="480" as="sourcePoint" />
            <mxPoint x="542" y="480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=12;" parent="S69Px7kqaJK9UjB_tENg-1" source="GWD0xoS1P7H3VjSCR1Bs-0" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="247" y="164" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-48" value="GoodsConfig" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#fff2cc;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#d6b656;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="921" y="279.5" width="290" height="104" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-49" value="- goodsList: List&lt;IDistributionGoods&gt;" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-48" vertex="1">
          <mxGeometry y="26" width="290" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-50" value="# goodsMap: Map&lt;Integer,IDistributionGoods&gt;" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-48" vertex="1">
          <mxGeometry y="52" width="290" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-51" value="+ init()" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-48" vertex="1">
          <mxGeometry y="78" width="290" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-52" value="DistributionGoodsFactory" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#fff2cc;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#d6b656;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="904" y="466" width="318" height="76" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-55" value="+ getDistributionGoodsService(Integer &#xa;        awardType):IDistributionGoods&gt;" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="GWD0xoS1P7H3VjSCR1Bs-52" vertex="1">
          <mxGeometry y="26" width="318" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-56" value="继承" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=12;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.488;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" parent="S69Px7kqaJK9UjB_tENg-1" source="GWD0xoS1P7H3VjSCR1Bs-52" target="GWD0xoS1P7H3VjSCR1Bs-51" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="891" y="445" as="sourcePoint" />
            <mxPoint x="1051" y="445" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.004;entryY=0.64;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=12;" parent="S69Px7kqaJK9UjB_tENg-1" source="GWD0xoS1P7H3VjSCR1Bs-50" target="zN4e8cVv_usRUpZC657L-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-59" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;span style=&quot;text-align: left&quot;&gt;&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;IAwardRepository&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;sketch=1;strokeColor=#ae4132;fillColor=#fad9d5;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="250" y="838" width="361.5" height="73" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-60" value="AwardRepository" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6C8EBF;swimlaneLine=1;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="260" y="965" width="359" height="72" as="geometry" />
        </mxCell>
        <mxCell id="GWD0xoS1P7H3VjSCR1Bs-67" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=12;exitX=0.474;exitY=0.006;exitDx=0;exitDy=0;exitPerimeter=0;" parent="S69Px7kqaJK9UjB_tENg-1" source="GWD0xoS1P7H3VjSCR1Bs-60" target="GWD0xoS1P7H3VjSCR1Bs-59" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="499" y="779" as="sourcePoint" />
            <mxPoint x="659" y="779" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lDPfRMrYZ9Zj0WEqe4Qt-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IDistributionGoods&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ doDistribution(GoodsReq req)&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;: DistributionRes&lt;/font&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;sketch=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="1304" y="661.5" width="243" height="112" as="geometry" />
        </mxCell>
        <mxCell id="lDPfRMrYZ9Zj0WEqe4Qt-1" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;DistributionBase&lt;/font&gt;&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;- awardRepository: IAwardRepository&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ updateUsedAwardState(String uId,String orderId,&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;String awardId, Integer awardState,&lt;/font&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;String awardStateInfo)&lt;/span&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;sketch=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="859" y="656" width="357" height="123" as="geometry" />
        </mxCell>
        <mxCell id="lDPfRMrYZ9Zj0WEqe4Qt-3" value="AbstractDistributionGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=38;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6C8EBF;swimlaneLine=1;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="1061" y="837.5" width="359" height="73" as="geometry" />
        </mxCell>
        <mxCell id="lDPfRMrYZ9Zj0WEqe4Qt-5" value="&lt;p style=&quot;font-family: &amp;#34;helvetica&amp;#34; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ doDistribution(GoodsReq req)&lt;/font&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;: DistributionRes&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;font-family: &amp;#34;helvetica&amp;#34; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;# sendGoods(GoodsReq req) : boolean&lt;/span&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;" parent="lDPfRMrYZ9Zj0WEqe4Qt-3" vertex="1">
          <mxGeometry y="38" width="359" height="35" as="geometry" />
        </mxCell>
        <mxCell id="lDPfRMrYZ9Zj0WEqe4Qt-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=none;endFill=0;endSize=10;" parent="S69Px7kqaJK9UjB_tENg-1" source="lDPfRMrYZ9Zj0WEqe4Qt-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1148.0392635569851" y="941.1666906020221" as="targetPoint" />
            <Array as="points">
              <mxPoint x="936" y="951.5" />
              <mxPoint x="1148" y="951.5" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lDPfRMrYZ9Zj0WEqe4Qt-6" value="CouponGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=29;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6C8EBF;swimlaneLine=1;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="849" y="983.5" width="175" height="64" as="geometry" />
        </mxCell>
        <mxCell id="lDPfRMrYZ9Zj0WEqe4Qt-7" value="&lt;p style=&quot;font-family: &amp;#34;helvetica&amp;#34; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;# sendGoods(GoodsReq&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;font-family: &amp;#34;helvetica&amp;#34; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;req)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;: boolean&lt;/span&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;" parent="lDPfRMrYZ9Zj0WEqe4Qt-6" vertex="1">
          <mxGeometry y="29" width="175" height="35" as="geometry" />
        </mxCell>
        <mxCell id="lDPfRMrYZ9Zj0WEqe4Qt-14" value="DescGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=29;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6C8EBF;swimlaneLine=1;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="1061" y="983.5" width="175" height="64" as="geometry" />
        </mxCell>
        <mxCell id="lDPfRMrYZ9Zj0WEqe4Qt-15" value="&lt;p style=&quot;font-family: &amp;#34;helvetica&amp;#34; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;# sendGoods(GoodsReq&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;font-family: &amp;#34;helvetica&amp;#34; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;req)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;: boolean&lt;/span&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;" parent="lDPfRMrYZ9Zj0WEqe4Qt-14" vertex="1">
          <mxGeometry y="29" width="175" height="35" as="geometry" />
        </mxCell>
        <mxCell id="lDPfRMrYZ9Zj0WEqe4Qt-16" value="PhysicalGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=29;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6C8EBF;swimlaneLine=1;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="1258" y="983.5" width="175" height="64" as="geometry" />
        </mxCell>
        <mxCell id="lDPfRMrYZ9Zj0WEqe4Qt-17" value="&lt;p style=&quot;font-family: &amp;#34;helvetica&amp;#34; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;# sendGoods(GoodsReq&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;font-family: &amp;#34;helvetica&amp;#34; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;req)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;: boolean&lt;/span&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;" parent="lDPfRMrYZ9Zj0WEqe4Qt-16" vertex="1">
          <mxGeometry y="29" width="175" height="35" as="geometry" />
        </mxCell>
        <mxCell id="lDPfRMrYZ9Zj0WEqe4Qt-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=none;endFill=0;endSize=10;" parent="S69Px7kqaJK9UjB_tENg-1" source="lDPfRMrYZ9Zj0WEqe4Qt-18" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1348.5237862723213" y="945.5952497209821" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1558" y="951.5" />
              <mxPoint x="1348" y="951.5" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lDPfRMrYZ9Zj0WEqe4Qt-18" value="RedeemCodeGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=29;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6C8EBF;swimlaneLine=1;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="1470" y="983.5" width="175" height="64" as="geometry" />
        </mxCell>
        <mxCell id="lDPfRMrYZ9Zj0WEqe4Qt-19" value="&lt;p style=&quot;font-family: &amp;#34;helvetica&amp;#34; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;# sendGoods(GoodsReq&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;font-family: &amp;#34;helvetica&amp;#34; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;req)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;: boolean&lt;/span&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;" parent="lDPfRMrYZ9Zj0WEqe4Qt-18" vertex="1">
          <mxGeometry y="29" width="175" height="35" as="geometry" />
        </mxCell>
        <mxCell id="lDPfRMrYZ9Zj0WEqe4Qt-20" value="" style="endArrow=block;dashed=1;endFill=0;endSize=10;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=12;exitX=0.845;exitY=0.009;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" parent="S69Px7kqaJK9UjB_tENg-1" source="lDPfRMrYZ9Zj0WEqe4Qt-3" target="lDPfRMrYZ9Zj0WEqe4Qt-0" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="965" y="846.5" as="sourcePoint" />
            <mxPoint x="1125" y="846.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lDPfRMrYZ9Zj0WEqe4Qt-21" value="继承" style="endArrow=block;endSize=10;endFill=0;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=12;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="S69Px7kqaJK9UjB_tENg-1" target="lDPfRMrYZ9Zj0WEqe4Qt-1" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1127" y="839.5" as="sourcePoint" />
            <mxPoint x="1205" y="792.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lDPfRMrYZ9Zj0WEqe4Qt-22" value="继承" style="endArrow=block;endSize=10;endFill=0;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=12;entryX=0.245;entryY=0.978;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="S69Px7kqaJK9UjB_tENg-1" source="lDPfRMrYZ9Zj0WEqe4Qt-14" target="lDPfRMrYZ9Zj0WEqe4Qt-5" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1151" y="980.5" as="sourcePoint" />
            <mxPoint x="1211" y="921.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lDPfRMrYZ9Zj0WEqe4Qt-24" value="继承" style="endArrow=block;endSize=10;endFill=0;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=12;entryX=0.245;entryY=0.978;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="S69Px7kqaJK9UjB_tENg-1" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1348" y="983.5" as="sourcePoint" />
            <mxPoint x="1348.455" y="909.73" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lDPfRMrYZ9Zj0WEqe4Qt-27" value="使用模板模式" style="shape=umlFrame;whiteSpace=wrap;html=1;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6C8EBF;fillColor=none;" parent="S69Px7kqaJK9UjB_tENg-1" vertex="1">
          <mxGeometry x="837" y="611" width="817" height="474" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="8YylCKG53Uo0ghhYJs3z" name="第八章-状态流转">
    <mxGraphModel dx="2146" dy="947" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="29XgIHyYghqC4hTqaWGw-0" />
        <mxCell id="29XgIHyYghqC4hTqaWGw-1" parent="29XgIHyYghqC4hTqaWGw-0" />
        <mxCell id="CttbuO6ixDed9Cejqse8-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IStateHandler&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ arraignment(Long activity,&lt;span&gt;Enum&amp;lt;Constants.ActivityState&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&amp;nbsp;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;currentStatus): Result&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ checkPass&lt;span&gt;(Long activity,&lt;/span&gt;&lt;span&gt;Enum&amp;lt;Constants.ActivityState&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&amp;nbsp;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;currentStatus): Result&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;+ checkRefuse(Long activity,Enum&amp;lt;Constants.ActivityState&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&amp;nbsp;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;currentStatus): Result&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;+ checkRevoke(Long activity,Enum&amp;lt;Constants.ActivityState&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&amp;nbsp;&amp;nbsp;currentStatus): Result&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;+ close(Long activity,Enum&amp;lt;Constants.ActivityState&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&amp;nbsp;&amp;nbsp;currentStatus): Result&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;+ open(Long activity,Enum&amp;lt;Constants.ActivityState&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&amp;nbsp;&amp;nbsp;currentStatus): Result&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;+ doing(Long activity,Enum&amp;lt;Constants.ActivityState&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&amp;nbsp;&amp;nbsp;currentStatus): Result&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;rounded=0;sketch=1;strokeColor=#3399FF;fillColor=none;" parent="29XgIHyYghqC4hTqaWGw-1" vertex="1">
          <mxGeometry x="371.5" y="482" width="338" height="276" as="geometry" />
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="29XgIHyYghqC4hTqaWGw-1" source="CttbuO6ixDed9Cejqse8-1" target="zY4kgVeB2WLkbhKpKzVA-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CttbuO6ixDed9Cejqse8-1" value="StateConfig" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="29XgIHyYghqC4hTqaWGw-1" vertex="1">
          <mxGeometry x="810" y="847" width="292" height="104" as="geometry" />
        </mxCell>
        <mxCell id="CttbuO6ixDed9Cejqse8-2" value="- stateGroup: Map&lt;Integer,AbstractState&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="CttbuO6ixDed9Cejqse8-1" vertex="1">
          <mxGeometry y="26" width="292" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CttbuO6ixDed9Cejqse8-3" value="- stateList:List&lt;AbstractState&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="CttbuO6ixDed9Cejqse8-1" vertex="1">
          <mxGeometry y="52" width="292" height="26" as="geometry" />
        </mxCell>
        <mxCell id="CttbuO6ixDed9Cejqse8-4" value="+ init()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="CttbuO6ixDed9Cejqse8-1" vertex="1">
          <mxGeometry y="78" width="292" height="26" as="geometry" />
        </mxCell>
        <mxCell id="JrmjYJndv7ssJsFyKGIp-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="29XgIHyYghqC4hTqaWGw-1" source="zY4kgVeB2WLkbhKpKzVA-0" target="JrmjYJndv7ssJsFyKGIp-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-0" value="AbstractState" style="swimlane;fontStyle=3;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="29XgIHyYghqC4hTqaWGw-1" vertex="1">
          <mxGeometry x="775" y="486.5" width="362" height="267" as="geometry" />
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-5" value="- activityRepository: IActivityRepository" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="zY4kgVeB2WLkbhKpKzVA-0" vertex="1">
          <mxGeometry y="26" width="362" height="26" as="geometry" />
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-2" value="+ arraignment(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ checkPass(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ checkRefuse(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ checkRevoke(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ close(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ open(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ doing(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="zY4kgVeB2WLkbhKpKzVA-0" vertex="1">
          <mxGeometry y="52" width="362" height="215" as="geometry" />
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-6" value="ArraignmentState" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="29XgIHyYghqC4hTqaWGw-1" vertex="1">
          <mxGeometry x="1308.5900000000001" y="492" width="149" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=none;endFill=0;endSize=10;" parent="29XgIHyYghqC4hTqaWGw-1" source="zY4kgVeB2WLkbhKpKzVA-10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1269.0233496093751" y="608.9333251953125" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-10" value="CloseState" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="29XgIHyYghqC4hTqaWGw-1" vertex="1">
          <mxGeometry x="1306.5900000000001" y="674" width="149" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=none;endFill=0;endSize=10;" parent="29XgIHyYghqC4hTqaWGw-1" source="zY4kgVeB2WLkbhKpKzVA-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1270.0900000000001" y="855.3333679199219" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-11" value="OpenState" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="29XgIHyYghqC4hTqaWGw-1" vertex="1">
          <mxGeometry x="1311.5900000000001" y="919" width="149" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=none;endFill=0;endSize=10;" parent="29XgIHyYghqC4hTqaWGw-1" source="zY4kgVeB2WLkbhKpKzVA-12" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1270.623349609375" y="935.3333679199219" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-12" value="DoingState" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="29XgIHyYghqC4hTqaWGw-1" vertex="1">
          <mxGeometry x="1313.5900000000001" y="1001" width="149" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=none;endFill=0;endSize=10;" parent="29XgIHyYghqC4hTqaWGw-1" source="zY4kgVeB2WLkbhKpKzVA-13" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1269.2011450195314" y="516.3888931274414" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1269.0900000000001" y="616" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-13" value="EditState" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="29XgIHyYghqC4hTqaWGw-1" vertex="1">
          <mxGeometry x="1306.5900000000001" y="591" width="149" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=none;endFill=0;endSize=10;" parent="29XgIHyYghqC4hTqaWGw-1" source="zY4kgVeB2WLkbhKpKzVA-14" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1269.29" y="692.666650390625" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-14" value="PassState" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="29XgIHyYghqC4hTqaWGw-1" vertex="1">
          <mxGeometry x="1308.5900000000001" y="755" width="149" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=none;endFill=0;endSize=10;" parent="29XgIHyYghqC4hTqaWGw-1" source="zY4kgVeB2WLkbhKpKzVA-15" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1270.0900000000001" y="772" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-15" value="RefuseState" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="29XgIHyYghqC4hTqaWGw-1" vertex="1">
          <mxGeometry x="1308.5900000000001" y="837" width="149" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-17" value="StateHandlerImpl" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="29XgIHyYghqC4hTqaWGw-1" vertex="1">
          <mxGeometry x="329" y="850" width="423" height="228" as="geometry" />
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-18" value="+ arraignment(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ checkPass(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ checkRefuse(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ checkRevoke(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ close(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ open(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ doing(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="zY4kgVeB2WLkbhKpKzVA-17" vertex="1">
          <mxGeometry y="26" width="423" height="202" as="geometry" />
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-21" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=12;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="29XgIHyYghqC4hTqaWGw-1" source="zY4kgVeB2WLkbhKpKzVA-17" target="CttbuO6ixDed9Cejqse8-0" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="447.5" y="784" as="sourcePoint" />
            <mxPoint x="607.5" y="784" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-22" value="继承" style="endArrow=block;endSize=10;endFill=0;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=12;entryX=0.515;entryY=1.006;entryDx=0;entryDy=0;entryPerimeter=0;" parent="29XgIHyYghqC4hTqaWGw-1" target="CttbuO6ixDed9Cejqse8-4" edge="1">
          <mxGeometry x="0.2694" y="13" width="160" relative="1" as="geometry">
            <mxPoint x="757" y="997" as="sourcePoint" />
            <mxPoint x="837.5" y="991" as="targetPoint" />
            <Array as="points">
              <mxPoint x="960" y="997" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zY4kgVeB2WLkbhKpKzVA-24" value="继承" style="endArrow=block;endSize=10;endFill=0;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=12;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.15;entryDx=0;entryDy=0;entryPerimeter=0;" parent="29XgIHyYghqC4hTqaWGw-1" source="zY4kgVeB2WLkbhKpKzVA-6" target="zY4kgVeB2WLkbhKpKzVA-5" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="829" y="653" as="sourcePoint" />
            <mxPoint x="989" y="653" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JrmjYJndv7ssJsFyKGIp-0" value="ActivityRepository" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;arcSize=0;strokeColor=#66FF66;swimlaneLine=1;" parent="29XgIHyYghqC4hTqaWGw-1" vertex="1">
          <mxGeometry x="739" y="142" width="426" height="88" as="geometry" />
        </mxCell>
        <mxCell id="JrmjYJndv7ssJsFyKGIp-1" value="+ alterStatus(Long activityId,Enum&lt;Constants.ActivityState&gt; &#xa;beforeState,Enum&lt;Constants.ActivityState&gt; afterStatus)：boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="JrmjYJndv7ssJsFyKGIp-0" vertex="1">
          <mxGeometry y="26" width="426" height="62" as="geometry" />
        </mxCell>
        <mxCell id="JrmjYJndv7ssJsFyKGIp-5" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IActivityRepository&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font&gt;+ alterStatus(Long activityId,&lt;/font&gt;&lt;span style=&quot;&quot;&gt;Enum&amp;lt;Constants.ActivityState&amp;gt;&lt;/span&gt;&lt;font&gt;&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font&gt;beforeState,&lt;/font&gt;&lt;span style=&quot;&quot;&gt;Enum&amp;lt;Constants.ActivityState&amp;gt;&lt;/span&gt;&lt;font&gt;&amp;nbsp;afterStatus)：boolean&lt;/font&gt;&lt;/p&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;rounded=0;sketch=1;strokeColor=#66FF66;fillColor=none;" parent="29XgIHyYghqC4hTqaWGw-1" vertex="1">
          <mxGeometry x="747" y="323" width="418" height="90" as="geometry" />
        </mxCell>
        <mxCell id="JrmjYJndv7ssJsFyKGIp-8" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=12;exitX=0.503;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="29XgIHyYghqC4hTqaWGw-1" source="JrmjYJndv7ssJsFyKGIp-1" target="JrmjYJndv7ssJsFyKGIp-5" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="909" y="349" as="sourcePoint" />
            <mxPoint x="1069" y="349" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第八章项目结构" id="oyIcNLMuT9-auIHABvyP">
    <mxGraphModel dx="7139" dy="1326" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-0" />
        <mxCell id="PRgig9kVJPmKsO_P1fFA-1" parent="PRgig9kVJPmKsO_P1fFA-0" />
        <mxCell id="PRgig9kVJPmKsO_P1fFA-2" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=232.5;entryDy=14;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#7EA6E0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;" parent="PRgig9kVJPmKsO_P1fFA-1" source="PRgig9kVJPmKsO_P1fFA-3" target="PRgig9kVJPmKsO_P1fFA-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-2179" y="1009" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zy88MuBjDpzhWLDHk10A-2" style="edgeStyle=none;shape=connector;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.538;entryY=1.018;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;curved=1;" parent="PRgig9kVJPmKsO_P1fFA-1" source="PRgig9kVJPmKsO_P1fFA-3" target="zy88MuBjDpzhWLDHk10A-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-3" value="lotter-domain" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-2281" y="914" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-4" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.domain.activity&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-2410" y="1069" width="425" height="76" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-7" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;model&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1915.5" y="266" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-8" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;repository&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1887" y="981" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-9" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;service&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1915.5" y="1884" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-14" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1684" y="953.68" width="30" height="187.32" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-21" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;entryX=-0.014;entryY=0.345;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="PRgig9kVJPmKsO_P1fFA-1" source="PRgig9kVJPmKsO_P1fFA-22" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1315.0140000000001" y="131.1500000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-22" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;aggregates&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1642.5" y="86" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-23" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="PRgig9kVJPmKsO_P1fFA-1" source="PRgig9kVJPmKsO_P1fFA-24" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1311.5" y="245" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-24" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;req&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1647.5" y="201" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-27" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;vo&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1634" y="489" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-28" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1704.5" y="103" width="30" height="457" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-43" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;仓储服务&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1889" y="934" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-44" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;聚合对象&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1930.5" y="206" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-46" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;领域服务&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1922" y="1826" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-48" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;活动聚合对象&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1296.5" y="44" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-50" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;活动配置参数&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1309.5" y="177" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-52" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;deploy&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1632" y="1399" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-53" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;stateflow&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1639" y="2393" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-54" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;impl&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1366" y="1272" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-61" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1150" y="1243" width="30" height="169" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-64" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1421" y="1291" width="30" height="298" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-75" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.004;entryY=0.562;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.513;exitDx=0;exitDy=0;exitPerimeter=0;entryPerimeter=0;" parent="PRgig9kVJPmKsO_P1fFA-1" source="PRgig9kVJPmKsO_P1fFA-76" target="aYQXIIS9ohpLuGRIU3aK-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1012.75" y="1999" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-76" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;impl&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1385" y="1960" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-77" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1440" y="1979" width="30" height="941" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-95" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1688" y="1420" width="30" height="1047" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-96" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1974" y="305" width="30" height="1653" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-97" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=14;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="PRgig9kVJPmKsO_P1fFA-1" source="PRgig9kVJPmKsO_P1fFA-98" target="PRgig9kVJPmKsO_P1fFA-100" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-98" value="lotter-infrastructure" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-765" y="784" width="222.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-99" value="&lt;font style=&quot;font-size: 12px&quot;&gt;&lt;font color=&quot;#333333&quot; style=&quot;font-size: 12px&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;基础服务层：&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(51 , 51 , 51) ; font-family: &amp;#34;open sans&amp;#34; , &amp;#34;clear sans&amp;#34; , &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; background-color: rgb(255 , 255 , 255)&quot;&gt;为各层提供资源服务（如数据库、缓存等）&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-747" y="737" width="237" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-100" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.&lt;/font&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;infrastructure&lt;/span&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-387" y="767" width="364" height="76" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-101" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;dao&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="31" y="871" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-102" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;po&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="34" y="1211" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-103" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="194" y="668" width="30" height="397" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-104" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-23" y="374" width="30" height="869" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-105" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IAwardDao&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#7F00FF;sketch=1;rounded=0;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="259" y="784" width="309" height="65" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-106" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IStrategyDetailDao&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#7F00FF;sketch=1;rounded=0;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="262" y="886" width="309" height="65" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-107" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IStrategyDao&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#7F00FF;sketch=1;rounded=0;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="255" y="1011" width="309" height="65" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-108" value="Award" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;fillColor=none;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="248" y="1124" width="160" height="52" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-109" value="" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="PRgig9kVJPmKsO_P1fFA-108" vertex="1">
          <mxGeometry y="26" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-110" value="Strategy" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;fillColor=none;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="248" y="1208" width="160" height="52" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-111" value="" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="PRgig9kVJPmKsO_P1fFA-110" vertex="1">
          <mxGeometry y="26" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-112" value="StrategyDetail" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;fillColor=none;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="251" y="1284" width="160" height="52" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-113" value="" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="PRgig9kVJPmKsO_P1fFA-112" vertex="1">
          <mxGeometry y="26" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-114" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="187" y="1128" width="30" height="265" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-115" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="PRgig9kVJPmKsO_P1fFA-1" source="PRgig9kVJPmKsO_P1fFA-116" target="PRgig9kVJPmKsO_P1fFA-118" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-116" value="lotter-interfaces" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-758" y="1577" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-117" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=40.5;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=261;exitDy=45;exitPerimeter=0;" parent="PRgig9kVJPmKsO_P1fFA-1" source="PRgig9kVJPmKsO_P1fFA-118" target="PRgig9kVJPmKsO_P1fFA-122" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-118" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;resource&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-422" y="1557.5" width="261" height="76" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-119" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=125;exitDy=27.25;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="PRgig9kVJPmKsO_P1fFA-1" source="PRgig9kVJPmKsO_P1fFA-122" target="PRgig9kVJPmKsO_P1fFA-123" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-120" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=125;exitDy=40.5;exitPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="PRgig9kVJPmKsO_P1fFA-1" source="PRgig9kVJPmKsO_P1fFA-122" target="PRgig9kVJPmKsO_P1fFA-124" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-121" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=125;exitDy=53.75;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="PRgig9kVJPmKsO_P1fFA-1" source="PRgig9kVJPmKsO_P1fFA-122" target="PRgig9kVJPmKsO_P1fFA-125" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DhgumlrruHWIXhuvBB_n-6" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=125;exitDy=67;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="PRgig9kVJPmKsO_P1fFA-1" source="PRgig9kVJPmKsO_P1fFA-122" target="DhgumlrruHWIXhuvBB_n-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-122" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;mappers&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-16" y="1562" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-123" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;span style=&quot;font-weight: 700&quot;&gt;AwardMapper&lt;/span&gt;&lt;span style=&quot;text-align: left&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;.xml&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#000000;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="203" y="1487" width="208" height="60" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-124" value="&lt;span style=&quot;font-size: 16px ; font-weight: 700&quot;&gt;Strategy&lt;/span&gt;&lt;span style=&quot;font-size: 16px ; font-weight: 700&quot;&gt;Mapper&lt;/span&gt;&lt;span style=&quot;font-size: 16px ; text-align: left&quot;&gt;&lt;b&gt;.xml&lt;/b&gt;&lt;/span&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#000000;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="206" y="1575" width="208" height="60" as="geometry" />
        </mxCell>
        <mxCell id="PRgig9kVJPmKsO_P1fFA-125" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;span style=&quot;font-weight: 700&quot;&gt;StrategyDetail&lt;/span&gt;&lt;span style=&quot;font-weight: 700&quot;&gt;Mapper&lt;/span&gt;&lt;span style=&quot;text-align: left&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;.xml&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#000000;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="206" y="1663" width="208" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lz015AMrMwcRpwK8B3lM-0" value="ActivityConfigRich" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1309.5" y="77" width="241.5" height="104" as="geometry" />
        </mxCell>
        <mxCell id="lz015AMrMwcRpwK8B3lM-1" value="- activity: ActivityVO" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="lz015AMrMwcRpwK8B3lM-0" vertex="1">
          <mxGeometry y="26" width="241.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lz015AMrMwcRpwK8B3lM-2" value="- strategy: StrategyVO" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="lz015AMrMwcRpwK8B3lM-0" vertex="1">
          <mxGeometry y="52" width="241.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="lz015AMrMwcRpwK8B3lM-3" value="- awardList: List&lt;AwardVO&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="lz015AMrMwcRpwK8B3lM-0" vertex="1">
          <mxGeometry y="78" width="241.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="6WzahT8bUo3fmyeAmbWs-0" value="ActivityConfigReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1309.5" y="203" width="243" height="78" as="geometry" />
        </mxCell>
        <mxCell id="6WzahT8bUo3fmyeAmbWs-1" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="6WzahT8bUo3fmyeAmbWs-0" vertex="1">
          <mxGeometry y="26" width="243" height="26" as="geometry" />
        </mxCell>
        <mxCell id="6WzahT8bUo3fmyeAmbWs-2" value="- activityConfigRich: ActivityConfigRich" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="6WzahT8bUo3fmyeAmbWs-0" vertex="1">
          <mxGeometry y="52" width="243" height="26" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-0" value="ActivityVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1318" y="323" width="207" height="260" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-1" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="II4P5ntKmNZC8JtnoflU-0" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-2" value="- activityName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="II4P5ntKmNZC8JtnoflU-0" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-3" value="- activityDesc: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="II4P5ntKmNZC8JtnoflU-0" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-4" value="- beginDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="II4P5ntKmNZC8JtnoflU-0" vertex="1">
          <mxGeometry y="104" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-5" value="- endDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="II4P5ntKmNZC8JtnoflU-0" vertex="1">
          <mxGeometry y="130" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-6" value="- state: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="II4P5ntKmNZC8JtnoflU-0" vertex="1">
          <mxGeometry y="156" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-7" value="- takeCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="II4P5ntKmNZC8JtnoflU-0" vertex="1">
          <mxGeometry y="182" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-8" value="- stokeCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="II4P5ntKmNZC8JtnoflU-0" vertex="1">
          <mxGeometry y="208" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-9" value="- creator: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="II4P5ntKmNZC8JtnoflU-0" vertex="1">
          <mxGeometry y="234" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-10" value="AwardVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1318" y="647" width="207" height="130" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-11" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="II4P5ntKmNZC8JtnoflU-10" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-12" value="- awardName : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="II4P5ntKmNZC8JtnoflU-10" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-13" value="- awardType : Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="II4P5ntKmNZC8JtnoflU-10" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-14" value="- awardContent: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="II4P5ntKmNZC8JtnoflU-10" vertex="1">
          <mxGeometry y="104" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-15" value="StrategyVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;arcSize=0;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1028" y="327" width="179" height="230" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-16" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="II4P5ntKmNZC8JtnoflU-15" vertex="1">
          <mxGeometry y="26" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-17" value="- strategyDesc: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="II4P5ntKmNZC8JtnoflU-15" vertex="1">
          <mxGeometry y="52" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-18" value="-strategyMode: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="II4P5ntKmNZC8JtnoflU-15" vertex="1">
          <mxGeometry y="78" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-19" value="- grantType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="II4P5ntKmNZC8JtnoflU-15" vertex="1">
          <mxGeometry y="104" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-20" value="- grantDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="II4P5ntKmNZC8JtnoflU-15" vertex="1">
          <mxGeometry y="130" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-21" value="- extInfo: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="II4P5ntKmNZC8JtnoflU-15" vertex="1">
          <mxGeometry y="156" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="II4P5ntKmNZC8JtnoflU-22" value="-  strategyDetailList: &#xa; List&lt;StrategyDetailVO&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="II4P5ntKmNZC8JtnoflU-15" vertex="1">
          <mxGeometry y="182" width="179" height="48" as="geometry" />
        </mxCell>
        <mxCell id="2aF3QIAdOSlSHaC5gYK9-0" value="StrategyDetailVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;arcSize=0;swimlaneLine=1;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1028" y="595" width="179" height="182" as="geometry" />
        </mxCell>
        <mxCell id="2aF3QIAdOSlSHaC5gYK9-1" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="2aF3QIAdOSlSHaC5gYK9-0" vertex="1">
          <mxGeometry y="26" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="2aF3QIAdOSlSHaC5gYK9-2" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="2aF3QIAdOSlSHaC5gYK9-0" vertex="1">
          <mxGeometry y="52" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="2aF3QIAdOSlSHaC5gYK9-3" value="- awardName : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="2aF3QIAdOSlSHaC5gYK9-0" vertex="1">
          <mxGeometry y="78" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="2aF3QIAdOSlSHaC5gYK9-4" value="- awardCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="2aF3QIAdOSlSHaC5gYK9-0" vertex="1">
          <mxGeometry y="104" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="2aF3QIAdOSlSHaC5gYK9-5" value="- awardSurplusCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="2aF3QIAdOSlSHaC5gYK9-0" vertex="1">
          <mxGeometry y="130" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="2aF3QIAdOSlSHaC5gYK9-6" value="- awardRate: BigDecimal" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="2aF3QIAdOSlSHaC5gYK9-0" vertex="1">
          <mxGeometry y="156" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="2aF3QIAdOSlSHaC5gYK9-16" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1401" y="323" width="30" height="459" as="geometry" />
        </mxCell>
        <mxCell id="i_SGRX_0tIT060FGONL8-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IActivityRepository&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ addActivity(ActivityVO activity)&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;+ addAward(AwardVO award)&lt;br&gt;&amp;nbsp;+ addStrategy(StrategyVO strategy)&lt;br&gt;&lt;/font&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;+ addStrategyDetailList(List&amp;lt;StrategyDetailVO&amp;gt; strategyDetailList)&lt;/span&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;sketch=1;strokeColor=#7F00FF;fillColor=none;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1625.75" y="988.8399999999999" width="418" height="117" as="geometry" />
        </mxCell>
        <mxCell id="1I-fczLnCpznQPtSdXvs-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IActivityDeploy&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ createActivity(ActivityConfigReq req)&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;+ updateActivity(ActivityConfigReq req)&lt;/font&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;sketch=1;strokeColor=#7F00FF;fillColor=none;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1366" y="1511" width="482" height="86" as="geometry" />
        </mxCell>
        <mxCell id="EHdu5t-bArI0MhLjqdY4-0" value="ActivityDeployImpl" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;arcSize=0;strokeColor=#007FFF;swimlaneLine=1;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1111" y="1275.5" width="475.75" height="104" as="geometry" />
        </mxCell>
        <mxCell id="EHdu5t-bArI0MhLjqdY4-1" value="- activityRepository: IActivityRepository&#xa;&#xa;&#xa;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="EHdu5t-bArI0MhLjqdY4-0" vertex="1">
          <mxGeometry y="26" width="475.75" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHdu5t-bArI0MhLjqdY4-2" value="+ createActivity(ActivityConfigReq req)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="EHdu5t-bArI0MhLjqdY4-0" vertex="1">
          <mxGeometry y="52" width="475.75" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHdu5t-bArI0MhLjqdY4-3" value="+ updateActivity(ActivityConfigReq req)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="EHdu5t-bArI0MhLjqdY4-0" vertex="1">
          <mxGeometry y="78" width="475.75" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHdu5t-bArI0MhLjqdY4-4" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;event&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1391" y="2209" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="3fphZrFJz_KpuAPA0FLy-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IStateHandler&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ arraignment(Long activity,&lt;span&gt;Enum&amp;lt;Constants.ActivityState&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&amp;nbsp;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;currentStatus): Result&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ checkPass&lt;span&gt;(Long activity,&lt;/span&gt;&lt;span&gt;Enum&amp;lt;Constants.ActivityState&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&amp;nbsp;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;currentStatus): Result&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;+ checkRefuse(Long activity,Enum&amp;lt;Constants.ActivityState&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&amp;nbsp;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;currentStatus): Result&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;+ checkRevoke(Long activity,Enum&amp;lt;Constants.ActivityState&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&amp;nbsp;&amp;nbsp;currentStatus): Result&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;+ close(Long activity,Enum&amp;lt;Constants.ActivityState&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&amp;nbsp;&amp;nbsp;currentStatus): Result&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;+ open(Long activity,Enum&amp;lt;Constants.ActivityState&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&amp;nbsp;&amp;nbsp;currentStatus): Result&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;+ doing(Long activity,Enum&amp;lt;Constants.ActivityState&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&amp;nbsp;&amp;nbsp;currentStatus): Result&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;rounded=0;sketch=1;strokeColor=#7F00FF;fillColor=none;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1387" y="2644" width="338" height="276" as="geometry" />
        </mxCell>
        <mxCell id="3fphZrFJz_KpuAPA0FLy-1" value="AbstractState" style="swimlane;fontStyle=3;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-976" y="2648.5" width="362" height="267" as="geometry" />
        </mxCell>
        <mxCell id="3fphZrFJz_KpuAPA0FLy-2" value="- activityRepository: IActivityRepository" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="3fphZrFJz_KpuAPA0FLy-1" vertex="1">
          <mxGeometry y="26" width="362" height="26" as="geometry" />
        </mxCell>
        <mxCell id="3fphZrFJz_KpuAPA0FLy-3" value="+ arraignment(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ checkPass(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ checkRefuse(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ checkRevoke(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ close(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ open(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ doing(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="3fphZrFJz_KpuAPA0FLy-1" vertex="1">
          <mxGeometry y="52" width="362" height="215" as="geometry" />
        </mxCell>
        <mxCell id="vb8e84zW3I5lQxrBO28v-0" value="StateConfig" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1394" y="2482" width="292" height="104" as="geometry" />
        </mxCell>
        <mxCell id="vb8e84zW3I5lQxrBO28v-1" value="- stateGroup: Map&lt;Integer,AbstractState&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="vb8e84zW3I5lQxrBO28v-0" vertex="1">
          <mxGeometry y="26" width="292" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vb8e84zW3I5lQxrBO28v-2" value="- stateList:List&lt;AbstractState&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="vb8e84zW3I5lQxrBO28v-0" vertex="1">
          <mxGeometry y="52" width="292" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vb8e84zW3I5lQxrBO28v-3" value="+ init()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="vb8e84zW3I5lQxrBO28v-0" vertex="1">
          <mxGeometry y="78" width="292" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aYQXIIS9ohpLuGRIU3aK-0" value="StateHandlerImpl" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1020" y="1862" width="423" height="228" as="geometry" />
        </mxCell>
        <mxCell id="aYQXIIS9ohpLuGRIU3aK-1" value="+ arraignment(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ checkPass(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ checkRefuse(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ checkRevoke(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ close(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ open(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result&#xa;+ doing(Long activity,Enum&lt;Constants.ActivityState&gt;&#xa;  currentStatus): Result" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="aYQXIIS9ohpLuGRIU3aK-0" vertex="1">
          <mxGeometry y="26" width="423" height="202" as="geometry" />
        </mxCell>
        <mxCell id="E__gH3AH_Xs_J7svRPVS-0" value="ArraignmentState" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1114.9999999999998" y="2234" width="149" height="50" as="geometry" />
        </mxCell>
        <mxCell id="E__gH3AH_Xs_J7svRPVS-2" value="CloseState" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1117.9999999999998" y="2303" width="149" height="50" as="geometry" />
        </mxCell>
        <mxCell id="E__gH3AH_Xs_J7svRPVS-4" value="OpenState" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-931.9999999999998" y="2287" width="149" height="50" as="geometry" />
        </mxCell>
        <mxCell id="E__gH3AH_Xs_J7svRPVS-6" value="DoingState" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-929.9999999999998" y="2369" width="149" height="50" as="geometry" />
        </mxCell>
        <mxCell id="E__gH3AH_Xs_J7svRPVS-8" value="EditState" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1114.9999999999998" y="2169" width="149" height="50" as="geometry" />
        </mxCell>
        <mxCell id="E__gH3AH_Xs_J7svRPVS-10" value="PassState" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-934.9999999999998" y="2123" width="149" height="50" as="geometry" />
        </mxCell>
        <mxCell id="E__gH3AH_Xs_J7svRPVS-12" value="RefuseState" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-934.9999999999998" y="2205" width="149" height="50" as="geometry" />
        </mxCell>
        <mxCell id="E__gH3AH_Xs_J7svRPVS-26" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-1178.5" y="2163" width="30" height="249" as="geometry" />
        </mxCell>
        <mxCell id="DhgumlrruHWIXhuvBB_n-1" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;IActivityDao&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#7F00FF;sketch=1;rounded=0;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="259" y="663" width="309" height="65" as="geometry" />
        </mxCell>
        <mxCell id="DhgumlrruHWIXhuvBB_n-3" value="Activity" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;fillColor=none;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="251" y="1350" width="160" height="52" as="geometry" />
        </mxCell>
        <mxCell id="DhgumlrruHWIXhuvBB_n-5" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;span style=&quot;font-weight: 700&quot;&gt;ActivityMapper&lt;/span&gt;&lt;span style=&quot;text-align: left&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;.xml&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#000000;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="206" y="1751" width="208" height="60" as="geometry" />
        </mxCell>
        <mxCell id="DhgumlrruHWIXhuvBB_n-7" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;repository&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="31" y="356" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="EnuJS7UzSb6OgNEgRpGk-0" value="ActivityRepository" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;arcSize=0;strokeColor=#007FFF;swimlaneLine=1;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="213" y="206" width="396" height="130" as="geometry" />
        </mxCell>
        <mxCell id="EnuJS7UzSb6OgNEgRpGk-1" value="+ addActivity(ActivityVO activity)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="EnuJS7UzSb6OgNEgRpGk-0" vertex="1">
          <mxGeometry y="26" width="396" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EnuJS7UzSb6OgNEgRpGk-2" value="+ addAward(AwardVO award)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="EnuJS7UzSb6OgNEgRpGk-0" vertex="1">
          <mxGeometry y="52" width="396" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EnuJS7UzSb6OgNEgRpGk-3" value="+ addStrategy(StrategyVO strategy)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="EnuJS7UzSb6OgNEgRpGk-0" vertex="1">
          <mxGeometry y="78" width="396" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EnuJS7UzSb6OgNEgRpGk-4" value="+ addStrategyDetailList(List&lt;StrategyDetailVO&gt; strategyDetailList)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="EnuJS7UzSb6OgNEgRpGk-0" vertex="1">
          <mxGeometry y="104" width="396" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OTNG_0SKQRcIKTxvQ62r-0" value="AwardRepository" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF00FF;swimlaneLine=1;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="217" y="379" width="387" height="72" as="geometry" />
        </mxCell>
        <mxCell id="qAeZlm8QLAD78EC0z01--5" value="StrategyRepository" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF00FF;swimlaneLine=1;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="216" y="499" width="387" height="72" as="geometry" />
        </mxCell>
        <mxCell id="qAeZlm8QLAD78EC0z01--6" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="168" y="210" width="30" height="364" as="geometry" />
        </mxCell>
        <mxCell id="qAeZlm8QLAD78EC0z01--7" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;之前领域层仓储实现移动到基础服务层&lt;/font&gt;&lt;/b&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="387" y="459" width="347" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zy88MuBjDpzhWLDHk10A-0" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.domain.strategy&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-2407" y="682" width="425" height="76" as="geometry" />
        </mxCell>
        <mxCell id="nY1Xx-4tThez2WKpX3Rh-0" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;model&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-2720" y="298" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="HzZkVd7LOSwEOIr9M63e-2" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=45;exitPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="PRgig9kVJPmKsO_P1fFA-1" source="nY1Xx-4tThez2WKpX3Rh-2" target="G4iEhHBwY_vZ3EWuWOHz-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nY1Xx-4tThez2WKpX3Rh-2" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;aggregates&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-3036" y="211" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="nY1Xx-4tThez2WKpX3Rh-3" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;vo&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-3036" y="533" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="G4iEhHBwY_vZ3EWuWOHz-0" value="StrategyRich" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;fillColor=none;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-3376" y="206" width="241.5" height="96" as="geometry" />
        </mxCell>
        <mxCell id="G4iEhHBwY_vZ3EWuWOHz-1" value="- strategyId ： Long&#xa;- strategy: StrategyBriefVO&#xa;- strategyDetailList: &#xa;List&lt;StrategyDetailBriefVO&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="G4iEhHBwY_vZ3EWuWOHz-0" vertex="1">
          <mxGeometry y="26" width="241.5" height="70" as="geometry" />
        </mxCell>
        <mxCell id="AG5Ny2Hgi2oWMuPvaKuU-0" value="StrategyBriefVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;arcSize=0;fontColor=#FF0000;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-3322.5" y="401" width="179" height="182" as="geometry" />
        </mxCell>
        <mxCell id="AG5Ny2Hgi2oWMuPvaKuU-2" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="AG5Ny2Hgi2oWMuPvaKuU-0" vertex="1">
          <mxGeometry y="26" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="AG5Ny2Hgi2oWMuPvaKuU-3" value="- strategyDesc: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="AG5Ny2Hgi2oWMuPvaKuU-0" vertex="1">
          <mxGeometry y="52" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="AG5Ny2Hgi2oWMuPvaKuU-4" value="-strategyMode: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="AG5Ny2Hgi2oWMuPvaKuU-0" vertex="1">
          <mxGeometry y="78" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="AG5Ny2Hgi2oWMuPvaKuU-5" value="- grantType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="AG5Ny2Hgi2oWMuPvaKuU-0" vertex="1">
          <mxGeometry y="104" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="AG5Ny2Hgi2oWMuPvaKuU-6" value="- grantDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="AG5Ny2Hgi2oWMuPvaKuU-0" vertex="1">
          <mxGeometry y="130" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="AG5Ny2Hgi2oWMuPvaKuU-7" value="- extInfo: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="AG5Ny2Hgi2oWMuPvaKuU-0" vertex="1">
          <mxGeometry y="156" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="FWlPHOhEFRTdIgbhnQ1u-0" value="StrategyDetailBriefVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;arcSize=0;swimlaneLine=1;fontColor=#FF0000;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-3325.5" y="629" width="179" height="182" as="geometry" />
        </mxCell>
        <mxCell id="FWlPHOhEFRTdIgbhnQ1u-2" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="FWlPHOhEFRTdIgbhnQ1u-0" vertex="1">
          <mxGeometry y="26" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="FWlPHOhEFRTdIgbhnQ1u-3" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="FWlPHOhEFRTdIgbhnQ1u-0" vertex="1">
          <mxGeometry y="52" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="FWlPHOhEFRTdIgbhnQ1u-4" value="- awardName : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="FWlPHOhEFRTdIgbhnQ1u-0" vertex="1">
          <mxGeometry y="78" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="FWlPHOhEFRTdIgbhnQ1u-5" value="- awardCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="FWlPHOhEFRTdIgbhnQ1u-0" vertex="1">
          <mxGeometry y="104" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="FWlPHOhEFRTdIgbhnQ1u-6" value="- awardSurplusCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="FWlPHOhEFRTdIgbhnQ1u-0" vertex="1">
          <mxGeometry y="130" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="FWlPHOhEFRTdIgbhnQ1u-7" value="- awardRate: BigDecimal" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="FWlPHOhEFRTdIgbhnQ1u-0" vertex="1">
          <mxGeometry y="156" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YneL0BuEugOktwqYVCYH-0" value="AwardBriefVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;fontColor=#FF0000;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-3579" y="540" width="207" height="130" as="geometry" />
        </mxCell>
        <mxCell id="YneL0BuEugOktwqYVCYH-2" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="YneL0BuEugOktwqYVCYH-0" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YneL0BuEugOktwqYVCYH-3" value="- awardName : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="YneL0BuEugOktwqYVCYH-0" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YneL0BuEugOktwqYVCYH-4" value="- awardType : Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="YneL0BuEugOktwqYVCYH-0" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YneL0BuEugOktwqYVCYH-5" value="- awardContent: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="YneL0BuEugOktwqYVCYH-0" vertex="1">
          <mxGeometry y="104" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HzZkVd7LOSwEOIr9M63e-1" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=45;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="PRgig9kVJPmKsO_P1fFA-1" source="YneL0BuEugOktwqYVCYH-8" target="HzZkVd7LOSwEOIr9M63e-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YneL0BuEugOktwqYVCYH-8" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;repository&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-2759.5" y="876" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="HzZkVd7LOSwEOIr9M63e-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IStrategyRepository&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;+ queryAwardInfo(String awardId): AwardBriefVO&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#9673a6;sketch=1;rounded=0;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-3191" y="872" width="309" height="94" as="geometry" />
        </mxCell>
        <mxCell id="HzZkVd7LOSwEOIr9M63e-4" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=west;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-2821" y="235" width="30" height="374" as="geometry" />
        </mxCell>
        <mxCell id="HzZkVd7LOSwEOIr9M63e-5" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=west;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-3085" y="405" width="30" height="396" as="geometry" />
        </mxCell>
        <mxCell id="HzZkVd7LOSwEOIr9M63e-6" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=west;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-2524" y="344" width="30" height="922" as="geometry" />
        </mxCell>
        <mxCell id="k0KSa2otWKMl5-CqB-cB-14" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=45;exitPerimeter=0;entryX=0;entryY=0;entryDx=185;entryDy=45;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="PRgig9kVJPmKsO_P1fFA-1" source="HzZkVd7LOSwEOIr9M63e-7" target="HzZkVd7LOSwEOIr9M63e-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HzZkVd7LOSwEOIr9M63e-7" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;service&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-2777" y="1213" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="HzZkVd7LOSwEOIr9M63e-8" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;draw&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-3089" y="1213" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="k0KSa2otWKMl5-CqB-cB-0" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;抽奖执行共用提取类&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-3657" y="1043" width="196" height="30" as="geometry" />
        </mxCell>
        <mxCell id="k0KSa2otWKMl5-CqB-cB-1" value="DrawStrategySupport" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fillColor=none;strokeColor=#3399FF;swimlaneLine=1;fontColor=#000000;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-3635" y="1075" width="409" height="112" as="geometry" />
        </mxCell>
        <mxCell id="k0KSa2otWKMl5-CqB-cB-2" value="- strategyRepository : IStrategyRepository " style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="k0KSa2otWKMl5-CqB-cB-1" vertex="1">
          <mxGeometry y="26" width="409" height="26" as="geometry" />
        </mxCell>
        <mxCell id="k0KSa2otWKMl5-CqB-cB-3" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;" parent="k0KSa2otWKMl5-CqB-cB-1" vertex="1">
          <mxGeometry y="52" width="409" height="8" as="geometry" />
        </mxCell>
        <mxCell id="k0KSa2otWKMl5-CqB-cB-4" value="# queryStrategyRich(Long strategyId) : StrategyRich&#xa;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;" parent="k0KSa2otWKMl5-CqB-cB-1" vertex="1">
          <mxGeometry y="60" width="409" height="26" as="geometry" />
        </mxCell>
        <mxCell id="k0KSa2otWKMl5-CqB-cB-5" value="# queryAwardInfoByAwardId(String awardId): AwardBriefVO" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="k0KSa2otWKMl5-CqB-cB-1" vertex="1">
          <mxGeometry y="86" width="409" height="26" as="geometry" />
        </mxCell>
        <mxCell id="k0KSa2otWKMl5-CqB-cB-6" value="AbstractDrawBase" style="swimlane;fontStyle=3;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fillColor=none;strokeColor=#3399FF;swimlaneLine=1;fontColor=#000000;labelBackgroundColor=none;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-3664" y="1282" width="456" height="206" as="geometry" />
        </mxCell>
        <mxCell id="k0KSa2otWKMl5-CqB-cB-7" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;" parent="k0KSa2otWKMl5-CqB-cB-6" vertex="1">
          <mxGeometry y="26" width="456" height="8" as="geometry" />
        </mxCell>
        <mxCell id="k0KSa2otWKMl5-CqB-cB-8" value="+ doDrawExec(DrawReq drawReq) : DrawResult" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontColor=#FF0000;" parent="k0KSa2otWKMl5-CqB-cB-6" vertex="1">
          <mxGeometry y="34" width="456" height="26" as="geometry" />
        </mxCell>
        <mxCell id="k0KSa2otWKMl5-CqB-cB-9" value="# queryExcludeAwardIds(Long strategyId) : List&lt;String&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontStyle=2;" parent="k0KSa2otWKMl5-CqB-cB-6" vertex="1">
          <mxGeometry y="60" width="456" height="26" as="geometry" />
        </mxCell>
        <mxCell id="k0KSa2otWKMl5-CqB-cB-10" value="# drawAlgorithm(Long strategyId,IDrawAlgorithm &#xa;drawAlgorithm,List&lt;String&gt; execludeAwardIds) : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontStyle=2;" parent="k0KSa2otWKMl5-CqB-cB-6" vertex="1">
          <mxGeometry y="86" width="456" height="42" as="geometry" />
        </mxCell>
        <mxCell id="k0KSa2otWKMl5-CqB-cB-11" value="- chechAndInitRateData(Long strategyId,&#xa; Integer strategyMode,List&lt;StrategyDetailBriefVO&gt; strategyDetailList)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="k0KSa2otWKMl5-CqB-cB-6" vertex="1">
          <mxGeometry y="128" width="456" height="42" as="geometry" />
        </mxCell>
        <mxCell id="k0KSa2otWKMl5-CqB-cB-12" value="- buildDrawResult(String uId, Long strategyId, String awardId) : DrawResult" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="k0KSa2otWKMl5-CqB-cB-6" vertex="1">
          <mxGeometry y="170" width="456" height="36" as="geometry" />
        </mxCell>
        <mxCell id="k0KSa2otWKMl5-CqB-cB-13" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;模板模式定义抽奖流程&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-3670" y="1252" width="196" height="30" as="geometry" />
        </mxCell>
        <mxCell id="k0KSa2otWKMl5-CqB-cB-15" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=west;" parent="PRgig9kVJPmKsO_P1fFA-1" vertex="1">
          <mxGeometry x="-3159" y="1069" width="30" height="396" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="vt68G4lyyOPSO53LzZ_-" name="第八章-创建活动">
    <mxGraphModel dx="2146" dy="947" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="yoAvVuwjnvtEj9BRLrUD-0" />
        <mxCell id="yoAvVuwjnvtEj9BRLrUD-1" parent="yoAvVuwjnvtEj9BRLrUD-0" />
        <mxCell id="0AaRVkYanpPTURBIa38t-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.442;entryY=1.005;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="yoAvVuwjnvtEj9BRLrUD-1" source="N4aEY1GLrW3pnPLwqlcG-0" target="N4aEY1GLrW3pnPLwqlcG-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="141" y="450" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="N4aEY1GLrW3pnPLwqlcG-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IActivityDeploy&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ createActivity(ActivityConfigReq req)&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;+ updateActivity(ActivityConfigReq req)&lt;/font&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;sketch=1;strokeColor=#FF3333;fillColor=none;" parent="yoAvVuwjnvtEj9BRLrUD-1" vertex="1">
          <mxGeometry x="41" y="495" width="482" height="86" as="geometry" />
        </mxCell>
        <mxCell id="N4aEY1GLrW3pnPLwqlcG-1" value="ActivityConfigReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="yoAvVuwjnvtEj9BRLrUD-1" vertex="1">
          <mxGeometry x="34" y="328" width="243" height="78" as="geometry" />
        </mxCell>
        <mxCell id="N4aEY1GLrW3pnPLwqlcG-2" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-1" vertex="1">
          <mxGeometry y="26" width="243" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4aEY1GLrW3pnPLwqlcG-3" value="- activityConfigRich: ActivityConfigRich" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-1" vertex="1">
          <mxGeometry y="52" width="243" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.603;entryY=0.983;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="yoAvVuwjnvtEj9BRLrUD-1" source="N4aEY1GLrW3pnPLwqlcG-5" target="WVXATJcrgJ8d9cVPF6Nj-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="yoAvVuwjnvtEj9BRLrUD-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="124.63771654211962" y="265.0579887058425" as="targetPoint" />
            <mxPoint x="434" y="290" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="434" y="290" />
              <mxPoint x="125" y="290" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="yoAvVuwjnvtEj9BRLrUD-1" target="WVXATJcrgJ8d9cVPF6Nj-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="677.101466966712" y="236.0027713145381" as="targetPoint" />
            <mxPoint x="435" y="290" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="677" y="290" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="N4aEY1GLrW3pnPLwqlcG-5" value="ActivityConfigRich" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="yoAvVuwjnvtEj9BRLrUD-1" vertex="1">
          <mxGeometry x="331" y="315" width="207" height="104" as="geometry" />
        </mxCell>
        <mxCell id="N4aEY1GLrW3pnPLwqlcG-6" value="- activity: ActivityVO" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-5" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4aEY1GLrW3pnPLwqlcG-8" value="- strategy: StrategyVO" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-5" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4aEY1GLrW3pnPLwqlcG-7" value="- awardList: List&lt;AwardVO&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-5" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4aEY1GLrW3pnPLwqlcG-9" value="ActivityVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="yoAvVuwjnvtEj9BRLrUD-1" vertex="1">
          <mxGeometry x="37" width="207" height="260" as="geometry" />
        </mxCell>
        <mxCell id="N4aEY1GLrW3pnPLwqlcG-10" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-9" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4aEY1GLrW3pnPLwqlcG-11" value="- activityName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-9" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4aEY1GLrW3pnPLwqlcG-12" value="- activityDesc: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-9" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-5" value="- beginDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-9" vertex="1">
          <mxGeometry y="104" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-6" value="- endDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-9" vertex="1">
          <mxGeometry y="130" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-9" value="- state: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-9" vertex="1">
          <mxGeometry y="156" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-8" value="- takeCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-9" vertex="1">
          <mxGeometry y="182" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-7" value="- stokeCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-9" vertex="1">
          <mxGeometry y="208" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-10" value="- creator: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-9" vertex="1">
          <mxGeometry y="234" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4aEY1GLrW3pnPLwqlcG-13" value="AwardVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="yoAvVuwjnvtEj9BRLrUD-1" vertex="1">
          <mxGeometry x="310" y="110" width="207" height="130" as="geometry" />
        </mxCell>
        <mxCell id="N4aEY1GLrW3pnPLwqlcG-14" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-13" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4aEY1GLrW3pnPLwqlcG-15" value="- awardName : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-13" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4aEY1GLrW3pnPLwqlcG-16" value="- awardType : Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-13" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-0" value="- awardContent: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-13" vertex="1">
          <mxGeometry y="104" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-38" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="yoAvVuwjnvtEj9BRLrUD-1" source="N4aEY1GLrW3pnPLwqlcG-17" target="WVXATJcrgJ8d9cVPF6Nj-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="709" y="270" />
              <mxPoint x="709" y="270" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="N4aEY1GLrW3pnPLwqlcG-17" value="StrategyVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;arcSize=0;" parent="yoAvVuwjnvtEj9BRLrUD-1" vertex="1">
          <mxGeometry x="610" y="2" width="179" height="230" as="geometry" />
        </mxCell>
        <mxCell id="N4aEY1GLrW3pnPLwqlcG-18" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-17" vertex="1">
          <mxGeometry y="26" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4aEY1GLrW3pnPLwqlcG-19" value="- strategyDesc: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-17" vertex="1">
          <mxGeometry y="52" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="N4aEY1GLrW3pnPLwqlcG-20" value="-strategyMode: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-17" vertex="1">
          <mxGeometry y="78" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-1" value="- grantType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-17" vertex="1">
          <mxGeometry y="104" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-2" value="- grantDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-17" vertex="1">
          <mxGeometry y="130" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-3" value="- extInfo: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-17" vertex="1">
          <mxGeometry y="156" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-4" value="-  strategyDetailList: &#xa; List&lt;StrategyDetailVO&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="N4aEY1GLrW3pnPLwqlcG-17" vertex="1">
          <mxGeometry y="182" width="179" height="48" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-11" value="StrategyDetailVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;arcSize=0;swimlaneLine=1;" parent="yoAvVuwjnvtEj9BRLrUD-1" vertex="1">
          <mxGeometry x="616" y="322" width="179" height="182" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-12" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="WVXATJcrgJ8d9cVPF6Nj-11" vertex="1">
          <mxGeometry y="26" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-13" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="WVXATJcrgJ8d9cVPF6Nj-11" vertex="1">
          <mxGeometry y="52" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-14" value="- awardName : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="WVXATJcrgJ8d9cVPF6Nj-11" vertex="1">
          <mxGeometry y="78" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-15" value="- awardCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="WVXATJcrgJ8d9cVPF6Nj-11" vertex="1">
          <mxGeometry y="104" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-16" value="- awardSurplusCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="WVXATJcrgJ8d9cVPF6Nj-11" vertex="1">
          <mxGeometry y="130" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-17" value="- awardRate: BigDecimal" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="WVXATJcrgJ8d9cVPF6Nj-11" vertex="1">
          <mxGeometry y="156" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.483;entryY=0.01;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="yoAvVuwjnvtEj9BRLrUD-1" source="WVXATJcrgJ8d9cVPF6Nj-20" target="WVXATJcrgJ8d9cVPF6Nj-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-20" value="ActivityDeployImpl" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;arcSize=0;strokeColor=#FF3333;swimlaneLine=1;" parent="yoAvVuwjnvtEj9BRLrUD-1" vertex="1">
          <mxGeometry x="41.25" y="649" width="475.75" height="104" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-34" value="- activityRepository: IActivityRepository&#xa;&#xa;&#xa;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="WVXATJcrgJ8d9cVPF6Nj-20" vertex="1">
          <mxGeometry y="26" width="475.75" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-21" value="+ createActivity(ActivityConfigReq req)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="WVXATJcrgJ8d9cVPF6Nj-20" vertex="1">
          <mxGeometry y="52" width="475.75" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-22" value="+ updateActivity(ActivityConfigReq req)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="WVXATJcrgJ8d9cVPF6Nj-20" vertex="1">
          <mxGeometry y="78" width="475.75" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-27" value="ActivityRepository" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;arcSize=0;strokeColor=#66FF66;swimlaneLine=1;" parent="yoAvVuwjnvtEj9BRLrUD-1" vertex="1">
          <mxGeometry x="66.13" y="1001" width="426" height="130" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-28" value="+ addActivity(ActivityVO activity)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="WVXATJcrgJ8d9cVPF6Nj-27" vertex="1">
          <mxGeometry y="26" width="426" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-29" value="+ addAward(AwardVO award)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="WVXATJcrgJ8d9cVPF6Nj-27" vertex="1">
          <mxGeometry y="52" width="426" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-31" value="+ addStrategy(StrategyVO strategy)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="WVXATJcrgJ8d9cVPF6Nj-27" vertex="1">
          <mxGeometry y="78" width="426" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-32" value="+ addStrategyDetailList(List&lt;StrategyDetailVO&gt; strategyDetailList)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="WVXATJcrgJ8d9cVPF6Nj-27" vertex="1">
          <mxGeometry y="104" width="426" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-30" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IActivityRepository&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ addActivity(ActivityVO activity)&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;+ addAward(AwardVO award)&lt;br&gt;&amp;nbsp;+ addStrategy(StrategyVO strategy)&lt;br&gt;&lt;/font&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;+ addStrategyDetailList(List&amp;lt;StrategyDetailVO&amp;gt; strategyDetailList)&lt;/span&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;sketch=1;strokeColor=#66FF66;fillColor=none;" parent="yoAvVuwjnvtEj9BRLrUD-1" vertex="1">
          <mxGeometry x="77.62" y="832" width="418" height="117" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.002;entryY=1.004;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="yoAvVuwjnvtEj9BRLrUD-1" source="N4aEY1GLrW3pnPLwqlcG-2" target="N4aEY1GLrW3pnPLwqlcG-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="316" y="367" />
              <mxPoint x="316" y="367" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-41" value="聚合" style="text;align=center;fontStyle=1;verticalAlign=middle;spacingLeft=3;spacingRight=3;strokeColor=none;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fillColor=none;" parent="yoAvVuwjnvtEj9BRLrUD-1" vertex="1">
          <mxGeometry x="417" y="260" width="80" height="26" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-43" value="" style="endArrow=block;dashed=1;endFill=0;endSize=10;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=12;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="yoAvVuwjnvtEj9BRLrUD-1" target="N4aEY1GLrW3pnPLwqlcG-0" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="282" y="645" as="sourcePoint" />
            <mxPoint x="602" y="643" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-44" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=12;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.485;entryY=0.998;entryDx=0;entryDy=0;entryPerimeter=0;" parent="yoAvVuwjnvtEj9BRLrUD-1" source="WVXATJcrgJ8d9cVPF6Nj-27" target="WVXATJcrgJ8d9cVPF6Nj-30" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="261.62" y="752" as="sourcePoint" />
            <mxPoint x="421.62" y="752" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-46" value="«interface»&lt;br&gt;&lt;b&gt;IActivityDao&lt;/b&gt;" style="html=1;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3333FF;fillColor=none;" parent="yoAvVuwjnvtEj9BRLrUD-1" vertex="1">
          <mxGeometry x="573.5" y="794" width="162" height="50" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-47" value="«interface»&lt;br&gt;&lt;b&gt;IAwardDao&lt;/b&gt;" style="html=1;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3333FF;fillColor=none;" parent="yoAvVuwjnvtEj9BRLrUD-1" vertex="1">
          <mxGeometry x="573.5" y="872" width="162" height="50" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-48" value="«interface»&lt;br&gt;&lt;b&gt;ISreategyDao&lt;/b&gt;" style="html=1;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3333FF;fillColor=none;" parent="yoAvVuwjnvtEj9BRLrUD-1" vertex="1">
          <mxGeometry x="578.5" y="947" width="162" height="50" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-49" value="«interface»&lt;br&gt;&lt;b&gt;ISreategyDetailDao&lt;/b&gt;" style="html=1;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3333FF;fillColor=none;" parent="yoAvVuwjnvtEj9BRLrUD-1" vertex="1">
          <mxGeometry x="578.5" y="1041" width="162" height="50" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="yoAvVuwjnvtEj9BRLrUD-1" source="WVXATJcrgJ8d9cVPF6Nj-29" target="WVXATJcrgJ8d9cVPF6Nj-49" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="yoAvVuwjnvtEj9BRLrUD-1" source="WVXATJcrgJ8d9cVPF6Nj-29" target="WVXATJcrgJ8d9cVPF6Nj-48" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="535" y="1066" />
              <mxPoint x="535" y="972" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="yoAvVuwjnvtEj9BRLrUD-1" source="WVXATJcrgJ8d9cVPF6Nj-29" target="WVXATJcrgJ8d9cVPF6Nj-47" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="533" y="1066" />
              <mxPoint x="533" y="897" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WVXATJcrgJ8d9cVPF6Nj-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="yoAvVuwjnvtEj9BRLrUD-1" source="WVXATJcrgJ8d9cVPF6Nj-29" target="WVXATJcrgJ8d9cVPF6Nj-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第八章-流程" id="M64fWkpaTFPnlvTzokP5">
    <mxGraphModel dx="2311" dy="1020" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="383IuQU8f-hTvhlLD74a-0" />
        <mxCell id="383IuQU8f-hTvhlLD74a-1" parent="383IuQU8f-hTvhlLD74a-0" />
        <mxCell id="7lA6xwRLAXvu4i_LztcI-22" value="Activity的状态变更" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#FF0000;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="94" y="1315" width="647" height="270" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-7" value="&lt;font color=&quot;#ff0000&quot;&gt;createActivity()流程&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF0000;verticalAlign=top;fontFamily=Comic Sans MS;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="550" y="701" width="268" height="312" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-4" value="ActivityConfigReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF0000;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="34" y="328" width="243" height="78" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-5" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-4" vertex="1">
          <mxGeometry y="26" width="243" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-6" value="- activityConfigRich: ActivityConfigRich" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-4" vertex="1">
          <mxGeometry y="52" width="243" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.603;entryY=0.983;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="383IuQU8f-hTvhlLD74a-1" source="383IuQU8f-hTvhlLD74a-10" target="383IuQU8f-hTvhlLD74a-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="383IuQU8f-hTvhlLD74a-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="124.63771654211962" y="265.0579887058425" as="targetPoint" />
            <mxPoint x="434" y="290" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="434" y="290" />
              <mxPoint x="125" y="290" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="383IuQU8f-hTvhlLD74a-1" target="383IuQU8f-hTvhlLD74a-37" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="677.101466966712" y="236.0027713145381" as="targetPoint" />
            <mxPoint x="435" y="290" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="677" y="290" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-10" value="ActivityConfigRich" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF0000;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="331" y="315" width="207" height="104" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-11" value="- activity: ActivityVO" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-10" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-12" value="- strategy: StrategyVO" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-10" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-13" value="- awardList: List&lt;AwardVO&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-10" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-14" value="ActivityVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF0000;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="37" width="207" height="260" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-15" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-14" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-16" value="- activityName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-14" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-17" value="- activityDesc: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-14" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-18" value="- beginDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-14" vertex="1">
          <mxGeometry y="104" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-19" value="- endDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-14" vertex="1">
          <mxGeometry y="130" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-20" value="- state: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-14" vertex="1">
          <mxGeometry y="156" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-21" value="- takeCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-14" vertex="1">
          <mxGeometry y="182" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-22" value="- stokeCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-14" vertex="1">
          <mxGeometry y="208" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-23" value="- creator: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-14" vertex="1">
          <mxGeometry y="234" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-24" value="AwardVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF0000;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="310" y="110" width="207" height="130" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-25" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-24" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-26" value="- awardName : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-24" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-27" value="- awardType : Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-24" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-28" value="- awardContent: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-24" vertex="1">
          <mxGeometry y="104" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-29" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="383IuQU8f-hTvhlLD74a-1" source="383IuQU8f-hTvhlLD74a-30" target="383IuQU8f-hTvhlLD74a-38" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="709" y="270" />
              <mxPoint x="709" y="270" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-30" value="StrategyVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF0000;arcSize=0;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="610" y="2" width="179" height="230" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-31" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-30" vertex="1">
          <mxGeometry y="26" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-32" value="- strategyDesc: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-30" vertex="1">
          <mxGeometry y="52" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-33" value="-strategyMode: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-30" vertex="1">
          <mxGeometry y="78" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-34" value="- grantType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-30" vertex="1">
          <mxGeometry y="104" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-35" value="- grantDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-30" vertex="1">
          <mxGeometry y="130" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-36" value="- extInfo: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-30" vertex="1">
          <mxGeometry y="156" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-37" value="-  strategyDetailList: &#xa; List&lt;StrategyDetailVO&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-30" vertex="1">
          <mxGeometry y="182" width="179" height="48" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-38" value="StrategyDetailVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF0000;arcSize=0;swimlaneLine=1;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="616" y="322" width="179" height="182" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-39" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-38" vertex="1">
          <mxGeometry y="26" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-40" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-38" vertex="1">
          <mxGeometry y="52" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-41" value="- awardName : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-38" vertex="1">
          <mxGeometry y="78" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-42" value="- awardCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-38" vertex="1">
          <mxGeometry y="104" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-43" value="- awardSurplusCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-38" vertex="1">
          <mxGeometry y="130" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-44" value="- awardRate: BigDecimal" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-38" vertex="1">
          <mxGeometry y="156" width="179" height="26" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.002;entryY=1.004;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=1;endSize=10;" parent="383IuQU8f-hTvhlLD74a-1" source="383IuQU8f-hTvhlLD74a-5" target="383IuQU8f-hTvhlLD74a-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="316" y="367" />
              <mxPoint x="316" y="367" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-57" value="聚合" style="text;align=center;fontStyle=1;verticalAlign=middle;spacingLeft=3;spacingRight=3;strokeColor=none;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fillColor=none;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="417" y="260" width="80" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-17" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="383IuQU8f-hTvhlLD74a-1" source="383IuQU8f-hTvhlLD74a-60" target="383IuQU8f-hTvhlLD74a-51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-60" value="«interface»&lt;br&gt;&lt;b&gt;IActivityDao&lt;/b&gt;" style="html=1;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF0000;fillColor=none;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="21.5" y="730" width="118" height="50" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-18" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="383IuQU8f-hTvhlLD74a-1" source="383IuQU8f-hTvhlLD74a-61" target="383IuQU8f-hTvhlLD74a-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-61" value="«interface»&lt;br&gt;&lt;b&gt;IAwardDao&lt;/b&gt;" style="html=1;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF0000;fillColor=none;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="24" y="799" width="116" height="50" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-19" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="383IuQU8f-hTvhlLD74a-1" source="383IuQU8f-hTvhlLD74a-62" target="383IuQU8f-hTvhlLD74a-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-62" value="«interface»&lt;br&gt;&lt;b&gt;ISreategyDao&lt;/b&gt;" style="html=1;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF0000;fillColor=none;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="24.5" y="865" width="115" height="50" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-20" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="383IuQU8f-hTvhlLD74a-1" source="383IuQU8f-hTvhlLD74a-63" target="383IuQU8f-hTvhlLD74a-54" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-63" value="«interface»&lt;br&gt;&lt;b&gt;ISreategyDetailDao&lt;/b&gt;" style="html=1;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF0000;fillColor=none;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="23" y="941" width="118" height="50" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-0" value="ActivityDeployImpl" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#FF0000;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="45" y="570" width="773" height="92" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-2" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.099;exitY=0.107;exitDx=0;exitDy=0;entryX=0.626;entryY=1.128;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;exitPerimeter=0;" parent="383IuQU8f-hTvhlLD74a-1" source="7lA6xwRLAXvu4i_LztcI-1" target="383IuQU8f-hTvhlLD74a-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-8" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;exitX=0.869;exitY=1.149;exitDx=0;exitDy=0;exitPerimeter=0;" parent="383IuQU8f-hTvhlLD74a-1" source="7lA6xwRLAXvu4i_LztcI-1" target="7lA6xwRLAXvu4i_LztcI-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-1" value="&lt;font color=&quot;#ff0000&quot; face=&quot;Comic Sans MS&quot;&gt;createActivity()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF0000;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="118" y="621" width="637" height="28" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-4" value="&lt;font style=&quot;font-size: 18px;&quot; face=&quot;Comic Sans MS&quot;&gt;请求参数&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="192" y="482" width="103" height="30" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-6" value="ActivityRepository" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#FF0000;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="162" y="699" width="328" height="309" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-13" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="383IuQU8f-hTvhlLD74a-1" source="383IuQU8f-hTvhlLD74a-51" target="7lA6xwRLAXvu4i_LztcI-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-51" value="addActivity(ActivityVO activity)" style="text;strokeColor=#FF0000;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="183.5" y="745" width="203" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-14" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="383IuQU8f-hTvhlLD74a-1" source="383IuQU8f-hTvhlLD74a-52" target="7lA6xwRLAXvu4i_LztcI-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-52" value="addAward(AwardVO award)" style="text;strokeColor=#FF0000;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="181" y="811" width="199.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-15" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="383IuQU8f-hTvhlLD74a-1" source="383IuQU8f-hTvhlLD74a-53" target="7lA6xwRLAXvu4i_LztcI-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-53" value="addStrategy(StrategyVO strategy)" style="text;strokeColor=#FF0000;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="181" y="877" width="229" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-16" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="383IuQU8f-hTvhlLD74a-1" source="383IuQU8f-hTvhlLD74a-54" target="7lA6xwRLAXvu4i_LztcI-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="383IuQU8f-hTvhlLD74a-54" value="addStrategyDetailList(List&lt;StrategyDetailVO&gt;&#xa;                                                 strategyDetailList)" style="text;strokeColor=#FF0000;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="181" y="945" width="293" height="42" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-9" value="1.添加活动信息" style="text;strokeColor=#FF0000;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="590" y="745" width="203" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-10" value="2.添加奖品信息" style="text;strokeColor=#FF0000;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="596" y="811" width="203" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-11" value="3.添加策略信息" style="text;strokeColor=#FF0000;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="596" y="877" width="203" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-12" value="4.添加策略详情" style="text;strokeColor=#FF0000;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="601" y="947.5" width="203" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-21" value="编辑" style="text;strokeColor=#FF0000;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="158" y="1405" width="60" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-34" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="383IuQU8f-hTvhlLD74a-1" source="7lA6xwRLAXvu4i_LztcI-23" target="7lA6xwRLAXvu4i_LztcI-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-35" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="383IuQU8f-hTvhlLD74a-1" source="7lA6xwRLAXvu4i_LztcI-23" target="7lA6xwRLAXvu4i_LztcI-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-23" value="提审" style="text;strokeColor=#FF0000;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="269" y="1392" width="60" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-32" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.491;entryY=0.005;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;sketch=1;curveFitting=1;jiggle=2;entryPerimeter=0;" parent="383IuQU8f-hTvhlLD74a-1" source="7lA6xwRLAXvu4i_LztcI-25" target="7lA6xwRLAXvu4i_LztcI-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-43" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.03;entryY=0.411;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.019;exitY=1.011;exitDx=0;exitDy=0;exitPerimeter=0;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="383IuQU8f-hTvhlLD74a-1" source="7lA6xwRLAXvu4i_LztcI-25" target="7lA6xwRLAXvu4i_LztcI-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-25" value="通过" style="text;strokeColor=#FF0000;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="467" y="1428" width="60" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-38" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.007;entryY=0.008;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.492;exitY=1.087;exitDx=0;exitDy=0;exitPerimeter=0;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="383IuQU8f-hTvhlLD74a-1" source="7lA6xwRLAXvu4i_LztcI-26" target="7lA6xwRLAXvu4i_LztcI-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-39" style="edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.508;entryY=0.046;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.519;exitY=0.037;exitDx=0;exitDy=0;exitPerimeter=0;endFill=1;sketch=1;curveFitting=1;jiggle=2;rounded=0;" parent="383IuQU8f-hTvhlLD74a-1" source="7lA6xwRLAXvu4i_LztcI-26" target="7lA6xwRLAXvu4i_LztcI-21" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="421.18" y="1378.9999999999998" as="sourcePoint" />
            <mxPoint x="184.99999999999994" y="1401.234" as="targetPoint" />
            <Array as="points">
              <mxPoint x="421" y="1371" />
              <mxPoint x="187" y="1372" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-26" value="拒绝" style="text;strokeColor=#FF0000;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="391" y="1383" width="60" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-27" value="关闭" style="text;strokeColor=#FF0000;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="269" y="1459" width="60" height="34" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-44" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.41;entryY=1.059;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="383IuQU8f-hTvhlLD74a-1" source="7lA6xwRLAXvu4i_LztcI-28" target="7lA6xwRLAXvu4i_LztcI-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-28" value="开启" style="text;strokeColor=#FF0000;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="266" y="1549" width="60" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-37" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.985;entryY=0.799;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.5;exitDx=0;exitDy=0;sketch=1;curveFitting=1;jiggle=2;endFill=1;entryPerimeter=0;" parent="383IuQU8f-hTvhlLD74a-1" source="7lA6xwRLAXvu4i_LztcI-29" target="7lA6xwRLAXvu4i_LztcI-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-29" value="运行(活动中)" style="text;strokeColor=#FF0000;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="383IuQU8f-hTvhlLD74a-1" vertex="1">
          <mxGeometry x="568" y="1476" width="103" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-30" value="" style="edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;rounded=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;curved=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;endFill=1;sketch=1;curveFitting=1;jiggle=2;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" parent="383IuQU8f-hTvhlLD74a-1" source="7lA6xwRLAXvu4i_LztcI-21" target="7lA6xwRLAXvu4i_LztcI-23" edge="1">
          <mxGeometry width="140" relative="1" as="geometry">
            <mxPoint x="407" y="1396" as="sourcePoint" />
            <mxPoint x="547" y="1396" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-31" value="" style="edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;rounded=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;curved=1;endFill=1;sketch=1;curveFitting=1;jiggle=2;entryX=-0.056;entryY=0.544;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="383IuQU8f-hTvhlLD74a-1" source="7lA6xwRLAXvu4i_LztcI-21" target="7lA6xwRLAXvu4i_LztcI-27" edge="1">
          <mxGeometry width="140" relative="1" as="geometry">
            <mxPoint x="220" y="1423" as="sourcePoint" />
            <mxPoint x="305" y="1433" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-36" value="" style="edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;rounded=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;curved=1;entryX=0.481;entryY=-0.021;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.499;exitY=1.011;exitDx=0;exitDy=0;exitPerimeter=0;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="383IuQU8f-hTvhlLD74a-1" source="7lA6xwRLAXvu4i_LztcI-23" target="7lA6xwRLAXvu4i_LztcI-27" edge="1">
          <mxGeometry width="140" relative="1" as="geometry">
            <mxPoint x="281" y="1417" as="sourcePoint" />
            <mxPoint x="421" y="1417" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-40" value="" style="edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;rounded=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;curved=1;entryX=0.497;entryY=0.046;entryDx=0;entryDy=0;entryPerimeter=0;endFill=1;sketch=1;curveFitting=1;jiggle=2;exitX=0.517;exitY=1.059;exitDx=0;exitDy=0;exitPerimeter=0;startArrow=classic;startFill=1;" parent="383IuQU8f-hTvhlLD74a-1" source="7lA6xwRLAXvu4i_LztcI-27" target="7lA6xwRLAXvu4i_LztcI-28" edge="1">
          <mxGeometry width="140" relative="1" as="geometry">
            <mxPoint x="301" y="1497" as="sourcePoint" />
            <mxPoint x="298.5" y="1525" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7lA6xwRLAXvu4i_LztcI-41" value="" style="edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;rounded=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;curved=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endFill=1;sketch=1;curveFitting=1;jiggle=2;exitX=0.484;exitY=0.088;exitDx=0;exitDy=0;exitPerimeter=0;" parent="383IuQU8f-hTvhlLD74a-1" source="7lA6xwRLAXvu4i_LztcI-25" target="7lA6xwRLAXvu4i_LztcI-26" edge="1">
          <mxGeometry width="140" relative="1" as="geometry">
            <mxPoint x="487" y="1424" as="sourcePoint" />
            <mxPoint x="447.62" y="1399.93" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="qGHXx7M_dUEcJ_pjAuTV" name="第九章">
    <mxGraphModel dx="1252" dy="553" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="EGNA5n2zW58jHJ6r6yEy-0" />
        <mxCell id="EGNA5n2zW58jHJ6r6yEy-1" parent="EGNA5n2zW58jHJ6r6yEy-0" />
        <mxCell id="EGNA5n2zW58jHJ6r6yEy-2" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IIdGenerator&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ nextId(): long&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;rounded=0;sketch=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="EGNA5n2zW58jHJ6r6yEy-1" vertex="1">
          <mxGeometry x="287" y="101" width="243" height="82" as="geometry" />
        </mxCell>
        <mxCell id="EGNA5n2zW58jHJ6r6yEy-3" value="RandomNumeric" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#dae8fc;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6c8ebf;" parent="EGNA5n2zW58jHJ6r6yEy-1" vertex="1">
          <mxGeometry x="59" y="243" width="194" height="52" as="geometry" />
        </mxCell>
        <mxCell id="EGNA5n2zW58jHJ6r6yEy-4" value="+ nextId(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="EGNA5n2zW58jHJ6r6yEy-3" vertex="1">
          <mxGeometry y="26" width="194" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EGNA5n2zW58jHJ6r6yEy-7" value="ShortCode" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#dae8fc;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6c8ebf;" parent="EGNA5n2zW58jHJ6r6yEy-1" vertex="1">
          <mxGeometry x="311.5" y="243" width="194" height="52" as="geometry" />
        </mxCell>
        <mxCell id="EGNA5n2zW58jHJ6r6yEy-8" value="+ nextId(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="EGNA5n2zW58jHJ6r6yEy-7" vertex="1">
          <mxGeometry y="26" width="194" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EGNA5n2zW58jHJ6r6yEy-9" value="SnowFlake" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#dae8fc;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6c8ebf;" parent="EGNA5n2zW58jHJ6r6yEy-1" vertex="1">
          <mxGeometry x="582" y="191" width="194" height="104" as="geometry" />
        </mxCell>
        <mxCell id="EGNA5n2zW58jHJ6r6yEy-12" value="- snowFlake: SnowFlake" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="EGNA5n2zW58jHJ6r6yEy-9" vertex="1">
          <mxGeometry y="26" width="194" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EGNA5n2zW58jHJ6r6yEy-11" value="- init()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="EGNA5n2zW58jHJ6r6yEy-9" vertex="1">
          <mxGeometry y="52" width="194" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EGNA5n2zW58jHJ6r6yEy-10" value="+ nextId(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="EGNA5n2zW58jHJ6r6yEy-9" vertex="1">
          <mxGeometry y="78" width="194" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EGNA5n2zW58jHJ6r6yEy-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=10;endArrow=classic;endFill=1;endSize=10;" parent="EGNA5n2zW58jHJ6r6yEy-1" source="EGNA5n2zW58jHJ6r6yEy-14" target="EGNA5n2zW58jHJ6r6yEy-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EGNA5n2zW58jHJ6r6yEy-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;fontSize=10;endArrow=classic;endFill=1;endSize=10;entryX=0.536;entryY=1.022;entryDx=0;entryDy=0;entryPerimeter=0;" parent="EGNA5n2zW58jHJ6r6yEy-1" source="EGNA5n2zW58jHJ6r6yEy-14" target="EGNA5n2zW58jHJ6r6yEy-10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="667.3333129882812" y="306.0000305175781" as="targetPoint" />
            <Array as="points">
              <mxPoint x="409" y="343" />
              <mxPoint x="686" y="343" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EGNA5n2zW58jHJ6r6yEy-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;fontSize=10;endArrow=classic;endFill=1;endSize=10;" parent="EGNA5n2zW58jHJ6r6yEy-1" source="EGNA5n2zW58jHJ6r6yEy-14" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="140.80958775111603" y="298.23810686383933" as="targetPoint" />
            <Array as="points">
              <mxPoint x="409" y="343" />
              <mxPoint x="141" y="343" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EGNA5n2zW58jHJ6r6yEy-14" value="IdContext" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#dae8fc;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6c8ebf;" parent="EGNA5n2zW58jHJ6r6yEy-1" vertex="1">
          <mxGeometry x="192.5" y="389" width="432" height="76" as="geometry" />
        </mxCell>
        <mxCell id="EGNA5n2zW58jHJ6r6yEy-15" value="+ idGenerator(RandomNumeric randomNumeric,ShortCode shortCode&#xa;                       ,SnowFlake snowFlake):Map&lt;Constants.Ids, IIdGenerator&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="EGNA5n2zW58jHJ6r6yEy-14" vertex="1">
          <mxGeometry y="26" width="432" height="50" as="geometry" />
        </mxCell>
        <mxCell id="EGNA5n2zW58jHJ6r6yEy-16" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=10;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="EGNA5n2zW58jHJ6r6yEy-1" source="EGNA5n2zW58jHJ6r6yEy-7" target="EGNA5n2zW58jHJ6r6yEy-2" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="287" y="234" as="sourcePoint" />
            <mxPoint x="447" y="234" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EGNA5n2zW58jHJ6r6yEy-17" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=10;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="EGNA5n2zW58jHJ6r6yEy-1" source="EGNA5n2zW58jHJ6r6yEy-9" target="EGNA5n2zW58jHJ6r6yEy-2" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="302" y="231" as="sourcePoint" />
            <mxPoint x="462" y="231" as="targetPoint" />
            <Array as="points">
              <mxPoint x="679" y="142" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EGNA5n2zW58jHJ6r6yEy-18" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;fontFamily=Comic Sans MS;fontSize=10;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="EGNA5n2zW58jHJ6r6yEy-1" source="EGNA5n2zW58jHJ6r6yEy-3" target="EGNA5n2zW58jHJ6r6yEy-2" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="302" y="231" as="sourcePoint" />
            <mxPoint x="462" y="231" as="targetPoint" />
            <Array as="points">
              <mxPoint x="155" y="142" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第九章项目结构" id="MCDbYezqLlH2I92O_Gv2">
    <mxGraphModel dx="4248" dy="780" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="ZRjOEZ9YgfYzbJEGXoeY-0" />
        <mxCell id="ZRjOEZ9YgfYzbJEGXoeY-1" parent="ZRjOEZ9YgfYzbJEGXoeY-0" />
        <mxCell id="ZRjOEZ9YgfYzbJEGXoeY-2" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=232.5;entryDy=14;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#7EA6E0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;" parent="ZRjOEZ9YgfYzbJEGXoeY-1" source="ZRjOEZ9YgfYzbJEGXoeY-3" target="ZRjOEZ9YgfYzbJEGXoeY-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZRjOEZ9YgfYzbJEGXoeY-3" value="lotter-domain" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="ZRjOEZ9YgfYzbJEGXoeY-1" vertex="1">
          <mxGeometry x="-2323" y="396.5" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="i6wNImsFziQ9n-ak-RIm-0" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=425;exitDy=45;exitPerimeter=0;entryX=0;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="ZRjOEZ9YgfYzbJEGXoeY-1" source="ZRjOEZ9YgfYzbJEGXoeY-4" target="ZRjOEZ9YgfYzbJEGXoeY-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZRjOEZ9YgfYzbJEGXoeY-4" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.domain.support&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="ZRjOEZ9YgfYzbJEGXoeY-1" vertex="1">
          <mxGeometry x="-2451" y="516" width="425" height="76" as="geometry" />
        </mxCell>
        <mxCell id="ZRjOEZ9YgfYzbJEGXoeY-7" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;ids&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="ZRjOEZ9YgfYzbJEGXoeY-1" vertex="1">
          <mxGeometry x="-1904" y="516" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="ZRjOEZ9YgfYzbJEGXoeY-18" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;领域服务&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="ZRjOEZ9YgfYzbJEGXoeY-1" vertex="1">
          <mxGeometry x="-1908" y="471" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZRjOEZ9YgfYzbJEGXoeY-22" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;policy&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="ZRjOEZ9YgfYzbJEGXoeY-1" vertex="1">
          <mxGeometry x="-1663" y="210" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="ZRjOEZ9YgfYzbJEGXoeY-24" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="ZRjOEZ9YgfYzbJEGXoeY-1" vertex="1">
          <mxGeometry x="-1461" y="99.5" width="30" height="297" as="geometry" />
        </mxCell>
        <mxCell id="ZRjOEZ9YgfYzbJEGXoeY-27" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="ZRjOEZ9YgfYzbJEGXoeY-1" vertex="1">
          <mxGeometry x="-1719" y="231" width="30" height="491" as="geometry" />
        </mxCell>
        <mxCell id="PPQNDrKRGvqergCo2-vG-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IIdGenerator&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ nextId(): long&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;rounded=0;sketch=1;strokeColor=#9673a6;fillColor=none;" parent="ZRjOEZ9YgfYzbJEGXoeY-1" vertex="1">
          <mxGeometry x="-1595" y="473" width="243" height="82" as="geometry" />
        </mxCell>
        <mxCell id="PPQNDrKRGvqergCo2-vG-1" value="RandomNumeric" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6c8ebf;" parent="ZRjOEZ9YgfYzbJEGXoeY-1" vertex="1">
          <mxGeometry x="-1393" y="206" width="194" height="52" as="geometry" />
        </mxCell>
        <mxCell id="PPQNDrKRGvqergCo2-vG-2" value="+ nextId(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="PPQNDrKRGvqergCo2-vG-1" vertex="1">
          <mxGeometry y="26" width="194" height="26" as="geometry" />
        </mxCell>
        <mxCell id="PPQNDrKRGvqergCo2-vG-3" value="ShortCode" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6c8ebf;" parent="ZRjOEZ9YgfYzbJEGXoeY-1" vertex="1">
          <mxGeometry x="-1393" y="96" width="194" height="52" as="geometry" />
        </mxCell>
        <mxCell id="PPQNDrKRGvqergCo2-vG-4" value="+ nextId(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="PPQNDrKRGvqergCo2-vG-3" vertex="1">
          <mxGeometry y="26" width="194" height="26" as="geometry" />
        </mxCell>
        <mxCell id="PPQNDrKRGvqergCo2-vG-5" value="SnowFlake" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6c8ebf;" parent="ZRjOEZ9YgfYzbJEGXoeY-1" vertex="1">
          <mxGeometry x="-1393" y="297" width="194" height="104" as="geometry" />
        </mxCell>
        <mxCell id="PPQNDrKRGvqergCo2-vG-6" value="- snowFlake: SnowFlake" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="PPQNDrKRGvqergCo2-vG-5" vertex="1">
          <mxGeometry y="26" width="194" height="26" as="geometry" />
        </mxCell>
        <mxCell id="PPQNDrKRGvqergCo2-vG-7" value="- init()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="PPQNDrKRGvqergCo2-vG-5" vertex="1">
          <mxGeometry y="52" width="194" height="26" as="geometry" />
        </mxCell>
        <mxCell id="PPQNDrKRGvqergCo2-vG-8" value="+ nextId(): long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="PPQNDrKRGvqergCo2-vG-5" vertex="1">
          <mxGeometry y="78" width="194" height="26" as="geometry" />
        </mxCell>
        <mxCell id="PPQNDrKRGvqergCo2-vG-12" value="IdContext" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6c8ebf;" parent="ZRjOEZ9YgfYzbJEGXoeY-1" vertex="1">
          <mxGeometry x="-1642" y="649" width="432" height="76" as="geometry" />
        </mxCell>
        <mxCell id="PPQNDrKRGvqergCo2-vG-13" value="+ idGenerator(RandomNumeric randomNumeric,ShortCode shortCode&#xa;                       ,SnowFlake snowFlake):Map&lt;Constants.Ids, IIdGenerator&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="PPQNDrKRGvqergCo2-vG-12" vertex="1">
          <mxGeometry y="26" width="432" height="50" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="1d_O-YKZJSV3O8iK6mV8" name="第十章">
    <mxGraphModel dx="1502" dy="663" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="9VAHAnT6p5sPfFWD_CzV-0" />
        <mxCell id="9VAHAnT6p5sPfFWD_CzV-1" parent="9VAHAnT6p5sPfFWD_CzV-0" />
        <mxCell id="HkDd7tAVXwh1VlAIK28--1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=0;dashed=1;sketch=1;" parent="9VAHAnT6p5sPfFWD_CzV-1" source="HkDd7tAVXwh1VlAIK28--0" target="HkDd7tAVXwh1VlAIK28--2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="435.2643537850216" y="75.99999999999994" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=8;endArrow=classic;endFill=0;" parent="9VAHAnT6p5sPfFWD_CzV-1" source="HkDd7tAVXwh1VlAIK28--0" target="HkDd7tAVXwh1VlAIK28--3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;" parent="9VAHAnT6p5sPfFWD_CzV-1" source="HkDd7tAVXwh1VlAIK28--0" target="HkDd7tAVXwh1VlAIK28--8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;" parent="9VAHAnT6p5sPfFWD_CzV-1" source="HkDd7tAVXwh1VlAIK28--0" target="HkDd7tAVXwh1VlAIK28--11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="9VAHAnT6p5sPfFWD_CzV-1" source="HkDd7tAVXwh1VlAIK28--0" target="HkDd7tAVXwh1VlAIK28--17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=0;" parent="9VAHAnT6p5sPfFWD_CzV-1" source="HkDd7tAVXwh1VlAIK28--0" target="HkDd7tAVXwh1VlAIK28--32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=0;" parent="9VAHAnT6p5sPfFWD_CzV-1" source="HkDd7tAVXwh1VlAIK28--0" target="HkDd7tAVXwh1VlAIK28--38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--0" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;DataSourceAutoConfig&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;sketch=1;" parent="9VAHAnT6p5sPfFWD_CzV-1" vertex="1">
          <mxGeometry x="426" y="49" width="219" height="64" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--2" value="&lt;font style=&quot;font-size: 12px&quot;&gt;使用springboot自动加载&lt;br&gt;META-INFO/spring.factories&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;strokeColor=#3399FF;" parent="9VAHAnT6p5sPfFWD_CzV-1" vertex="1">
          <mxGeometry x="27" y="51.5" width="178" height="59" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=0;" parent="9VAHAnT6p5sPfFWD_CzV-1" source="HkDd7tAVXwh1VlAIK28--3" target="HkDd7tAVXwh1VlAIK28--6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;" parent="9VAHAnT6p5sPfFWD_CzV-1" source="HkDd7tAVXwh1VlAIK28--3" target="HkDd7tAVXwh1VlAIK28--8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.287;entryY=1.028;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;entryPerimeter=0;" parent="9VAHAnT6p5sPfFWD_CzV-1" source="HkDd7tAVXwh1VlAIK28--3" target="HkDd7tAVXwh1VlAIK28--11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="108" y="257" />
              <mxPoint x="409" y="257" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--3" value="&lt;font style=&quot;font-size: 12px&quot;&gt;DBRouterConfig&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=8;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="9VAHAnT6p5sPfFWD_CzV-1" vertex="1">
          <mxGeometry x="18" y="177" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--5" value="解析环境，装载" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=8;fontFamily=Comic Sans MS;" parent="9VAHAnT6p5sPfFWD_CzV-1" vertex="1">
          <mxGeometry x="263" y="128" width="66" height="14" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--6" value="解析设置dbCount、tbCount、routerKey" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="9VAHAnT6p5sPfFWD_CzV-1" vertex="1">
          <mxGeometry x="17.5" y="283" width="121" height="52" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;" parent="9VAHAnT6p5sPfFWD_CzV-1" source="HkDd7tAVXwh1VlAIK28--8" target="HkDd7tAVXwh1VlAIK28--11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--8" value="&lt;font style=&quot;font-size: 9px&quot;&gt;DBRouterStrategyHashcode&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=8;strokeColor=#d6b656;fillColor=#fff2cc;" parent="9VAHAnT6p5sPfFWD_CzV-1" vertex="1">
          <mxGeometry x="184.25" y="176" width="142.5" height="62" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;" parent="9VAHAnT6p5sPfFWD_CzV-1" target="HkDd7tAVXwh1VlAIK28--21" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="435" y="241" as="sourcePoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--11" value="&lt;font style=&quot;font-size: 9px&quot;&gt;DBRouterJointPoint&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=8;strokeColor=#b85450;fillColor=#f8cecc;" parent="9VAHAnT6p5sPfFWD_CzV-1" vertex="1">
          <mxGeometry x="368" y="176" width="142.5" height="62" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;" parent="9VAHAnT6p5sPfFWD_CzV-1" source="HkDd7tAVXwh1VlAIK28--17" target="HkDd7tAVXwh1VlAIK28--19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--17" value="&lt;font size=&quot;1&quot;&gt;DynamicMybatisPlugin&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=8;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="9VAHAnT6p5sPfFWD_CzV-1" vertex="1">
          <mxGeometry x="559" y="176" width="142.5" height="62" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--19" value="使用拦截器，&lt;b&gt;解决分表问题&lt;/b&gt;&lt;br&gt;获取sql语句，替换表名" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="9VAHAnT6p5sPfFWD_CzV-1" vertex="1">
          <mxGeometry x="555.25" y="283" width="150" height="55" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;" parent="9VAHAnT6p5sPfFWD_CzV-1" source="HkDd7tAVXwh1VlAIK28--21" target="HkDd7tAVXwh1VlAIK28--24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--21" value="对符合的目标方法AOP拦截" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=#f8cecc;" parent="9VAHAnT6p5sPfFWD_CzV-1" vertex="1">
          <mxGeometry x="344" y="289" width="182.25" height="54" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;" parent="9VAHAnT6p5sPfFWD_CzV-1" source="HkDd7tAVXwh1VlAIK28--23" target="HkDd7tAVXwh1VlAIK28--25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--23" value="&lt;span style=&quot;font-size: 9px&quot;&gt;DBRouterStrategyHashcode的路由方法&lt;br&gt;&lt;/span&gt;doRouter" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=#f8cecc;" parent="9VAHAnT6p5sPfFWD_CzV-1" vertex="1">
          <mxGeometry x="344" y="449" width="182.25" height="54" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;" parent="9VAHAnT6p5sPfFWD_CzV-1" source="HkDd7tAVXwh1VlAIK28--24" target="HkDd7tAVXwh1VlAIK28--23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--24" value="&lt;font size=&quot;1&quot;&gt;从相关参数中获取路由字段的值&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=#f8cecc;" parent="9VAHAnT6p5sPfFWD_CzV-1" vertex="1">
          <mxGeometry x="344" y="369" width="182.25" height="54" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--25" value="&lt;font size=&quot;1&quot;&gt;根据路由字段计算的库表索引&lt;br&gt;分别存入ThreadLocal的上下文&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=#f8cecc;" parent="9VAHAnT6p5sPfFWD_CzV-1" vertex="1">
          <mxGeometry x="344" y="530.5" width="182.25" height="54" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=0;" parent="9VAHAnT6p5sPfFWD_CzV-1" source="HkDd7tAVXwh1VlAIK28--32" target="HkDd7tAVXwh1VlAIK28--34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--32" value="&lt;font style=&quot;font-size: 12px&quot;&gt;DynamicDataSource&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=8;strokeColor=#82b366;fillColor=#d5e8d4;" parent="9VAHAnT6p5sPfFWD_CzV-1" vertex="1">
          <mxGeometry x="747" y="176" width="142.5" height="62" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=0;" parent="9VAHAnT6p5sPfFWD_CzV-1" source="HkDd7tAVXwh1VlAIK28--34" target="HkDd7tAVXwh1VlAIK28--35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--34" value="通过切换数据源来解决&lt;br&gt;连接不同的库表&lt;br&gt;&lt;b&gt;解决分库的问题&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#82b366;fillColor=#d5e8d4;" parent="9VAHAnT6p5sPfFWD_CzV-1" vertex="1">
          <mxGeometry x="743.75" y="284" width="149" height="54" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.465;entryY=0.02;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=0;" parent="9VAHAnT6p5sPfFWD_CzV-1" source="HkDd7tAVXwh1VlAIK28--35" target="HkDd7tAVXwh1VlAIK28--42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--35" value="解析配置，设置多个数据源，并设置默认数据源" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#82b366;fillColor=#d5e8d4;" parent="9VAHAnT6p5sPfFWD_CzV-1" vertex="1">
          <mxGeometry x="743.75" y="374" width="149" height="54" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=0;" parent="9VAHAnT6p5sPfFWD_CzV-1" source="HkDd7tAVXwh1VlAIK28--38" target="HkDd7tAVXwh1VlAIK28--40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--38" value="&lt;span style=&quot;font-size: 12px&quot;&gt;TransactionTemplate&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=8;strokeColor=#0e8088;fillColor=#b0e3e6;" parent="9VAHAnT6p5sPfFWD_CzV-1" vertex="1">
          <mxGeometry x="957" y="175" width="142.5" height="62" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--40" value="配置事务" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#0e8088;fillColor=#b0e3e6;" parent="9VAHAnT6p5sPfFWD_CzV-1" vertex="1">
          <mxGeometry x="953.75" y="287" width="149" height="54" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--42" value="ProPertyUtil.handle()&lt;br&gt;区分版本解析数据源，具体逻辑待研究" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#82b366;fillColor=#d5e8d4;" parent="9VAHAnT6p5sPfFWD_CzV-1" vertex="1">
          <mxGeometry x="749" y="470" width="149" height="54" as="geometry" />
        </mxCell>
        <mxCell id="HkDd7tAVXwh1VlAIK28--45" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;font color=&quot;#ff0000&quot; style=&quot;font-size: 16px&quot;&gt;具体如何切换如何执行暂不知，&lt;br&gt;切换规则猜测：&lt;/font&gt;&lt;font color=&quot;#ff0000&quot; style=&quot;font-size: 16px&quot;&gt;&lt;span&gt;DynamicDataSource.determineCurrentLookupKey()返回key&lt;/span&gt;&lt;span&gt;和初始化的设置的targetDataSources&lt;/span&gt;&lt;span&gt;的key作匹配&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="9VAHAnT6p5sPfFWD_CzV-1" vertex="1">
          <mxGeometry x="675" y="36" width="451" height="116" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第十章流程" id="L_4Gsh5Dnz4hXAWhtNXb">
    <mxGraphModel dx="1502" dy="663" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-0" />
        <mxCell id="p8uoxf__FmnYBR1AuK3s-1" parent="p8uoxf__FmnYBR1AuK3s-0" />
        <mxCell id="xcBmXtytaEns_yfPw2kC-20" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="150" y="228" width="293" height="192" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-19" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;sketch=1;curveFitting=1;jiggle=2;exitX=0.959;exitY=0.71;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="xcBmXtytaEns_yfPw2kC-2" target="xcBmXtytaEns_yfPw2kC-10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-18" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="149" y="143" width="296" height="80" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=0;dashed=1;sketch=1;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-9" target="p8uoxf__FmnYBR1AuK3s-10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="537.2643537850216" y="543" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=8;endArrow=classic;endFill=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-9" target="p8uoxf__FmnYBR1AuK3s-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-9" target="p8uoxf__FmnYBR1AuK3s-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-9" target="p8uoxf__FmnYBR1AuK3s-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-9" target="p8uoxf__FmnYBR1AuK3s-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-9" target="p8uoxf__FmnYBR1AuK3s-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-9" target="p8uoxf__FmnYBR1AuK3s-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-9" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;DataSourceAutoConfig&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;sketch=1;verticalAlign=top;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="528" y="516" width="273" height="64" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-10" value="&lt;font style=&quot;font-size: 12px&quot;&gt;使用springboot自动加载&lt;br&gt;META-INFO/spring.factories&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;strokeColor=#3399FF;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="129" y="518.5" width="178" height="59" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-14" target="p8uoxf__FmnYBR1AuK3s-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-14" target="p8uoxf__FmnYBR1AuK3s-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.287;entryY=1.028;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;entryPerimeter=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-14" target="p8uoxf__FmnYBR1AuK3s-20" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="210" y="724" />
              <mxPoint x="511" y="724" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-14" value="&lt;font style=&quot;font-size: 12px&quot;&gt;DBRouterConfig&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=8;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="120" y="644" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-15" value="解析环境，装载" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=8;fontFamily=Comic Sans MS;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="365" y="595" width="66" height="14" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-16" value="解析设置dbCount、tbCount、routerKey" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="119.5" y="750" width="121" height="52" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-18" target="p8uoxf__FmnYBR1AuK3s-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-18" value="&lt;font style=&quot;font-size: 9px&quot;&gt;DBRouterStrategyHashcode&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=8;strokeColor=#d6b656;fillColor=#fff2cc;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="286.25" y="643" width="142.5" height="62" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;" parent="p8uoxf__FmnYBR1AuK3s-1" target="p8uoxf__FmnYBR1AuK3s-25" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="537" y="708" as="sourcePoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-20" value="&lt;font style=&quot;font-size: 9px&quot;&gt;DBRouterJointPoint&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=8;strokeColor=#b85450;fillColor=#f8cecc;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="470" y="643" width="142.5" height="62" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-22" target="p8uoxf__FmnYBR1AuK3s-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-22" value="&lt;font size=&quot;1&quot;&gt;DynamicMybatisPlugin&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=8;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="661" y="643" width="142.5" height="62" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-41" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;endFill=0;sketch=1;curveFitting=1;jiggle=2;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-23" target="xcBmXtytaEns_yfPw2kC-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-23" value="使用拦截器，&lt;b&gt;解决分表问题&lt;/b&gt;&lt;br&gt;获取sql语句，替换表名" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="657.25" y="750" width="150" height="55" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-25" target="p8uoxf__FmnYBR1AuK3s-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-25" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=6;endSize=6;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;dashed=1;shadow=0;endFill=0;sketch=1;curveFitting=1;jiggle=2;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-25" target="xcBmXtytaEns_yfPw2kC-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-25" value="对符合的目标方法AOP拦截" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=#f8cecc;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="446" y="756" width="182.25" height="54" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-27" target="p8uoxf__FmnYBR1AuK3s-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-30" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=0;entryX=0.993;entryY=0.351;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-27" target="xcBmXtytaEns_yfPw2kC-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-27" value="&lt;span style=&quot;font-size: 9px&quot;&gt;DBRouterStrategyHashcode的路由方法&lt;br&gt;&lt;/span&gt;doRouter" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=#f8cecc;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="446" y="916" width="182.25" height="54" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=9;endArrow=classic;endFill=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-29" target="p8uoxf__FmnYBR1AuK3s-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-29" value="&lt;font size=&quot;1&quot;&gt;从相关参数中获取路由字段的值&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=#f8cecc;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="446" y="836" width="182.25" height="54" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-27" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=8;endSize=8;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;sketch=1;curveFitting=1;jiggle=2;endFill=0;dashed=1;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-30" target="xcBmXtytaEns_yfPw2kC-26" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="537" y="1064" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-30" value="&lt;font size=&quot;1&quot;&gt;根据路由字段计算的库表索引&lt;br&gt;分别存入ThreadLocal的上下文&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=#f8cecc;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="446" y="1001" width="182.25" height="54" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-32" target="p8uoxf__FmnYBR1AuK3s-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-32" value="&lt;font style=&quot;font-size: 12px&quot;&gt;DynamicDataSource&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=8;strokeColor=#82b366;fillColor=#d5e8d4;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="849" y="643" width="142.5" height="62" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-34" target="p8uoxf__FmnYBR1AuK3s-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-34" value="通过切换数据源来解决&lt;br&gt;连接不同的库表&lt;br&gt;&lt;b&gt;解决分库的问题&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#82b366;fillColor=#d5e8d4;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="845.75" y="751" width="149" height="54" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.465;entryY=0.02;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-36" target="p8uoxf__FmnYBR1AuK3s-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-36" value="解析配置，设置多个数据源，并设置默认数据源" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#82b366;fillColor=#d5e8d4;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="845.75" y="841" width="149" height="54" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;fontFamily=Comic Sans MS;fontSize=12;endArrow=classic;endFill=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="p8uoxf__FmnYBR1AuK3s-38" target="p8uoxf__FmnYBR1AuK3s-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-38" value="&lt;span style=&quot;font-size: 12px&quot;&gt;TransactionTemplate&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=8;strokeColor=#0e8088;fillColor=#b0e3e6;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="1059" y="642" width="142.5" height="62" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-39" value="配置事务" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#0e8088;fillColor=#b0e3e6;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="1055.75" y="754" width="149" height="54" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-40" value="匹配规则&lt;br&gt;db_+数据库上下文" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#82b366;fillColor=#d5e8d4;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="851" y="937" width="149" height="54" as="geometry" />
        </mxCell>
        <mxCell id="p8uoxf__FmnYBR1AuK3s-41" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;font color=&quot;#ff0000&quot; style=&quot;font-size: 16px&quot;&gt;具体如何切换如何执行暂不知，&lt;br&gt;切换规则猜测：&lt;/font&gt;&lt;font color=&quot;#ff0000&quot; style=&quot;font-size: 16px&quot;&gt;&lt;span&gt;DynamicDataSource.determineCurrentLookupKey()返回key&lt;/span&gt;&lt;span&gt;和初始化的设置的targetDataSources&lt;/span&gt;&lt;span&gt;的key作匹配&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="849" y="996" width="451" height="116" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-1" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="qz8DGKxrGGfxoATLhIP_-0" target="xcBmXtytaEns_yfPw2kC-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qz8DGKxrGGfxoATLhIP_-0" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;setEnvironment()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;sketch=1;verticalAlign=top;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="592" y="545" width="150" height="29.5" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-3" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fontFamily=Comic Sans MS;sketch=1;curveFitting=1;jiggle=2;endFill=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="xcBmXtytaEns_yfPw2kC-0" target="xcBmXtytaEns_yfPw2kC-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-0" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;setEnvironment()流程&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#6c8ebf;verticalAlign=top;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="541" y="26" width="265" height="425" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-2" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;mini-db-router:&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; jdbc:&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; datasource:&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; dbCount: 2&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; tbCount: 4&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; default: db00&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; routerKey: uId&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; list: db01,db02&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; db00:&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; driver-class-name: com.mysql.jdbc.Driver&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; url: jdbc:mysql://127.0.0.1:3306/lottery?useUnicode=true&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; username: root&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; password: 1234&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; db01:&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; driver-class-name: com.mysql.jdbc.Driver&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; url: jdbc:mysql://127.0.0.1:3306/lottery_01?useUnicode=true&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; username: root&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; password: 1234&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; db02:&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; driver-class-name: com.mysql.jdbc.Driver&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; url: jdbc:mysql://127.0.0.1:3306/lottery_02?useUnicode=true&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; username: root&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; password: 1234&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#FFFFFF;verticalAlign=top;align=left;fontSize=10;fontFamily=Comic Sans MS;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="150" y="21" width="291" height="427" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-7" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.47;entryY=-0.039;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="p8uoxf__FmnYBR1AuK3s-1" source="xcBmXtytaEns_yfPw2kC-4" target="xcBmXtytaEns_yfPw2kC-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-4" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;解析设置dbCount&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#6c8ebf;verticalAlign=top;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="592" y="64" width="150" height="23" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-8" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.53;entryY=0.116;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="p8uoxf__FmnYBR1AuK3s-1" source="xcBmXtytaEns_yfPw2kC-5" target="xcBmXtytaEns_yfPw2kC-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-5" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;解析设置tbCount&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#6c8ebf;verticalAlign=top;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="598.5" y="120" width="150" height="23" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-11" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="xcBmXtytaEns_yfPw2kC-6" target="xcBmXtytaEns_yfPw2kC-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-6" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;解析设置routerKey&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#6c8ebf;verticalAlign=top;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="594" y="178" width="150" height="23" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-13" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="p8uoxf__FmnYBR1AuK3s-1" source="xcBmXtytaEns_yfPw2kC-10" target="xcBmXtytaEns_yfPw2kC-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-10" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;分表分库数据源dataSourceMap&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#6c8ebf;verticalAlign=top;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="594" y="251" width="150" height="39" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-12" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;默认数据源&lt;br&gt;defaultDataSourceConfig&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#6c8ebf;verticalAlign=top;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="594" y="331" width="150" height="44" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-15" value="" style="edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;rounded=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;curved=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0.385;exitY=0.131;exitDx=0;exitDy=0;exitPerimeter=0;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="p8uoxf__FmnYBR1AuK3s-1" source="xcBmXtytaEns_yfPw2kC-2" target="xcBmXtytaEns_yfPw2kC-4" edge="1">
          <mxGeometry width="140" relative="1" as="geometry">
            <mxPoint x="551" y="274" as="sourcePoint" />
            <mxPoint x="691" y="274" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-16" value="" style="edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;rounded=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;curved=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="p8uoxf__FmnYBR1AuK3s-1" target="xcBmXtytaEns_yfPw2kC-5" edge="1">
          <mxGeometry width="140" relative="1" as="geometry">
            <mxPoint x="263" y="91" as="sourcePoint" />
            <mxPoint x="602" y="86" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-17" value="" style="edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;rounded=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;curved=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endFill=1;sketch=1;curveFitting=1;jiggle=2;exitX=0.411;exitY=0.234;exitDx=0;exitDy=0;exitPerimeter=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="xcBmXtytaEns_yfPw2kC-2" target="xcBmXtytaEns_yfPw2kC-6" edge="1">
          <mxGeometry width="140" relative="1" as="geometry">
            <mxPoint x="273" y="101" as="sourcePoint" />
            <mxPoint x="609" y="142" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-21" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;sketch=1;curveFitting=1;jiggle=2;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1.011;exitY=0.387;exitDx=0;exitDy=0;exitPerimeter=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="xcBmXtytaEns_yfPw2kC-2" target="xcBmXtytaEns_yfPw2kC-12" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="439" y="334" as="sourcePoint" />
            <mxPoint x="604" y="281" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-22" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;路由配置&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="113" y="617" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-23" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;哈希路由&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="280" y="617" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-24" value="注解DBRouter&lt;br&gt;或者路径" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=#f8cecc;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="280" y="762" width="110.63" height="46" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-26" value="&lt;font size=&quot;1&quot;&gt;执行方法，&lt;/font&gt;清除库表ThreadLocal上下文&lt;font size=&quot;1&quot;&gt;&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=#f8cecc;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="445" y="1097" width="182.25" height="54" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-29" value="&lt;span style=&quot;font-size: 9px&quot;&gt;&lt;br&gt;&lt;/span&gt;doRouter()流程" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=none;verticalAlign=top;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="167" y="824" width="182.25" height="332" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-33" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="xcBmXtytaEns_yfPw2kC-31" target="xcBmXtytaEns_yfPw2kC-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-31" value="tbCount*dbCount,计算总库" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=none;verticalAlign=top;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="182.63" y="878" width="151" height="29" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-35" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.502;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;endFill=0;sketch=1;curveFitting=1;jiggle=2;" parent="p8uoxf__FmnYBR1AuK3s-1" source="xcBmXtytaEns_yfPw2kC-32" target="xcBmXtytaEns_yfPw2kC-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-32" value="扰动函数，计算当前值的坐标" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=none;verticalAlign=top;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="175.63" y="956" width="164.37" height="29" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-37" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="xcBmXtytaEns_yfPw2kC-34" target="xcBmXtytaEns_yfPw2kC-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-34" value="计算分库索引放入上下文" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=none;verticalAlign=top;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="175.95" y="1026" width="164.37" height="29" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-36" value="计算分表索引放入上下文" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#b85450;fillColor=none;verticalAlign=top;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="175.63" y="1104" width="164.37" height="29" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-43" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;shadow=1;endFill=0;" parent="p8uoxf__FmnYBR1AuK3s-1" source="xcBmXtytaEns_yfPw2kC-40" target="xcBmXtytaEns_yfPw2kC-42" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="732" y="928" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-40" value="对配置注解DBRouterStrategy的&lt;br&gt;splitTable进行拦截" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="657.25" y="865" width="150" height="55" as="geometry" />
        </mxCell>
        <mxCell id="xcBmXtytaEns_yfPw2kC-42" value="处理流程：&lt;br&gt;1.获取sql,获取表名，&lt;br&gt;2.拼接分表上下文里面的索引，替换原来的表名&lt;br&gt;3.把替换后的表名用反射设置boundSql的sql属性" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;" parent="p8uoxf__FmnYBR1AuK3s-1" vertex="1">
          <mxGeometry x="651.87" y="979" width="160.75" height="122" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第11章项目结构" id="Jp9yKEx5vsT97C_sHUxr">
    <mxGraphModel dx="3983" dy="663" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-0" />
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-1" parent="Mk_5FXhBrMIn-_zMEtCs-0" />
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-2" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=232.5;entryDy=14;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#7EA6E0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;" parent="Mk_5FXhBrMIn-_zMEtCs-1" source="Mk_5FXhBrMIn-_zMEtCs-4" target="Mk_5FXhBrMIn-_zMEtCs-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-2179" y="1009" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-4" value="lotter-domain" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-2281" y="914" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-5" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.domain.activity&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-2410" y="1069" width="425" height="76" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-6" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;model&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1915.5" y="266" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-7" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;repository&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1889" y="1048" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="E5EFo7bkROahPrifhfSP-11" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="Mk_5FXhBrMIn-_zMEtCs-1" source="Mk_5FXhBrMIn-_zMEtCs-8" target="Mk_5FXhBrMIn-_zMEtCs-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-8" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;service&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1915.5" y="1884" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-9" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1684" y="953.68" width="30" height="291.32" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-10" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;entryX=-0.014;entryY=0.345;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="Mk_5FXhBrMIn-_zMEtCs-1" source="Mk_5FXhBrMIn-_zMEtCs-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1315.0140000000001" y="131.1500000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-11" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;res&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1642.5" y="86" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-12" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="Mk_5FXhBrMIn-_zMEtCs-1" source="Mk_5FXhBrMIn-_zMEtCs-13" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1311.5" y="245" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-13" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;req&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1647.5" y="201" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-14" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;vo&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1634" y="489" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-15" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1704.5" y="103" width="30" height="457" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-16" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;仓储服务&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1889" y="934" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-17" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;聚合对象&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1930.5" y="206" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-18" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;领域服务&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1922" y="1826" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-21" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;partake&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1556" y="1884" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-23" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;impl&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1269" y="1596" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-24" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1053" y="1567" width="30" height="169" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-25" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1324" y="1615" width="30" height="621" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-30" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1974" y="305" width="30" height="1653" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-31" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=14;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="Mk_5FXhBrMIn-_zMEtCs-1" source="Mk_5FXhBrMIn-_zMEtCs-32" target="Mk_5FXhBrMIn-_zMEtCs-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-32" value="lotter-infrastructure" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-765" y="784" width="222.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-33" value="&lt;font style=&quot;font-size: 12px&quot;&gt;&lt;font color=&quot;#333333&quot; style=&quot;font-size: 12px&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;基础服务层：&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(51 , 51 , 51) ; font-family: &amp;#34;open sans&amp;#34; , &amp;#34;clear sans&amp;#34; , &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; background-color: rgb(255 , 255 , 255)&quot;&gt;为各层提供资源服务（如数据库、缓存等）&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-747" y="737" width="237" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-34" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.&lt;/font&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;infrastructure&lt;/span&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-387" y="767" width="364" height="76" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-35" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;dao&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="31" y="871" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-36" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;po&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="34" y="1211" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-37" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="194" y="668" width="30" height="397" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-38" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-23" y="374" width="30" height="869" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-42" value="UserStrategyExport" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;fillColor=none;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="248" y="1124" width="160" height="52" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-43" value="" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="Mk_5FXhBrMIn-_zMEtCs-42" vertex="1">
          <mxGeometry y="26" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-48" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="187" y="1128" width="30" height="265" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-49" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="Mk_5FXhBrMIn-_zMEtCs-1" source="Mk_5FXhBrMIn-_zMEtCs-50" target="Mk_5FXhBrMIn-_zMEtCs-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-50" value="lotter-interfaces" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-18" y="1589" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-51" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=40.5;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=261;exitDy=45;exitPerimeter=0;" parent="Mk_5FXhBrMIn-_zMEtCs-1" source="Mk_5FXhBrMIn-_zMEtCs-52" target="Mk_5FXhBrMIn-_zMEtCs-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-52" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;resource&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="318" y="1569.5" width="261" height="76" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-53" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=125;exitDy=27.25;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="Mk_5FXhBrMIn-_zMEtCs-1" source="Mk_5FXhBrMIn-_zMEtCs-57" target="Mk_5FXhBrMIn-_zMEtCs-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-54" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=125;exitDy=40.5;exitPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="Mk_5FXhBrMIn-_zMEtCs-1" source="Mk_5FXhBrMIn-_zMEtCs-57" target="Mk_5FXhBrMIn-_zMEtCs-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-56" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=125;exitDy=67;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="Mk_5FXhBrMIn-_zMEtCs-1" source="Mk_5FXhBrMIn-_zMEtCs-57" target="Mk_5FXhBrMIn-_zMEtCs-127" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="pcjhdUahLrYuy40-cOzT-10" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=125;exitDy=53.75;exitPerimeter=0;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="Mk_5FXhBrMIn-_zMEtCs-1" source="Mk_5FXhBrMIn-_zMEtCs-57" target="pcjhdUahLrYuy40-cOzT-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-57" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;mappers&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="724" y="1574" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-58" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;UserStrategyExportMapper&lt;span style=&quot;text-align: left&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;.xml&lt;/font&gt;&lt;/span&gt;&lt;/b&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#000000;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="942.5" y="1478" width="305" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-59" value="&lt;b&gt;UserTakeActivity&lt;span style=&quot;font-size: 16px;&quot;&gt;Mapper&lt;/span&gt;&lt;span style=&quot;font-size: 16px; text-align: left;&quot;&gt;.xml&lt;/span&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#000000;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="943" y="1585.5" width="298" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-98" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1401" y="323" width="30" height="459" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-124" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;IUserStrategyExportDao&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#7F00FF;sketch=1;rounded=0;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="259" y="663" width="309" height="65" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-127" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;span style=&quot;font-weight: 700&quot;&gt;ActivityMapper&lt;/span&gt;&lt;span style=&quot;text-align: left&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;.xml&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#000000;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="946" y="1784" width="292" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-128" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;repository&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="31" y="356" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-129" value="ActivityRepository" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;arcSize=0;strokeColor=#007FFF;swimlaneLine=1;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="213" y="206" width="396" height="86" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-130" value="+ queryActivityBill(PartakeReq req): ActivityBillVO&#xa;+ subtractionActivityStock(Long activityId): int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="Mk_5FXhBrMIn-_zMEtCs-129" vertex="1">
          <mxGeometry y="26" width="396" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Mk_5FXhBrMIn-_zMEtCs-136" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="168" y="210" width="30" height="364" as="geometry" />
        </mxCell>
        <mxCell id="CSEiOIVpaL1jhLLt-qsA-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;ActivityPartakeImpl&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- userTakeActivityRepository: IUserTakeActivityRepository&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- idGeneratorMap: Map&amp;lt;Constants.Ids,IIdGenerator&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- transactionTemplate: TransactionTemplate&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- dbRouter: IDBRouteStrategy&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;# checkActivityBill(ActivityBillVO): Result&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;# subtractionActivityStock(PartakeReq req): Result&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;# grabActivity(PartakeReq req, ActivityBillVO bill): Result&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#007FFF;rounded=0;fillColor=none;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-972" y="1556" width="462" height="170" as="geometry" />
        </mxCell>
        <mxCell id="O_rN2fucb00-uglaK-oO-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IActivityPartake&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ doPartake(PartakeReq req): PartakeResult&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;fillColor=none;strokeColor=#7F00FF;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1249" y="1795" width="310" height="88" as="geometry" />
        </mxCell>
        <mxCell id="O_rN2fucb00-uglaK-oO-2" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;ActivityPartakeSupport&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- acticityRepository: IActivityRepository&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ queryActivityBill(PartakeReq req): ActivityBillVO&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#007FFF;rounded=0;fillColor=none;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1240" y="1949" width="311" height="109" as="geometry" />
        </mxCell>
        <mxCell id="O_rN2fucb00-uglaK-oO-3" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;&lt;i&gt;BaseActivityPartake&lt;/i&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ doPartake(PartakeReq req): PartakeResult&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;# checkActivityBill(ActivityBillVO): Result&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;# subtractionActivityStock(PartakeReq req): Result&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;# grabActivity(PartakeReq req, ActivityBillVO bill): Result&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#007FFF;rounded=0;fillColor=none;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1243" y="2114" width="369" height="110" as="geometry" />
        </mxCell>
        <mxCell id="BuwUUXtZFFPQfPGdn63_-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;/font&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot; ; text-align: left&quot;&gt;&lt;b&gt;IUserTakeActivityRepository&lt;/b&gt;&lt;/span&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;+ subtractionLeftCount(&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;Long activityId,String activityName,Integer&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;takeCount,&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;&amp;nbsp;Integer userTakeLeftCount, String uId, Date partakeDate): int&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;+ takeActivity(Long activityId,String activityName,&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;Integer takeCount&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;&amp;nbsp;Integer userTakeLeftCount, String uId, Date takeDate,Long taskId&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;)&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;fillColor=none;strokeColor=#7F00FF;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1592" y="981" width="454" height="136" as="geometry" />
        </mxCell>
        <mxCell id="356ysl01Of9_Ns7JzvO5-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;/font&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot; ; text-align: left&quot;&gt;&lt;b&gt;IActivityRepository&lt;/b&gt;&lt;/span&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;+ queryActivityBill(PartakeReq req): ActivityBillVO&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;comic sans ms&quot;&gt;+&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;subtractionActivityStock(Long activityId): int&lt;/span&gt;&lt;font face=&quot;comic sans ms&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;fillColor=none;strokeColor=#7F00FF;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1595" y="1143" width="457" height="104" as="geometry" />
        </mxCell>
        <mxCell id="tbN8TBC6Sg3lTkG6RnlZ-0" value="PartakeReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1310" y="194" width="140" height="104" as="geometry" />
        </mxCell>
        <mxCell id="tbN8TBC6Sg3lTkG6RnlZ-1" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="tbN8TBC6Sg3lTkG6RnlZ-0" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="tbN8TBC6Sg3lTkG6RnlZ-2" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="tbN8TBC6Sg3lTkG6RnlZ-0" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="tbN8TBC6Sg3lTkG6RnlZ-3" value="- partakeDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="tbN8TBC6Sg3lTkG6RnlZ-0" vertex="1">
          <mxGeometry y="78" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="tbN8TBC6Sg3lTkG6RnlZ-4" value="PartakeResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1306" y="72" width="140" height="104" as="geometry" />
        </mxCell>
        <mxCell id="tbN8TBC6Sg3lTkG6RnlZ-5" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="tbN8TBC6Sg3lTkG6RnlZ-4" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="tbN8TBC6Sg3lTkG6RnlZ-6" value="- code: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="tbN8TBC6Sg3lTkG6RnlZ-4" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="tbN8TBC6Sg3lTkG6RnlZ-7" value="- info: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="tbN8TBC6Sg3lTkG6RnlZ-4" vertex="1">
          <mxGeometry y="78" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="E5EFo7bkROahPrifhfSP-0" value="ActivityBillVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="-1329" y="384" width="207" height="286" as="geometry" />
        </mxCell>
        <mxCell id="E5EFo7bkROahPrifhfSP-1" value="- uId : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;" parent="E5EFo7bkROahPrifhfSP-0" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="E5EFo7bkROahPrifhfSP-2" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="E5EFo7bkROahPrifhfSP-0" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="E5EFo7bkROahPrifhfSP-3" value="- activityName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="E5EFo7bkROahPrifhfSP-0" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="E5EFo7bkROahPrifhfSP-4" value="- beginDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="E5EFo7bkROahPrifhfSP-0" vertex="1">
          <mxGeometry y="104" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="E5EFo7bkROahPrifhfSP-5" value="- endDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="E5EFo7bkROahPrifhfSP-0" vertex="1">
          <mxGeometry y="130" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="E5EFo7bkROahPrifhfSP-6" value="- stockSurplusCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="E5EFo7bkROahPrifhfSP-0" vertex="1">
          <mxGeometry y="156" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="E5EFo7bkROahPrifhfSP-7" value="- state: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="E5EFo7bkROahPrifhfSP-0" vertex="1">
          <mxGeometry y="182" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="E5EFo7bkROahPrifhfSP-8" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;" parent="E5EFo7bkROahPrifhfSP-0" vertex="1">
          <mxGeometry y="208" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="E5EFo7bkROahPrifhfSP-9" value="- takeCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="E5EFo7bkROahPrifhfSP-0" vertex="1">
          <mxGeometry y="234" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="E5EFo7bkROahPrifhfSP-10" value="- userTakeLeftCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="E5EFo7bkROahPrifhfSP-0" vertex="1">
          <mxGeometry y="260" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="pcjhdUahLrYuy40-cOzT-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;IUserTakeActivityCountDao&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#7F00FF;sketch=1;rounded=0;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="259" y="762" width="309" height="65" as="geometry" />
        </mxCell>
        <mxCell id="pcjhdUahLrYuy40-cOzT-1" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;IUserTakeActivityDao&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#7F00FF;sketch=1;rounded=0;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="256.5" y="883" width="309" height="65" as="geometry" />
        </mxCell>
        <mxCell id="pcjhdUahLrYuy40-cOzT-2" value="UserTakeActivity" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;fillColor=none;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="248" y="1199" width="160" height="52" as="geometry" />
        </mxCell>
        <mxCell id="pcjhdUahLrYuy40-cOzT-3" value="" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="pcjhdUahLrYuy40-cOzT-2" vertex="1">
          <mxGeometry y="26" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="pcjhdUahLrYuy40-cOzT-4" value="UserTakeActivityCount" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;fillColor=none;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="245" y="1274" width="160" height="52" as="geometry" />
        </mxCell>
        <mxCell id="pcjhdUahLrYuy40-cOzT-5" value="" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="pcjhdUahLrYuy40-cOzT-4" vertex="1">
          <mxGeometry y="26" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="pcjhdUahLrYuy40-cOzT-6" value="UserTakeActivityRepository" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;arcSize=0;strokeColor=#007FFF;swimlaneLine=1;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="224" y="488" width="411" height="106" as="geometry" />
        </mxCell>
        <mxCell id="pcjhdUahLrYuy40-cOzT-7" value="+ subtractionLeftCount(Long activityId,String activityName,Integer &#xa;takeCount, Integer userTakeLeftCount, String uId, Date partakeDate): int&#xa;+ takeActivity(Long activityId,String activityName,Integer takeCount&#xa; Integer userTakeLeftCount, String uId, Date takeDate,Long taskId)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="pcjhdUahLrYuy40-cOzT-6" vertex="1">
          <mxGeometry y="26" width="411" height="80" as="geometry" />
        </mxCell>
        <mxCell id="pcjhdUahLrYuy40-cOzT-9" value="&lt;b&gt;UserTakeActivityCount&lt;span style=&quot;font-size: 16px;&quot;&gt;Mapper&lt;/span&gt;&lt;span style=&quot;font-size: 16px; text-align: left;&quot;&gt;.xml&lt;/span&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#000000;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="949.5" y="1694" width="291.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jv7aAExEzs8ieceIMmIE-0" value="Activity" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;fillColor=none;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="251" y="1350" width="186" height="78" as="geometry" />
        </mxCell>
        <mxCell id="jv7aAExEzs8ieceIMmIE-1" value="- stockSurplusCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="jv7aAExEzs8ieceIMmIE-0" vertex="1">
          <mxGeometry y="26" width="186" height="26" as="geometry" />
        </mxCell>
        <mxCell id="jv7aAExEzs8ieceIMmIE-2" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;" parent="jv7aAExEzs8ieceIMmIE-0" vertex="1">
          <mxGeometry y="52" width="186" height="26" as="geometry" />
        </mxCell>
        <mxCell id="2c6Zn9hcHup9uzmpiwfX-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;IActivityDao&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&amp;nbsp;subtractionActivityStock(Long activityId): int&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#7F00FF;sketch=1;rounded=0;" parent="Mk_5FXhBrMIn-_zMEtCs-1" vertex="1">
          <mxGeometry x="263" y="993" width="309" height="73" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="kvxOaEc0g61RFmhONK1P" name="第11章">
    <mxGraphModel dx="1502" dy="663" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="cRPIxwlDmeXzAH9T0zS1-0" />
        <mxCell id="cRPIxwlDmeXzAH9T0zS1-1" parent="cRPIxwlDmeXzAH9T0zS1-0" />
        <mxCell id="HWe62aMoSoVnttZ_oBJz-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;" parent="cRPIxwlDmeXzAH9T0zS1-1" source="cRPIxwlDmeXzAH9T0zS1-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="103" y="125.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HWe62aMoSoVnttZ_oBJz-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;entryX=0.477;entryY=1.005;entryDx=0;entryDy=0;entryPerimeter=0;" parent="cRPIxwlDmeXzAH9T0zS1-1" source="cRPIxwlDmeXzAH9T0zS1-2" target="ug7paZfekANIXVfVTbyw-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="258.39130434782624" y="145.108695652174" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cRPIxwlDmeXzAH9T0zS1-2" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IActivityPartake&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ doPartake(PartakeReq req): PartakeResult&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;fillColor=none;strokeColor=#9673a6;" parent="cRPIxwlDmeXzAH9T0zS1-1" vertex="1">
          <mxGeometry x="26" y="171.5" width="310" height="114" as="geometry" />
        </mxCell>
        <mxCell id="cRPIxwlDmeXzAH9T0zS1-3" value="PartakeReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;" parent="cRPIxwlDmeXzAH9T0zS1-1" vertex="1">
          <mxGeometry x="20" y="16.5" width="140" height="104" as="geometry" />
        </mxCell>
        <mxCell id="cRPIxwlDmeXzAH9T0zS1-4" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="cRPIxwlDmeXzAH9T0zS1-3" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="cRPIxwlDmeXzAH9T0zS1-5" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="cRPIxwlDmeXzAH9T0zS1-3" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="cRPIxwlDmeXzAH9T0zS1-6" value="- partakeDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="cRPIxwlDmeXzAH9T0zS1-3" vertex="1">
          <mxGeometry y="78" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ug7paZfekANIXVfVTbyw-0" value="PartakeResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;" parent="cRPIxwlDmeXzAH9T0zS1-1" vertex="1">
          <mxGeometry x="192" y="16.5" width="140" height="104" as="geometry" />
        </mxCell>
        <mxCell id="ug7paZfekANIXVfVTbyw-1" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="ug7paZfekANIXVfVTbyw-0" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ug7paZfekANIXVfVTbyw-2" value="- code: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="ug7paZfekANIXVfVTbyw-0" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ug7paZfekANIXVfVTbyw-3" value="- info: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="ug7paZfekANIXVfVTbyw-0" vertex="1">
          <mxGeometry y="78" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HWe62aMoSoVnttZ_oBJz-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;" parent="cRPIxwlDmeXzAH9T0zS1-1" source="HWe62aMoSoVnttZ_oBJz-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="546" y="251" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HWe62aMoSoVnttZ_oBJz-1" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;ActivityPartakeSupport&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- acticityRepository: IActivityRepository&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ queryActivityBill(PartakeReq req): ActivityBillVO&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#9673a6;rounded=0;fillColor=none;" parent="cRPIxwlDmeXzAH9T0zS1-1" vertex="1">
          <mxGeometry x="390" y="285.5" width="311" height="109" as="geometry" />
        </mxCell>
        <mxCell id="HWe62aMoSoVnttZ_oBJz-2" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;&lt;i&gt;BaseActivityPartake&lt;/i&gt;&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ doPartake(PartakeReq req): PartakeResult&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;# checkActivityBill(ActivityBillVO): Result&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;# subtractionActivityStock(PartakeReq req): Result&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;# grabActivity(PartakeReq req, ActivityBillVO bill): Result&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#9673a6;rounded=0;fillColor=none;" parent="cRPIxwlDmeXzAH9T0zS1-1" vertex="1">
          <mxGeometry x="113" y="451" width="479" height="110" as="geometry" />
        </mxCell>
        <mxCell id="HWe62aMoSoVnttZ_oBJz-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.513;entryY=-0.01;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;endSize=10;" parent="cRPIxwlDmeXzAH9T0zS1-1" source="HWe62aMoSoVnttZ_oBJz-3" target="HWe62aMoSoVnttZ_oBJz-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HWe62aMoSoVnttZ_oBJz-3" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;ActivityPartakeImpl&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- userTakeActivityRepository: IUserTakeActivityRepository&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- idGeneratorMap: Map&amp;lt;Constants.Ids,IIdGenerator&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- transactionTemplate: TransactionTemplate&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- dbRouter: IDBRouteStrategy&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;# checkActivityBill(ActivityBillVO): Result&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;# subtractionActivityStock(PartakeReq req): Result&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;# grabActivity(PartakeReq req, ActivityBillVO bill): Result&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#9673a6;rounded=0;fillColor=none;" parent="cRPIxwlDmeXzAH9T0zS1-1" vertex="1">
          <mxGeometry x="122" y="617" width="462" height="170" as="geometry" />
        </mxCell>
        <mxCell id="Cp8uX9i4rnWrtZVbl-5y-0" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.593;entryY=-0.011;entryDx=0;entryDy=0;entryPerimeter=0;" parent="cRPIxwlDmeXzAH9T0zS1-1" source="HWe62aMoSoVnttZ_oBJz-7" target="SpoEv77qFpz5uuhIk8Rs-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HWe62aMoSoVnttZ_oBJz-7" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;/font&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34; ; text-align: left&quot;&gt;&lt;b&gt;IActivityRepository&lt;/b&gt;&lt;/span&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;+ queryActivityBill(PartakeReq req): ActivityBillVO&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;comic sans ms&quot;&gt;+&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;subtractionActivityStock(Long activityId): int&lt;/span&gt;&lt;font face=&quot;comic sans ms&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;fillColor=none;strokeColor=#82b366;" parent="cRPIxwlDmeXzAH9T0zS1-1" vertex="1">
          <mxGeometry x="390" y="145" width="309" height="104" as="geometry" />
        </mxCell>
        <mxCell id="HWe62aMoSoVnttZ_oBJz-8" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34; ; text-align: left&quot;&gt;&lt;b&gt;ActivityRepository&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ queryActivityBill(PartakeReq req): ActivityBillVO&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;comic sans ms&quot;&gt;+&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;subtractionActivityStock(Long activityId): int&lt;/span&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#82b366;rounded=0;fillColor=none;" parent="cRPIxwlDmeXzAH9T0zS1-1" vertex="1">
          <mxGeometry x="391.5" y="14" width="306" height="91" as="geometry" />
        </mxCell>
        <mxCell id="HWe62aMoSoVnttZ_oBJz-9" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;/font&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot; ; text-align: left&quot;&gt;&lt;b&gt;IUserTakeActivityRepository&lt;/b&gt;&lt;/span&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;+ subtractionLeftCount(&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;Long activityId,String activityName,Integer&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;takeCount,&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;&amp;nbsp;Integer userTakeLeftCount, String uId, Date partakeDate): int&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;+ takeActivity(Long activityId,String activityName,&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;Integer takeCount&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;&amp;nbsp;Integer userTakeLeftCount, String uId, Date takeDate,Long taskId&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;)&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;fillColor=none;strokeColor=#82b366;" parent="cRPIxwlDmeXzAH9T0zS1-1" vertex="1">
          <mxGeometry x="120" y="824" width="454" height="136" as="geometry" />
        </mxCell>
        <mxCell id="HWe62aMoSoVnttZ_oBJz-10" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;span style=&quot;text-align: left&quot;&gt;&lt;b&gt;UserTakeActivityRepository&lt;/b&gt;&lt;/span&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;+ subtractionLeftCount(&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;Long activityId,String activityName,Integer&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;takeCount,&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;&amp;nbsp;Integer userTakeLeftCount, String uId, Date partakeDate): int&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;+ takeActivity(Long activityId,String activityName,&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;Integer takeCount&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;&amp;nbsp;Integer userTakeLeftCount, String uId, Date takeDate,Long taskId&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot;&quot;&gt;)&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;br style=&quot;font-family: &amp;quot;helvetica&amp;quot;&quot;&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#82b366;rounded=0;fillColor=none;" parent="cRPIxwlDmeXzAH9T0zS1-1" vertex="1">
          <mxGeometry x="126" y="1003" width="454" height="110" as="geometry" />
        </mxCell>
        <mxCell id="HWe62aMoSoVnttZ_oBJz-16" value="" style="endArrow=block;dashed=1;endFill=0;endSize=10;html=1;rounded=0;fontFamily=Comic Sans MS;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="cRPIxwlDmeXzAH9T0zS1-1" source="HWe62aMoSoVnttZ_oBJz-8" target="HWe62aMoSoVnttZ_oBJz-7" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="404" y="225" as="sourcePoint" />
            <mxPoint x="564" y="225" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HWe62aMoSoVnttZ_oBJz-17" value="" style="endArrow=block;dashed=1;endFill=0;endSize=10;html=1;rounded=0;fontFamily=Comic Sans MS;entryX=0.563;entryY=1.006;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.179;exitY=0.008;exitDx=0;exitDy=0;exitPerimeter=0;" parent="cRPIxwlDmeXzAH9T0zS1-1" source="HWe62aMoSoVnttZ_oBJz-2" target="cRPIxwlDmeXzAH9T0zS1-2" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="229" y="448" as="sourcePoint" />
            <mxPoint x="623" y="368" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HWe62aMoSoVnttZ_oBJz-18" value="继承" style="endArrow=block;endSize=10;endFill=0;html=1;rounded=0;fontFamily=Comic Sans MS;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.899;exitY=0.009;exitDx=0;exitDy=0;exitPerimeter=0;" parent="cRPIxwlDmeXzAH9T0zS1-1" source="HWe62aMoSoVnttZ_oBJz-2" target="HWe62aMoSoVnttZ_oBJz-1" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="604" y="446" as="sourcePoint" />
            <mxPoint x="563" y="386" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HWe62aMoSoVnttZ_oBJz-19" value="继承" style="endArrow=block;endSize=10;endFill=0;html=1;rounded=0;fontFamily=Comic Sans MS;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="cRPIxwlDmeXzAH9T0zS1-1" source="HWe62aMoSoVnttZ_oBJz-3" target="HWe62aMoSoVnttZ_oBJz-2" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="330" y="615" as="sourcePoint" />
            <mxPoint x="330" y="558" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HWe62aMoSoVnttZ_oBJz-21" value="" style="endArrow=block;dashed=1;endFill=0;endSize=10;html=1;rounded=0;fontFamily=Comic Sans MS;" parent="cRPIxwlDmeXzAH9T0zS1-1" source="HWe62aMoSoVnttZ_oBJz-10" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="175" y="930" as="sourcePoint" />
            <mxPoint x="353" y="961" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SpoEv77qFpz5uuhIk8Rs-0" value="ActivityBillVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="cRPIxwlDmeXzAH9T0zS1-1" vertex="1">
          <mxGeometry x="613" y="417" width="207" height="286" as="geometry" />
        </mxCell>
        <mxCell id="SpoEv77qFpz5uuhIk8Rs-10" value="- uId : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;" parent="SpoEv77qFpz5uuhIk8Rs-0" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="SpoEv77qFpz5uuhIk8Rs-1" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="SpoEv77qFpz5uuhIk8Rs-0" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="SpoEv77qFpz5uuhIk8Rs-2" value="- activityName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="SpoEv77qFpz5uuhIk8Rs-0" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="SpoEv77qFpz5uuhIk8Rs-4" value="- beginDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="SpoEv77qFpz5uuhIk8Rs-0" vertex="1">
          <mxGeometry y="104" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="SpoEv77qFpz5uuhIk8Rs-5" value="- endDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="SpoEv77qFpz5uuhIk8Rs-0" vertex="1">
          <mxGeometry y="130" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="SpoEv77qFpz5uuhIk8Rs-3" value="- stockSurplusCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="SpoEv77qFpz5uuhIk8Rs-0" vertex="1">
          <mxGeometry y="156" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="SpoEv77qFpz5uuhIk8Rs-6" value="- state: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="SpoEv77qFpz5uuhIk8Rs-0" vertex="1">
          <mxGeometry y="182" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="SpoEv77qFpz5uuhIk8Rs-15" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;" parent="SpoEv77qFpz5uuhIk8Rs-0" vertex="1">
          <mxGeometry y="208" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="SpoEv77qFpz5uuhIk8Rs-7" value="- takeCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="SpoEv77qFpz5uuhIk8Rs-0" vertex="1">
          <mxGeometry y="234" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="SpoEv77qFpz5uuhIk8Rs-8" value="- userTakeLeftCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="SpoEv77qFpz5uuhIk8Rs-0" vertex="1">
          <mxGeometry y="260" width="207" height="26" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第11章流程" id="oRHgNNrKXQy5VqR3_ivD">
    <mxGraphModel dx="2973" dy="2116" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-0" />
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-1" parent="L2Zk-ysr09VhSKyX-RJy-0" />
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-5" value="PartakeReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-575" y="125" width="140" height="104" as="geometry" />
        </mxCell>
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-6" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="L2Zk-ysr09VhSKyX-RJy-5" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-7" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="L2Zk-ysr09VhSKyX-RJy-5" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-8" value="- partakeDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="L2Zk-ysr09VhSKyX-RJy-5" vertex="1">
          <mxGeometry y="78" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-9" value="PartakeResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-575" y="239" width="140" height="104" as="geometry" />
        </mxCell>
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-10" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="L2Zk-ysr09VhSKyX-RJy-9" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-11" value="- code: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="L2Zk-ysr09VhSKyX-RJy-9" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-12" value="- info: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="L2Zk-ysr09VhSKyX-RJy-9" vertex="1">
          <mxGeometry y="78" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-28" value="ActivityBillVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="203" y="24" width="207" height="286" as="geometry" />
        </mxCell>
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-29" value="- uId : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;" parent="L2Zk-ysr09VhSKyX-RJy-28" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-30" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="L2Zk-ysr09VhSKyX-RJy-28" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-31" value="- activityName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="L2Zk-ysr09VhSKyX-RJy-28" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-32" value="- beginDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="L2Zk-ysr09VhSKyX-RJy-28" vertex="1">
          <mxGeometry y="104" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-33" value="- endDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="L2Zk-ysr09VhSKyX-RJy-28" vertex="1">
          <mxGeometry y="130" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-34" value="- stockSurplusCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="L2Zk-ysr09VhSKyX-RJy-28" vertex="1">
          <mxGeometry y="156" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-35" value="- state: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="L2Zk-ysr09VhSKyX-RJy-28" vertex="1">
          <mxGeometry y="182" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-36" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;" parent="L2Zk-ysr09VhSKyX-RJy-28" vertex="1">
          <mxGeometry y="208" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-37" value="- takeCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="L2Zk-ysr09VhSKyX-RJy-28" vertex="1">
          <mxGeometry y="234" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="L2Zk-ysr09VhSKyX-RJy-38" value="- userTakeLeftCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="L2Zk-ysr09VhSKyX-RJy-28" vertex="1">
          <mxGeometry y="260" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-0" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ActivityPartakeImpl&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#FF00FF;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-399" y="184" width="468" height="207" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-1" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;i style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BaseActivityPartake&lt;/font&gt;&lt;/i&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#FF00FF;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-393" y="446" width="192" height="131" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-4" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.45;exitY=1;exitDx=0;exitDy=0;sketch=1;curveFitting=1;jiggle=2;endFill=1;exitPerimeter=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-2" target="zgaPGqOn2TWTvyCgprj3-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-6" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.986;entryY=0.919;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-2" target="L2Zk-ysr09VhSKyX-RJy-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-2" value="&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;doPartake()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-378" y="232" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-8" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.272;entryY=0.007;entryDx=0;entryDy=0;entryPerimeter=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-3" target="zgaPGqOn2TWTvyCgprj3-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-342.8571428571429" y="593" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-3" value="&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;doPartake()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-385" y="502" width="162" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-5" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-2" target="L2Zk-ysr09VhSKyX-RJy-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-7" value="&lt;font color=&quot;#7f00ff&quot; style=&quot;font-size: 14px;&quot;&gt;doPartake()流程&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;verticalAlign=top;fillColor=none;strokeColor=#7F00FF;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-393" y="627" width="326" height="519" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-14" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-9" target="zgaPGqOn2TWTvyCgprj3-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-9" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;1.查询活动账单&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#7F00FF;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-306" y="667" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-15" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-10" target="zgaPGqOn2TWTvyCgprj3-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-10" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;2.活动信息校验处理【活动库存、状态、日期、个人参与次数，若失败直接返回&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#7F00FF;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-337.25" y="766" width="222.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-16" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-11" target="zgaPGqOn2TWTvyCgprj3-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-11" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;3.扣减活动库存&amp;nbsp; 活动表的stockSurplusCount -1 目前是数据库扣减&amp;nbsp; 后期优化成redis(若失败直接返回)&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#7F00FF;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-331.25" y="850" width="210.5" height="61" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-17" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-12" target="zgaPGqOn2TWTvyCgprj3-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-12" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;4.领取活动信息【个人用户把活动信息写入到用户表】(若失败直接返回)&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#7F00FF;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-323" y="965" width="194" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-13" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;5.封装结果【策略id】&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#7F00FF;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-306" y="1076" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-18" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ActivityPartakeSupport&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#FF00FF;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-13" y="631" width="237" height="83" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-19" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;queryActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="28" y="667" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-20" value="&lt;b style=&quot;border-color: var(--border-color); font-family: &amp;quot;comic sans ms&amp;quot;; text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;ActivityRepository&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#FF00FF;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="325" y="574" width="338" height="150" as="geometry" />
        </mxCell>
        <mxCell id="VIlLHRCb30MTDT4DzN83-1" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-21" target="VIlLHRCb30MTDT4DzN83-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-21" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;queryActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="361" y="661" width="208" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-22" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-9" target="zgaPGqOn2TWTvyCgprj3-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-23" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-19" target="zgaPGqOn2TWTvyCgprj3-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-25" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-24" target="L2Zk-ysr09VhSKyX-RJy-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-32" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-24" target="zgaPGqOn2TWTvyCgprj3-10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-28" y="303" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="-33" y="785" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-34" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-24" target="zgaPGqOn2TWTvyCgprj3-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-24" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;checkActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-105" y="239" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-26" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;参数&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Comic Sans MS;fontColor=default;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="118" y="223" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-29" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=0.466;entryY=1.077;entryDx=0;entryDy=0;entryPerimeter=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-21" target="L2Zk-ysr09VhSKyX-RJy-38" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="62" y="286" as="sourcePoint" />
            <mxPoint x="201" y="286" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-31" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;返回值&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Comic Sans MS;fontColor=default;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="265" y="506" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-33" value="&lt;font color=&quot;#ff0000&quot;&gt;checkActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()流程&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;verticalAlign=top;strokeColor=#FF0000;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-143" y="-276" width="227" height="339" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-35" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-36" target="zgaPGqOn2TWTvyCgprj3-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-36" value="1.校验活动状态(是否为运行中)" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF0000;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-114.75" y="-244" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-37" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-38" target="zgaPGqOn2TWTvyCgprj3-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-38" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;2&lt;font style=&quot;border-color: var(--border-color); font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;.校验&lt;/font&gt;活动日期&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF0000;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-111.5" y="-158" width="163.25" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-39" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-40" target="zgaPGqOn2TWTvyCgprj3-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-40" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;3.校验&lt;/font&gt;活动库存&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF0000;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-114" y="-66" width="168.25" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-41" value="&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;4.校验个人参与次数&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF0000;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-114.75" y="21" width="169.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-52" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-42" target="zgaPGqOn2TWTvyCgprj3-12" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-419" y="311" />
              <mxPoint x="-412" y="984" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-55" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-42" target="zgaPGqOn2TWTvyCgprj3-54" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-42" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;grabActivity&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-245" y="289" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-44" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.993;exitY=0.723;exitDx=0;exitDy=0;exitPerimeter=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-43" target="zgaPGqOn2TWTvyCgprj3-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-83" y="359.9999999999998" as="sourcePoint" />
            <mxPoint x="-111.5" y="886.5" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-78" y="366" />
              <mxPoint x="-79" y="882" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VIlLHRCb30MTDT4DzN83-12" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-43" target="VIlLHRCb30MTDT4DzN83-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-43" value="&lt;font style=&quot;&quot; face=&quot;Comic Sans MS&quot;&gt;subtractionActivityStock()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-247" y="339" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-46" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-45" target="zgaPGqOn2TWTvyCgprj3-43" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="418" y="345" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-48" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-45" target="zgaPGqOn2TWTvyCgprj3-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-45" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;subtractionActivityStock&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="370.5" y="610" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-47" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;UPDATE activity SET stock_surplus_count = stock_surplus_count - 1&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;WHERE activity_id = #{activityId} AND stock_surplus_count &amp;gt; 0&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="470" y="442" width="309" height="71" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-49" value="&lt;b style=&quot;border-color: var(--border-color); text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;UserTakeActivityRepository&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-783" y="-178" width="316" height="150" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-50" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;subtractionLeftCount&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-739" y="-140" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="VIlLHRCb30MTDT4DzN83-19" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-51" target="VIlLHRCb30MTDT4DzN83-20" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-639.7927215189875" y="63" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-51" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;takeActivity&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-741.5" y="-87" width="203" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-54" value="&lt;font color=&quot;#00ff00&quot; face=&quot;Comic Sans MS&quot;&gt;grabActivity&lt;font style=&quot;font-size: 14px;&quot;&gt;()流程&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;fillColor=default;verticalAlign=top;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-372" y="-379" width="209" height="494" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-62" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-56" target="zgaPGqOn2TWTvyCgprj3-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-56" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;1.启动路由策略&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-347" y="-336" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-59" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-57" target="zgaPGqOn2TWTvyCgprj3-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-57" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;2.开始事务&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-347" y="-255" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-61" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-58" target="zgaPGqOn2TWTvyCgprj3-60" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-58" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;3.扣减个人已参与次数，错误直接返回&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-347" y="-171" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-64" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-60" target="zgaPGqOn2TWTvyCgprj3-63" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-60" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;4.插入领取活动信息&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-347" y="-87" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-68" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-63" target="zgaPGqOn2TWTvyCgprj3-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-63" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;5.事务提交，uId唯一，保证幂等性&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-343" y="-7" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="zgaPGqOn2TWTvyCgprj3-67" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;6.清空路由上下文&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-343" y="70" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="V3z_AUh82bTe2Wsr_8Rx-0" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-50" target="zgaPGqOn2TWTvyCgprj3-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="V3z_AUh82bTe2Wsr_8Rx-1" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-51" target="zgaPGqOn2TWTvyCgprj3-60" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VIlLHRCb30MTDT4DzN83-0" value="&lt;font&gt;queryActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()流程&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#000000;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="329" y="818" width="290.5" height="303" as="geometry" />
        </mxCell>
        <mxCell id="VIlLHRCb30MTDT4DzN83-4" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="VIlLHRCb30MTDT4DzN83-2" target="VIlLHRCb30MTDT4DzN83-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VIlLHRCb30MTDT4DzN83-8" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="VIlLHRCb30MTDT4DzN83-2" target="VIlLHRCb30MTDT4DzN83-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VIlLHRCb30MTDT4DzN83-2" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;1.活动相关信息&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="374" y="873" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="VIlLHRCb30MTDT4DzN83-6" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;endFill=1;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="VIlLHRCb30MTDT4DzN83-3" target="VIlLHRCb30MTDT4DzN83-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VIlLHRCb30MTDT4DzN83-10" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="VIlLHRCb30MTDT4DzN83-3" target="VIlLHRCb30MTDT4DzN83-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VIlLHRCb30MTDT4DzN83-3" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;2.个人领取次数&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="374" y="962" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="VIlLHRCb30MTDT4DzN83-5" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;3.封装返回&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="374" y="1045" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="VIlLHRCb30MTDT4DzN83-7" value="&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;SELECT activity_id, activity_name, activity_desc, begin_date_time, end_date_time,&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;stock_count, stock_surplus_count, take_count, strategy_id, state, creator, create_time, update_time&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;FROM activity&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;WHERE activity_id = #{activityId}&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="14" y="835.5" width="274" height="102" as="geometry" />
        </mxCell>
        <mxCell id="VIlLHRCb30MTDT4DzN83-9" value="&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;SELECT total_count, left_count&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;FROM user_take_activity_count&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;WHERE u_id = #{uId} AND activity_id = #{activityId}&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="12" y="962" width="279" height="38" as="geometry" />
        </mxCell>
        <mxCell id="VIlLHRCb30MTDT4DzN83-11" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;UPDATE activity SET stock_surplus_count = stock_surplus_count - 1&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;WHERE activity_id = #{activityId} AND stock_surplus_count &amp;gt; 0&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-796" y="385" width="289" height="76" as="geometry" />
        </mxCell>
        <mxCell id="VIlLHRCb30MTDT4DzN83-13" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;扣减个人已参与次数 插入或更新user_take_activity_count&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;1.如果剩余领取次数是null是当前用户第一次抽奖插入user_take_activity_count(用户id、活动id、总个人领取次数、剩余领取次数)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;2.已经领取过更新user_take_activity_count 的leftCount-1&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-821" y="-298" width="386" height="87" as="geometry" />
        </mxCell>
        <mxCell id="VIlLHRCb30MTDT4DzN83-20" value="&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;2 新增user_take_activity&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 用户id、活动领取时间 从请求参数PartakeReq取&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 任务id:使用雪花算法产生&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 活动id、活动名称、每人可领取次数、剩余领取次数 字段从 ActivityBillVO活动账单取&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 已领取次数：每人可领取次数 - 剩余领取次数 + 1；剩余领取次数为null时是第一次领取&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; uuid：用户id + &quot;_&quot; + 活动id + &quot;_&quot; + 已领取次数&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="L2Zk-ysr09VhSKyX-RJy-1" vertex="1">
          <mxGeometry x="-827" y="3" width="386" height="112" as="geometry" />
        </mxCell>
        <mxCell id="VIlLHRCb30MTDT4DzN83-14" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.037;exitY=-0.047;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;exitPerimeter=0;" parent="L2Zk-ysr09VhSKyX-RJy-1" source="zgaPGqOn2TWTvyCgprj3-50" target="VIlLHRCb30MTDT4DzN83-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="2sJHz9CPDxkdQfI1BLem" name="第12章">
    <mxGraphModel dx="1767" dy="780" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="Jh7UZeW_R4jewUWO5z7V-0" />
        <mxCell id="Jh7UZeW_R4jewUWO5z7V-1" parent="Jh7UZeW_R4jewUWO5z7V-0" />
        <mxCell id="d15QbddmMF-N-3bAuaeF-48" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-49" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="340" y="158.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-49" value="&lt;font style=&quot;font-size: 17px&quot;&gt;开始&lt;/font&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;sketch=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="290" y="28.75" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-50" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-51" target="d15QbddmMF-N-3bAuaeF-98" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="630" y="183.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-51" value="领取活动" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="470" y="158.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-52" value="" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-53" target="d15QbddmMF-N-3bAuaeF-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-53" value="领取完成" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="470" y="288.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-54" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-55" target="d15QbddmMF-N-3bAuaeF-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-55" value="获取抽奖单信息" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="290" y="398.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-56" value="" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;fillColor=#b1ddf0;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-57" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="480" y="526" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-57" value="参与抽奖" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="290" y="498.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-58" value="" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-59" target="d15QbddmMF-N-3bAuaeF-61" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-59" value="抽奖结果&lt;br&gt;奖品ID🏅" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="301.25" y="720" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-113" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;sketch=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-61" target="d15QbddmMF-N-3bAuaeF-112" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-61" value="奖品落库" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="301.25" y="820.5" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="rh6i0T7xuN2XiJZiPmKt-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;sketch=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-63" target="rh6i0T7xuN2XiJZiPmKt-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-63" value="奖品落库结束" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#D0CEE2;strokeColor=#56517E;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="291.25" y="941.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-67" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-69" target="d15QbddmMF-N-3bAuaeF-77" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-68" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fillColor=#b1ddf0;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-69" target="d15QbddmMF-N-3bAuaeF-71" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-69" value="抽奖策略" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="650" y="503.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-70" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#b1ddf0;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-71" target="d15QbddmMF-N-3bAuaeF-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-71" value="单项概率" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="830" y="503.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-72" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#b1ddf0;strokeColor=#000000;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-73" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1180" y="529" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-73" value="初始数据&lt;br&gt;斐波那契" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="1010" y="503.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="v6GHTs4M-O7UOgfUY7Wu-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-75" target="v6GHTs4M-O7UOgfUY7Wu-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-75" value="执行抽奖" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="660" y="620" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-76" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-77" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1130" y="458.75" />
              <mxPoint x="1130" y="528.75" />
            </Array>
            <mxPoint x="1180" y="529" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-77" value="总体概率" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="830" y="433.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-78" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-79" target="d15QbddmMF-N-3bAuaeF-81" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-79" value="状态校验" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="800" y="158.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-80" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-81" target="d15QbddmMF-N-3bAuaeF-83" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-81" value="日期校验" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="980" y="158.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-82" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-83" target="d15QbddmMF-N-3bAuaeF-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-83" value="库存校验(总)" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="1160" y="158.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-84" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-85" target="d15QbddmMF-N-3bAuaeF-106" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1390" y="283.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-85" value="参与次数" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="1340" y="158.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-86" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;gradientColor=none;rotation=-180;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="400" y="398.75" width="20" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-87" value="&lt;span&gt;takeId、s&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;menlo&amp;#34;&quot;&gt;trategyId&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="425" y="413.75" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-88" value="否" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=horizontal;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-91" target="d15QbddmMF-N-3bAuaeF-51" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="390" y="228.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-89" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-91" target="d15QbddmMF-N-3bAuaeF-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-90" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="d15QbddmMF-N-3bAuaeF-89" vertex="1" connectable="0">
          <mxGeometry x="0.0054" y="14" relative="1" as="geometry">
            <mxPoint x="-12" y="-14" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-91" value="是否存在&lt;br&gt;未执行&lt;br&gt;抽奖单" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;sketch=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="290" y="153.75" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-92" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;gradientColor=none;rotation=90;dashed=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="1111.25" y="-180" width="20" height="640" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-93" value="活动信息校验信息" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="1080" y="110" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-96" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;user_take_activity 中存在state = 0&lt;br&gt;领取了但抽奖失败&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="110" y="130" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-97" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;sketch=1;strokeColor=#AE4132;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-98" target="d15QbddmMF-N-3bAuaeF-79" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-98" value="查询活动账单" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="634" y="158.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-99" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;strokeColor=#9673A6;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-106" target="d15QbddmMF-N-3bAuaeF-105" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1330" y="311" as="sourcePoint" />
            <mxPoint x="1190" y="311" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1335" y="314" />
              <mxPoint x="1255" y="314" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-100" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;font&gt;user_take_activity_count&amp;nbsp; &amp;nbsp; &amp;nbsp;和 activity&lt;/font&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="620" y="113.75" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-101" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;font&gt;activity的stock_surplus_count-1&lt;/font&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="1310" y="330" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-102" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;strokeColor=#9673A6;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-105" target="d15QbddmMF-N-3bAuaeF-104" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="870" y="311.91666666666674" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-103" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;strokeColor=#9673A6;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-104" target="d15QbddmMF-N-3bAuaeF-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-104" value="插入领取活动信息" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;rounded=1;arcSize=14;strokeWidth=2;sketch=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="760" y="290.63" width="110" height="46.25" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-105" value="扣减个人参与次数" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;rounded=1;arcSize=14;strokeWidth=2;sketch=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="1021.25" y="290.63" width="110" height="46.25" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-106" value="扣减活动库存" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;rounded=1;arcSize=14;strokeWidth=2;sketch=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="1335" y="288.75" width="110" height="46.25" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-107" value="&lt;div style=&quot;text-align: center&quot;&gt;插入或更新user_take_activity_count&lt;/div&gt;&lt;span style=&quot;text-align: center&quot;&gt;第一次新增，后面left_count -1&amp;nbsp;&lt;br&gt;&lt;br&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="980" y="250" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-108" value="&lt;div style=&quot;text-align: center&quot;&gt;插入user_take_activity&lt;/div&gt;&lt;span style=&quot;text-align: center&quot;&gt;state = 0(未使用)&amp;nbsp;&lt;br&gt;&lt;br&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="754" y="245" width="146" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-109" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;fontFamily=Comic Sans MS;direction=north;dashed=1;sketch=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="800" y="343.75" width="280" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-110" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;/div&gt;&lt;span style=&quot;text-align: center&quot;&gt;插入领取活动信息&lt;br&gt;&lt;br&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="875.25" y="393.75" width="114.75" height="26.25" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-111" value="&lt;span&gt;返回封装结果takeId、s&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;menlo&amp;#34;&quot;&gt;trategyId&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="425" y="260" width="190" height="20" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-115" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;sketch=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-112" target="d15QbddmMF-N-3bAuaeF-114" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-112" value="锁定活动领取表" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="471.25" y="820.5" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-116" style="edgeStyle=orthogonalEdgeStyle;rounded=1;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;endFill=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-114" target="d15QbddmMF-N-3bAuaeF-63" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="501.25" y="1021.75" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-114" value="保存抽奖信息&lt;br&gt;user_strategy_export" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="712.25" y="820.5" width="126" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-117" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;comic sans ms&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;user_take_activity 更新state = 1&lt;/span&gt;&lt;br style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;comic sans ms&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)&quot;&gt;当state = 0时候" style="text;whiteSpace=wrap;html=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="461.25" y="780" width="220" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-120" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-118" target="d15QbddmMF-N-3bAuaeF-119" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-118" value="策略是否初始化" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="1180" y="503.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-126" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;strokeColor=#000000;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-119" target="d15QbddmMF-N-3bAuaeF-75" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-119" value="获取被排除的抽奖列表" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="1340" y="503.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-122" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;/div&gt;&lt;span style=&quot;text-align: center&quot;&gt;奖品库存为0(策略详情表)或因为风控策略&lt;br&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="1322.6299999999999" y="460" width="134.75" height="51.25" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-124" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;strokeColor=#000000;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="d15QbddmMF-N-3bAuaeF-123" target="d15QbddmMF-N-3bAuaeF-69" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-123" value="查询抽奖策略&lt;br&gt;聚合信息" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="480" y="503.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-127" value="活动领域" style="html=1;fillColor=#FAD9D5;strokeColor=#b85450;sketch=1;rounded=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="450" y="33.75" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-128" value="抽奖策略领域" style="html=1;fillColor=#B1DDF0;strokeColor=#6c8ebf;sketch=1;rounded=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="590" y="33.75" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-129" value="新增用户策略&lt;br&gt;计算结果信息" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="720" y="33.75" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-130" value="发奖领域" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="1001.25" y="33.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d15QbddmMF-N-3bAuaeF-131" value="MQ消息" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="880" y="33.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="v6GHTs4M-O7UOgfUY7Wu-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;sketch=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="v6GHTs4M-O7UOgfUY7Wu-2" target="d15QbddmMF-N-3bAuaeF-59" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="530" y="700" />
              <mxPoint x="351" y="700" />
              <mxPoint x="351" y="720" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="v6GHTs4M-O7UOgfUY7Wu-2" value="抽奖策略详情&lt;br&gt;库存扣减" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="480" y="620" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="DfiBkYvwls9F7L_BiqlY-34" value="查询strategy、strategy_detail" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="450" y="475.63" width="170" height="20" as="geometry" />
        </mxCell>
        <mxCell id="DfiBkYvwls9F7L_BiqlY-35" value="查询award" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="401.25" y="740" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="rh6i0T7xuN2XiJZiPmKt-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="rh6i0T7xuN2XiJZiPmKt-0" target="rh6i0T7xuN2XiJZiPmKt-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rh6i0T7xuN2XiJZiPmKt-0" value="发奖领域" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="461.25" y="1050" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="rh6i0T7xuN2XiJZiPmKt-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;sketch=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" source="rh6i0T7xuN2XiJZiPmKt-1" target="rh6i0T7xuN2XiJZiPmKt-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rh6i0T7xuN2XiJZiPmKt-1" value="MQ" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fontFamily=Comic Sans MS;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="291.25" y="1050" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="rh6i0T7xuN2XiJZiPmKt-4" value="更新发货状态" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="634" y="1050" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="PmTUisijG999FRkkA_yN-0" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;flipH=1;fontFamily=Comic Sans MS;strokeColor=#56517E;fillColor=#D0CEE2;direction=north;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="290" y="1120" width="440" height="20" as="geometry" />
        </mxCell>
        <mxCell id="PmTUisijG999FRkkA_yN-1" value="&lt;font style=&quot;font-size: 12px ; font-weight: normal&quot;&gt;MQ 后续开发&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;fontFamily=Comic Sans MS;" parent="Jh7UZeW_R4jewUWO5z7V-1" vertex="1">
          <mxGeometry x="430" y="1129" width="140" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第12章项目结构" id="bMenNnAYztm2xcDeR3hP">
    <mxGraphModel dx="4248" dy="780" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="nxl1K3lLrfokX8LL8pym-0" />
        <mxCell id="nxl1K3lLrfokX8LL8pym-1" parent="nxl1K3lLrfokX8LL8pym-0" />
        <mxCell id="nxl1K3lLrfokX8LL8pym-2" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=232.5;entryDy=14;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#7EA6E0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;" parent="nxl1K3lLrfokX8LL8pym-1" source="nxl1K3lLrfokX8LL8pym-3" target="nxl1K3lLrfokX8LL8pym-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-2187" y="609" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-3" value="lotter-application" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-2289" y="514" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-4" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.application.process&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-2418" y="669" width="425" height="76" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-10" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;entryX=-0.014;entryY=0.345;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="nxl1K3lLrfokX8LL8pym-1" source="nxl1K3lLrfokX8LL8pym-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1552.5140000000001" y="374.1500000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-11" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;res&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1880" y="329" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-12" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;entryX=-0.006;entryY=-0.11;entryDx=0;entryDy=0;entryPerimeter=0;" parent="nxl1K3lLrfokX8LL8pym-1" source="nxl1K3lLrfokX8LL8pym-13" target="nxl1K3lLrfokX8LL8pym-61" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1549" y="619" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-13" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;req&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1875" y="574" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="T_2C0MDUM8odSRosXA5w-11" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="nxl1K3lLrfokX8LL8pym-1" source="nxl1K3lLrfokX8LL8pym-20" target="nxl1K3lLrfokX8LL8pym-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-20" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;impl&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1873" y="1043" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-23" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1974" y="305" width="30" height="828" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-24" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=14;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="nxl1K3lLrfokX8LL8pym-1" source="nxl1K3lLrfokX8LL8pym-25" target="nxl1K3lLrfokX8LL8pym-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-25" value="lotter-infrastructure" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-765" y="784" width="222.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-26" value="&lt;font style=&quot;font-size: 12px&quot;&gt;&lt;font color=&quot;#333333&quot; style=&quot;font-size: 12px&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;基础服务层：&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(51 , 51 , 51) ; font-family: &amp;#34;open sans&amp;#34; , &amp;#34;clear sans&amp;#34; , &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; background-color: rgb(255 , 255 , 255)&quot;&gt;为各层提供资源服务（如数据库、缓存等）&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-747" y="737" width="237" height="30" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-27" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.&lt;/font&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;infrastructure&lt;/span&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-387" y="767" width="364" height="76" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-36" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=125;exitDy=40.5;exitPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="nxl1K3lLrfokX8LL8pym-1" source="nxl1K3lLrfokX8LL8pym-28" target="nxl1K3lLrfokX8LL8pym-78" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-28" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;dao&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="31" y="871" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-31" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-23" y="374" width="30" height="562" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-35" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="nxl1K3lLrfokX8LL8pym-1" source="nxl1K3lLrfokX8LL8pym-36" target="nxl1K3lLrfokX8LL8pym-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-36" value="lotter-interfaces" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-18" y="1589" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-37" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=40.5;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=261;exitDy=45;exitPerimeter=0;" parent="nxl1K3lLrfokX8LL8pym-1" source="nxl1K3lLrfokX8LL8pym-38" target="nxl1K3lLrfokX8LL8pym-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-38" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;resource&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="318" y="1569.5" width="261" height="76" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-42" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="nxl1K3lLrfokX8LL8pym-1" target="nxl1K3lLrfokX8LL8pym-86" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="853" y="1614" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-43" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;mappers&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="724" y="1574" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-34" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=125;exitDy=40.5;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="nxl1K3lLrfokX8LL8pym-1" source="nxl1K3lLrfokX8LL8pym-49" target="nxl1K3lLrfokX8LL8pym-84" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-49" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;repository&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="31" y="356" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-53" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;ActivityProcessImpl&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- activityPartake IActivityPartake&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- idGeneratorMap: Map&amp;lt;Constants.Ids,IIdGenerator&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- drawExec IDrawExec&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;+ doDrawProcess(DrawProcessReq req):DrawProcessResult&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#007FFF;rounded=0;fillColor=none;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1513" y="1029" width="362" height="119" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-54" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IActivityProcess&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ doDrawProcess(DrawProcessReq req):DrawProcessResult&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;fillColor=none;strokeColor=#7F00FF;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1891" y="822.5" width="387" height="88" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-59" value="DrawProcessReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1556" y="570" width="177" height="78" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-60" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="nxl1K3lLrfokX8LL8pym-59" vertex="1">
          <mxGeometry y="26" width="177" height="26" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-61" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="nxl1K3lLrfokX8LL8pym-59" vertex="1">
          <mxGeometry y="52" width="177" height="26" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-63" value="DrawProcessResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1543.5" y="315" width="217.5" height="104" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-64" value="- drawAwardInfo: DrawAwardInfo" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="nxl1K3lLrfokX8LL8pym-63" vertex="1">
          <mxGeometry y="26" width="217.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-65" value="- code: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="nxl1K3lLrfokX8LL8pym-63" vertex="1">
          <mxGeometry y="52" width="217.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-66" value="- info: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="nxl1K3lLrfokX8LL8pym-63" vertex="1">
          <mxGeometry y="78" width="217.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-78" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;IUserTakeActivityDao&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;+ lockTackActivity(UserTakeActivity&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;userTakeActivity&lt;span style=&quot;background-color: initial;&quot;&gt;):int&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ queryNoConsumedTakeActivityOrder(UserTakeActivity&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;userTakeActivityt&lt;span style=&quot;background-color: initial;&quot;&gt;): UserTakeActivity&lt;/span&gt;&lt;/p&gt;&lt;div&gt;+ insert(UserTakeActivity&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;userTakeActivityt&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;): int&lt;/span&gt;&lt;/div&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#7F00FF;sketch=1;rounded=0;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="262.5" y="838" width="372" height="162" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-84" value="UserTakeActivityRepository" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;arcSize=0;strokeColor=#007FFF;swimlaneLine=1;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="287" y="329" width="411" height="139" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-85" value="+ lockTackActivity(String uId, Long activityId, Long takeId):int &#xa;+ saveUserStrategyExport(DrawOrderVO drawOrder): void&#xa;+ queryNoConsumedTakeActivityOrder(Long activityId, &#xa;String uId): UserTakeActivityVO&#xa;+takeActivity(Long activityId, String activityName, &#xa;Long strategyId, Integer takeCount, Integer userTakeLeftCount, &#xa;String uId, Date takeDate, Long takeId)：void" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="nxl1K3lLrfokX8LL8pym-84" vertex="1">
          <mxGeometry y="26" width="411" height="113" as="geometry" />
        </mxCell>
        <mxCell id="nxl1K3lLrfokX8LL8pym-86" value="&lt;b&gt;UserTakeActivityCount&lt;span style=&quot;font-size: 16px;&quot;&gt;Mapper&lt;/span&gt;&lt;span style=&quot;font-size: 16px; text-align: left;&quot;&gt;.xml&lt;/span&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#000000;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="959" y="1585.5" width="291.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="47edCSCVj1ZCf2wCeq2Q-0" value=" DrawAwardInfo" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;swimlaneLine=1;fontColor=#000000;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-671.5" y="1084" width="257" height="208" as="geometry" />
        </mxCell>
        <mxCell id="47edCSCVj1ZCf2wCeq2Q-1" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="47edCSCVj1ZCf2wCeq2Q-0" vertex="1">
          <mxGeometry y="26" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="47edCSCVj1ZCf2wCeq2Q-2" value="- awardName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="47edCSCVj1ZCf2wCeq2Q-0" vertex="1">
          <mxGeometry y="52" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Jzaz7Sqg_xhNQAcSO9iu-4" value="- awardType : Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="47edCSCVj1ZCf2wCeq2Q-0" vertex="1">
          <mxGeometry y="78" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Jzaz7Sqg_xhNQAcSO9iu-5" value="- awardContent: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="47edCSCVj1ZCf2wCeq2Q-0" vertex="1">
          <mxGeometry y="104" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="T_2C0MDUM8odSRosXA5w-4" value="-strategyMode: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="47edCSCVj1ZCf2wCeq2Q-0" vertex="1">
          <mxGeometry y="130" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="T_2C0MDUM8odSRosXA5w-10" value="- grantType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="47edCSCVj1ZCf2wCeq2Q-0" vertex="1">
          <mxGeometry y="156" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="T_2C0MDUM8odSRosXA5w-6" value="- grantDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="47edCSCVj1ZCf2wCeq2Q-0" vertex="1">
          <mxGeometry y="182" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="1rUzMnmHgqePLp0R6Ljl-0" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=232.5;entryDy=14;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#7EA6E0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;" parent="nxl1K3lLrfokX8LL8pym-1" source="1rUzMnmHgqePLp0R6Ljl-1" target="1rUzMnmHgqePLp0R6Ljl-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-2242" y="1768" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1rUzMnmHgqePLp0R6Ljl-1" value="lotter-domain" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-2344" y="1673" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-52" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=425;exitDy=45;exitPerimeter=0;" parent="nxl1K3lLrfokX8LL8pym-1" source="1rUzMnmHgqePLp0R6Ljl-2" target="1rUzMnmHgqePLp0R6Ljl-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-53" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=425;exitDy=60.5;exitPerimeter=0;entryX=0;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="nxl1K3lLrfokX8LL8pym-1" source="1rUzMnmHgqePLp0R6Ljl-2" target="8ljEpfOR_lUFBxJtHLw_-15" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2033" y="2205" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1rUzMnmHgqePLp0R6Ljl-2" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.domain&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-2473" y="1828" width="425" height="76" as="geometry" />
        </mxCell>
        <mxCell id="1rUzMnmHgqePLp0R6Ljl-3" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;strategy&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1898" y="1395" width="425" height="76" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-1" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;service.partake&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1913" y="2638" width="445.5" height="76" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-4" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;impl&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1375" y="2433" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-5" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1159" y="2404" width="30" height="169" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-6" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1430" y="2452" width="30" height="448" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-7" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;ActivityPartakeImpl&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- userTakeActivityRepository: IUserTakeActivityRepository&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;strike style=&quot;&quot;&gt;- idGeneratorMap: Map&amp;lt;Constants.Ids,IIdGenerator&amp;gt;&lt;/strike&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- transactionTemplate: TransactionTemplate&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- dbRouter: IDBRouteStrategy&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;# checkActivityBill(ActivityBillVO): Result&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;# subtractionActivityStock(PartakeReq req): Result&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#007FFF;rounded=0;fillColor=none;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1078" y="2393" width="462" height="193" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-8" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IActivityPartake&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ doPartake(PartakeReq req): PartakeResult&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;fillColor=none;strokeColor=#7F00FF;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1355" y="2632" width="321" height="105" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-10" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;&lt;i&gt;BaseActivityPartake&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;- idGeneratorMap: Map&amp;lt;Constants.Ids, IIdGenerator&amp;gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;+ doPartake(PartakeReq req): PartakeResult&lt;/font&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;# checkActivityBill(ActivityBillVO): Result&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;# subtractionActivityStock(PartakeReq req): Result&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;# grabActivity(PartakeReq req,,ActivityBillVO bill,Long taskId): Result&lt;/font&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#007FFF;rounded=0;fillColor=none;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1360.5" y="2770" width="416.5" height="166" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-11" value="+ recordDrawOrder(DrawOrderVO drawOrder):Result" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1355" y="2711" width="319" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-12" value="# queryNoConsumedTakeActivityOrder(Long activityId,&#xa; String uId):UserTakeActivityVO &#xa;buildPartakeResult(Long strategyId, Long takeId): PartakeResult" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1363.25" y="2868" width="430.25" height="71" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-14" value="# grabActivity(PartakeReq req,,ActivityBillVO bill,Long taskId): Result&#xa;+ recordDrawOrder(DrawOrderVO drawOrder):Result&#xa;# queryNoConsumedTakeActivityOrder(Long activityId,&#xa; String uId):UserTakeActivityVO " style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1078" y="2522" width="439" height="72" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-50" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.529;exitY=0.204;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="nxl1K3lLrfokX8LL8pym-1" source="8ljEpfOR_lUFBxJtHLw_-15" target="8ljEpfOR_lUFBxJtHLw_-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-51" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=242.75;entryDy=14;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="nxl1K3lLrfokX8LL8pym-1" source="8ljEpfOR_lUFBxJtHLw_-15" target="8ljEpfOR_lUFBxJtHLw_-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-15" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;activity&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1770.5" y="2408" width="198" height="76" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-16" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;model&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1813.5" y="2166" width="284" height="76" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-17" value="UserTakeActivityVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;swimlaneLine=1;fontColor=#000000;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-712" y="2048" width="257" height="104" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-26" value="- taskId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="8ljEpfOR_lUFBxJtHLw_-17" vertex="1">
          <mxGeometry y="26" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-27" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="8ljEpfOR_lUFBxJtHLw_-17" vertex="1">
          <mxGeometry y="52" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-25" value="- state: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="8ljEpfOR_lUFBxJtHLw_-17" vertex="1">
          <mxGeometry y="78" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-28" value="DrawOrderVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;swimlaneLine=1;fontColor=#FF0000;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1022" y="1850" width="257" height="364" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-37" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="8ljEpfOR_lUFBxJtHLw_-28" vertex="1">
          <mxGeometry y="26" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-38" value="- taskId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="8ljEpfOR_lUFBxJtHLw_-28" vertex="1">
          <mxGeometry y="52" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-18" value="- acvitityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="8ljEpfOR_lUFBxJtHLw_-28" vertex="1">
          <mxGeometry y="78" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-40" value="- orderId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="8ljEpfOR_lUFBxJtHLw_-28" vertex="1">
          <mxGeometry y="104" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-39" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="8ljEpfOR_lUFBxJtHLw_-28" vertex="1">
          <mxGeometry y="130" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-41" value="-strategyMode: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="8ljEpfOR_lUFBxJtHLw_-28" vertex="1">
          <mxGeometry y="156" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-42" value="- grantType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="8ljEpfOR_lUFBxJtHLw_-28" vertex="1">
          <mxGeometry y="182" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-43" value="- grantDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="8ljEpfOR_lUFBxJtHLw_-28" vertex="1">
          <mxGeometry y="208" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-44" value="- grantState: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="8ljEpfOR_lUFBxJtHLw_-28" vertex="1">
          <mxGeometry y="234" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-45" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="8ljEpfOR_lUFBxJtHLw_-28" vertex="1">
          <mxGeometry y="260" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-46" value="- awardName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="8ljEpfOR_lUFBxJtHLw_-28" vertex="1">
          <mxGeometry y="286" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-47" value="- awardType : Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="8ljEpfOR_lUFBxJtHLw_-28" vertex="1">
          <mxGeometry y="312" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8ljEpfOR_lUFBxJtHLw_-48" value="- awardContent: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="8ljEpfOR_lUFBxJtHLw_-28" vertex="1">
          <mxGeometry y="338" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uf5sIMkAOXPtNaQxsuyb-0" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;vo&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1400" y="1996.5" width="284" height="76" as="geometry" />
        </mxCell>
        <mxCell id="ykcnSQvxxgKuebim9HA1-4" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="nxl1K3lLrfokX8LL8pym-1" source="uf5sIMkAOXPtNaQxsuyb-1" target="ykcnSQvxxgKuebim9HA1-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uf5sIMkAOXPtNaQxsuyb-1" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;res&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1408" y="2236" width="284" height="76" as="geometry" />
        </mxCell>
        <mxCell id="ykcnSQvxxgKuebim9HA1-0" value="PartakeResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-934" y="2236" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="ykcnSQvxxgKuebim9HA1-1" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="ykcnSQvxxgKuebim9HA1-0" vertex="1">
          <mxGeometry y="26" width="180" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ykcnSQvxxgKuebim9HA1-2" value="- taskId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;fontColor=#FF0000;" parent="ykcnSQvxxgKuebim9HA1-0" vertex="1">
          <mxGeometry y="52" width="180" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ykcnSQvxxgKuebim9HA1-5" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1467.5" y="2010" width="30" height="307" as="geometry" />
        </mxCell>
        <mxCell id="ykcnSQvxxgKuebim9HA1-6" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1096" y="1855" width="30" height="359" as="geometry" />
        </mxCell>
        <mxCell id="ykcnSQvxxgKuebim9HA1-7" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;model&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1344" y="1262" width="197" height="76" as="geometry" />
        </mxCell>
        <mxCell id="wvSAYYA0Ns2Efk4Od2H8-11" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=176.75;exitDy=45;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="nxl1K3lLrfokX8LL8pym-1" source="ykcnSQvxxgKuebim9HA1-19" target="Jzaz7Sqg_xhNQAcSO9iu-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ykcnSQvxxgKuebim9HA1-19" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;vo&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1017" y="1155" width="176.75" height="76" as="geometry" />
        </mxCell>
        <mxCell id="wvSAYYA0Ns2Efk4Od2H8-10" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=191.99999999999997;exitDy=45;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="nxl1K3lLrfokX8LL8pym-1" source="ykcnSQvxxgKuebim9HA1-21" target="5JZFu5mjsgUIRc8eMRZS-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ykcnSQvxxgKuebim9HA1-21" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;req&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1012" y="1330" width="192" height="76" as="geometry" />
        </mxCell>
        <mxCell id="5JZFu5mjsgUIRc8eMRZS-0" value="DrawReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#3399FF;swimlaneLine=1;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-669" y="1338" width="252" height="104" as="geometry" />
        </mxCell>
        <mxCell id="5JZFu5mjsgUIRc8eMRZS-1" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="5JZFu5mjsgUIRc8eMRZS-0" vertex="1">
          <mxGeometry y="26" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="5JZFu5mjsgUIRc8eMRZS-2" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="5JZFu5mjsgUIRc8eMRZS-0" vertex="1">
          <mxGeometry y="52" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="5JZFu5mjsgUIRc8eMRZS-3" value="- uuid: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;fontColor=#FF0000;" parent="5JZFu5mjsgUIRc8eMRZS-0" vertex="1">
          <mxGeometry y="78" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wvSAYYA0Ns2Efk4Od2H8-7" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=275;exitDy=45;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="nxl1K3lLrfokX8LL8pym-1" source="5JZFu5mjsgUIRc8eMRZS-4" target="wvSAYYA0Ns2Efk4Od2H8-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5JZFu5mjsgUIRc8eMRZS-4" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;service.draw&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1355" y="1520" width="275" height="76" as="geometry" />
        </mxCell>
        <mxCell id="wvSAYYA0Ns2Efk4Od2H8-0" value="AbstractDrawBase" style="swimlane;fontStyle=3;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fillColor=none;strokeColor=#3399FF;swimlaneLine=1;fontColor=#000000;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-934" y="1460" width="456" height="206" as="geometry" />
        </mxCell>
        <mxCell id="wvSAYYA0Ns2Efk4Od2H8-1" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;" parent="wvSAYYA0Ns2Efk4Od2H8-0" vertex="1">
          <mxGeometry y="26" width="456" height="8" as="geometry" />
        </mxCell>
        <mxCell id="wvSAYYA0Ns2Efk4Od2H8-2" value="+ doDrawExec(DrawReq drawReq) : DrawResult" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;" parent="wvSAYYA0Ns2Efk4Od2H8-0" vertex="1">
          <mxGeometry y="34" width="456" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wvSAYYA0Ns2Efk4Od2H8-3" value="# queryExcludeAwardIds(Long strategyId) : List&lt;String&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontStyle=2;" parent="wvSAYYA0Ns2Efk4Od2H8-0" vertex="1">
          <mxGeometry y="60" width="456" height="26" as="geometry" />
        </mxCell>
        <mxCell id="wvSAYYA0Ns2Efk4Od2H8-4" value="# drawAlgorithm(Long strategyId,IDrawAlgorithm &#xa;drawAlgorithm,List&lt;String&gt; execludeAwardIds) : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontStyle=2;" parent="wvSAYYA0Ns2Efk4Od2H8-0" vertex="1">
          <mxGeometry y="86" width="456" height="42" as="geometry" />
        </mxCell>
        <mxCell id="wvSAYYA0Ns2Efk4Od2H8-5" value="- chechAndInitRateData(Long strategyId,&#xa; Integer strategyMode,List&lt;StrategyDetail&gt; strategyDetailList)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="wvSAYYA0Ns2Efk4Od2H8-0" vertex="1">
          <mxGeometry y="128" width="456" height="42" as="geometry" />
        </mxCell>
        <mxCell id="wvSAYYA0Ns2Efk4Od2H8-6" value="- buildDrawResult(String uId, Long strategyId, String awardId,&#xa;       StrategyBriefVO strategy) : DrawResult" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="wvSAYYA0Ns2Efk4Od2H8-0" vertex="1">
          <mxGeometry y="170" width="456" height="36" as="geometry" />
        </mxCell>
        <mxCell id="wvSAYYA0Ns2Efk4Od2H8-8" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1434" y="1282" width="30" height="307" as="geometry" />
        </mxCell>
        <mxCell id="wvSAYYA0Ns2Efk4Od2H8-9" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="-1096" y="1177" width="30" height="227" as="geometry" />
        </mxCell>
        <mxCell id="Aq-dT_gZ3M_iVo5Ojd1q-5" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=125;exitDy=40.5;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="nxl1K3lLrfokX8LL8pym-1" source="V7xve0BC8Ca7CqjgVpwE-0" target="Aq-dT_gZ3M_iVo5Ojd1q-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="V7xve0BC8Ca7CqjgVpwE-0" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;po&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="34" y="596" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="Aq-dT_gZ3M_iVo5Ojd1q-0" value="UserTakeActivity" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;fillColor=none;" parent="nxl1K3lLrfokX8LL8pym-1" vertex="1">
          <mxGeometry x="295" y="598" width="228" height="78" as="geometry" />
        </mxCell>
        <mxCell id="Aq-dT_gZ3M_iVo5Ojd1q-3" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;fontColor=#000000;" parent="Aq-dT_gZ3M_iVo5Ojd1q-0" vertex="1">
          <mxGeometry y="26" width="228" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Aq-dT_gZ3M_iVo5Ojd1q-4" value="- state: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="Aq-dT_gZ3M_iVo5Ojd1q-0" vertex="1">
          <mxGeometry y="52" width="228" height="26" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第12章类图" id="8AcfwbWg4gIDSIPcbPZP">
    <mxGraphModel dx="3983" dy="663" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="OAad5XsirtE4qcXKM5UW-0" />
        <mxCell id="OAad5XsirtE4qcXKM5UW-1" parent="OAad5XsirtE4qcXKM5UW-0" />
        <mxCell id="BjLijBPGjVBRWMXEnHX9-0" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;dashed=1;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="OAad5XsirtE4qcXKM5UW-1" source="OAad5XsirtE4qcXKM5UW-27" target="OAad5XsirtE4qcXKM5UW-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BjLijBPGjVBRWMXEnHX9-12" style="edgeStyle=none;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="OAad5XsirtE4qcXKM5UW-1" source="OAad5XsirtE4qcXKM5UW-27" target="OAad5XsirtE4qcXKM5UW-60" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-27" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;ActivityProcessImpl&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- activityPartake IActivityPartake&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- idGeneratorMap: Map&amp;lt;Constants.Ids,IIdGenerator&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- drawExec IDrawExec&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;+ doDrawProcess(DrawProcessReq req):DrawProcessResult&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#007FFF;rounded=0;fillColor=none;" parent="OAad5XsirtE4qcXKM5UW-1" vertex="1">
          <mxGeometry x="-2158" y="614" width="362" height="119" as="geometry" />
        </mxCell>
        <mxCell id="BjLijBPGjVBRWMXEnHX9-1" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.477;entryY=0.98;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;" parent="OAad5XsirtE4qcXKM5UW-1" source="OAad5XsirtE4qcXKM5UW-28" target="OAad5XsirtE4qcXKM5UW-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BjLijBPGjVBRWMXEnHX9-2" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.497;entryY=0.995;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;" parent="OAad5XsirtE4qcXKM5UW-1" source="OAad5XsirtE4qcXKM5UW-28" target="OAad5XsirtE4qcXKM5UW-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-28" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IActivityProcess&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ doDrawProcess(DrawProcessReq req):DrawProcessResult&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;fillColor=none;strokeColor=#7F00FF;" parent="OAad5XsirtE4qcXKM5UW-1" vertex="1">
          <mxGeometry x="-2166" y="444" width="378" height="88" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-29" value="DrawProcessReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;" parent="OAad5XsirtE4qcXKM5UW-1" vertex="1">
          <mxGeometry x="-2164" y="286" width="177" height="78" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-30" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="OAad5XsirtE4qcXKM5UW-29" vertex="1">
          <mxGeometry y="26" width="177" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-31" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="OAad5XsirtE4qcXKM5UW-29" vertex="1">
          <mxGeometry y="52" width="177" height="26" as="geometry" />
        </mxCell>
        <mxCell id="6t-qI9LISVCxKTkcVWfC-0" style="edgeStyle=none;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.481;entryY=0.962;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="OAad5XsirtE4qcXKM5UW-1" source="OAad5XsirtE4qcXKM5UW-32" target="OAad5XsirtE4qcXKM5UW-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-32" value="DrawProcessResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;" parent="OAad5XsirtE4qcXKM5UW-1" vertex="1">
          <mxGeometry x="-1941" y="260" width="217.5" height="104" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-33" value="- drawAwardInfo: DrawAwardInfo" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="OAad5XsirtE4qcXKM5UW-32" vertex="1">
          <mxGeometry y="26" width="217.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-34" value="- code: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="OAad5XsirtE4qcXKM5UW-32" vertex="1">
          <mxGeometry y="52" width="217.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-35" value="- info: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="OAad5XsirtE4qcXKM5UW-32" vertex="1">
          <mxGeometry y="78" width="217.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-36" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;IUserTakeActivityDao&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;+ lockTackActivity(UserTakeActivity&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;userTakeActivity&lt;span style=&quot;background-color: initial;&quot;&gt;):int&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ queryNoConsumedTakeActivityOrder(UserTakeActivity&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;userTakeActivityt&lt;span style=&quot;background-color: initial;&quot;&gt;): UserTakeActivity&lt;/span&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#7F00FF;sketch=1;rounded=0;" parent="OAad5XsirtE4qcXKM5UW-1" vertex="1">
          <mxGeometry x="-2138.5" y="822" width="372" height="136" as="geometry" />
        </mxCell>
        <mxCell id="BjLijBPGjVBRWMXEnHX9-10" style="edgeStyle=none;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="OAad5XsirtE4qcXKM5UW-1" source="OAad5XsirtE4qcXKM5UW-37" target="OAad5XsirtE4qcXKM5UW-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-37" value="UserTakeActivityRepository" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;arcSize=0;strokeColor=#007FFF;swimlaneLine=1;" parent="OAad5XsirtE4qcXKM5UW-1" vertex="1">
          <mxGeometry x="-2158" y="1036" width="411" height="106" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-38" value="+ lockTackActivity(String uId, Long activityId, Long takeId):int &#xa;+ saveUserStrategyExport(DrawOrderVO drawOrder): void&#xa;+ queryNoConsumedTakeActivityOrder(Long activityId, &#xa;String uId): UserTakeActivityVO" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="OAad5XsirtE4qcXKM5UW-37" vertex="1">
          <mxGeometry y="26" width="411" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-40" value=" DrawAwardInfo" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;swimlaneLine=1;fontColor=#000000;" parent="OAad5XsirtE4qcXKM5UW-1" vertex="1">
          <mxGeometry x="-1929" y="11" width="198" height="208" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-41" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="OAad5XsirtE4qcXKM5UW-40" vertex="1">
          <mxGeometry y="26" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-42" value="- awardName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="OAad5XsirtE4qcXKM5UW-40" vertex="1">
          <mxGeometry y="52" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-43" value="- awardType : Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="OAad5XsirtE4qcXKM5UW-40" vertex="1">
          <mxGeometry y="78" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-44" value="- awardContent: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="OAad5XsirtE4qcXKM5UW-40" vertex="1">
          <mxGeometry y="104" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-45" value="-strategyMode: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="OAad5XsirtE4qcXKM5UW-40" vertex="1">
          <mxGeometry y="130" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-46" value="- grantType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="OAad5XsirtE4qcXKM5UW-40" vertex="1">
          <mxGeometry y="156" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-47" value="- grantDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="OAad5XsirtE4qcXKM5UW-40" vertex="1">
          <mxGeometry y="182" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-69" value="UserTakeActivityVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;swimlaneLine=1;fontColor=#000000;" parent="OAad5XsirtE4qcXKM5UW-1" vertex="1">
          <mxGeometry x="-2394" y="862" width="186" height="104" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-70" value="- taskId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="OAad5XsirtE4qcXKM5UW-69" vertex="1">
          <mxGeometry y="26" width="186" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-71" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="OAad5XsirtE4qcXKM5UW-69" vertex="1">
          <mxGeometry y="52" width="186" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-72" value="- state: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="OAad5XsirtE4qcXKM5UW-69" vertex="1">
          <mxGeometry y="78" width="186" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-73" value="DrawOrderVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;swimlaneLine=1;fontColor=#FF0000;" parent="OAad5XsirtE4qcXKM5UW-1" vertex="1">
          <mxGeometry x="-1553" y="173" width="222" height="364" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-74" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="OAad5XsirtE4qcXKM5UW-73" vertex="1">
          <mxGeometry y="26" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-75" value="- taskId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="OAad5XsirtE4qcXKM5UW-73" vertex="1">
          <mxGeometry y="52" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-76" value="- acvitityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="OAad5XsirtE4qcXKM5UW-73" vertex="1">
          <mxGeometry y="78" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-77" value="- orderId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="OAad5XsirtE4qcXKM5UW-73" vertex="1">
          <mxGeometry y="104" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-78" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="OAad5XsirtE4qcXKM5UW-73" vertex="1">
          <mxGeometry y="130" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-79" value="-strategyMode: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="OAad5XsirtE4qcXKM5UW-73" vertex="1">
          <mxGeometry y="156" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-80" value="- grantType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="OAad5XsirtE4qcXKM5UW-73" vertex="1">
          <mxGeometry y="182" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-81" value="- grantDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="OAad5XsirtE4qcXKM5UW-73" vertex="1">
          <mxGeometry y="208" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-82" value="- grantState: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="OAad5XsirtE4qcXKM5UW-73" vertex="1">
          <mxGeometry y="234" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-83" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="OAad5XsirtE4qcXKM5UW-73" vertex="1">
          <mxGeometry y="260" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-84" value="- awardName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="OAad5XsirtE4qcXKM5UW-73" vertex="1">
          <mxGeometry y="286" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-85" value="- awardType : Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="OAad5XsirtE4qcXKM5UW-73" vertex="1">
          <mxGeometry y="312" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-86" value="- awardContent: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="OAad5XsirtE4qcXKM5UW-73" vertex="1">
          <mxGeometry y="338" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="BjLijBPGjVBRWMXEnHX9-3" value="" style="group" parent="OAad5XsirtE4qcXKM5UW-1" vertex="1" connectable="0">
          <mxGeometry x="-1629" y="614" width="360" height="119" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-60" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IActivityPartake&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;+ doPartake(PartakeReq req): PartakeResult&lt;/font&gt;&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;fillColor=none;strokeColor=#7F00FF;" parent="BjLijBPGjVBRWMXEnHX9-3" vertex="1">
          <mxGeometry width="359.99999999999994" height="119" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-62" value="+ recordDrawOrder(DrawOrderVO drawOrder):Result" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="BjLijBPGjVBRWMXEnHX9-3" vertex="1">
          <mxGeometry y="89.53333333333333" width="357.75700934579436" height="29.466666666666665" as="geometry" />
        </mxCell>
        <mxCell id="BjLijBPGjVBRWMXEnHX9-4" value="" style="group" parent="OAad5XsirtE4qcXKM5UW-1" vertex="1" connectable="0">
          <mxGeometry x="-1634" y="787" width="360" height="125" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-61" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;&lt;i&gt;BaseActivityPartake&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;+ doPartake(PartakeReq req): PartakeResult&lt;/font&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;# checkActivityBill(ActivityBillVO): Result&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;# subtractionActivityStock(PartakeReq req): Result&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;# grabActivity(PartakeReq req): Result&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#007FFF;rounded=0;fillColor=none;" parent="BjLijBPGjVBRWMXEnHX9-4" vertex="1">
          <mxGeometry x="2.818505338078292" width="357.1814946619217" height="122" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-63" value="# queryNoConsumedTakeActivityOrder(Long activityId,&#xa; String uId):UserTakeActivityVO " style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="BjLijBPGjVBRWMXEnHX9-4" vertex="1">
          <mxGeometry y="87" width="345.9074733096086" height="38" as="geometry" />
        </mxCell>
        <mxCell id="BjLijBPGjVBRWMXEnHX9-5" value="" style="group" parent="OAad5XsirtE4qcXKM5UW-1" vertex="1" connectable="0">
          <mxGeometry x="-1623" y="966" width="354" height="198" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-59" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;ActivityPartakeImpl&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- userTakeActivityRepository: IUserTakeActivityRepository&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- idGeneratorMap: Map&amp;lt;Constants.Ids,IIdGenerator&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- transactionTemplate: TransactionTemplate&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- dbRouter: IDBRouteStrategy&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;# checkActivityBill(ActivityBillVO): Result&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;# subtractionActivityStock(PartakeReq req): Result&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;# grabActivity(PartakeReq req): Result&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#007FFF;rounded=0;fillColor=none;" parent="BjLijBPGjVBRWMXEnHX9-5" vertex="1">
          <mxGeometry width="354" height="193" as="geometry" />
        </mxCell>
        <mxCell id="OAad5XsirtE4qcXKM5UW-64" value="+ recordDrawOrder(DrawOrderVO drawOrder):Result&#xa;# queryNoConsumedTakeActivityOrder(Long activityId,&#xa; String uId):UserTakeActivityVO " style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#FF0000;" parent="BjLijBPGjVBRWMXEnHX9-5" vertex="1">
          <mxGeometry y="136" width="319.4190231362468" height="62" as="geometry" />
        </mxCell>
        <mxCell id="BjLijBPGjVBRWMXEnHX9-7" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.466;entryY=1.135;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="OAad5XsirtE4qcXKM5UW-1" source="OAad5XsirtE4qcXKM5UW-60" target="OAad5XsirtE4qcXKM5UW-86" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1452" y="610" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="-1452" y="578" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BjLijBPGjVBRWMXEnHX9-9" style="edgeStyle=none;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;entryX=0.999;entryY=0.379;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.641;exitDx=0;exitDy=0;exitPerimeter=0;" parent="OAad5XsirtE4qcXKM5UW-1" source="OAad5XsirtE4qcXKM5UW-59" target="OAad5XsirtE4qcXKM5UW-38" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1636" y="1092" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BjLijBPGjVBRWMXEnHX9-11" style="edgeStyle=none;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.274;entryY=1.128;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="OAad5XsirtE4qcXKM5UW-1" source="OAad5XsirtE4qcXKM5UW-38" target="OAad5XsirtE4qcXKM5UW-72" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-2359" y="1102" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BjLijBPGjVBRWMXEnHX9-14" style="edgeStyle=none;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=block;endFill=0;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;entryX=0.539;entryY=1.034;entryDx=0;entryDy=0;entryPerimeter=0;sketch=1;curveFitting=1;jiggle=2;" parent="OAad5XsirtE4qcXKM5UW-1" source="OAad5XsirtE4qcXKM5UW-59" target="OAad5XsirtE4qcXKM5UW-63" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6t-qI9LISVCxKTkcVWfC-1" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.527;exitY=0.002;exitDx=0;exitDy=0;entryX=0.516;entryY=1.02;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;dashed=1;endFill=1;sketch=1;curveFitting=1;jiggle=2;entryPerimeter=0;exitPerimeter=0;" parent="OAad5XsirtE4qcXKM5UW-1" source="OAad5XsirtE4qcXKM5UW-61" target="OAad5XsirtE4qcXKM5UW-60" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1967" y="624" as="sourcePoint" />
            <mxPoint x="-1967" y="542" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第12章流程" id="K2domgSWIVCKDeIoSMmh">
    <mxGraphModel dx="7599" dy="1894" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-0" />
        <mxCell id="-6oME1osNkLg_Jdq4N-v-1" parent="-6oME1osNkLg_Jdq4N-v-0" />
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-124" value="&lt;font style=&quot;font-size: 16px&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;领取活动领域&lt;/b&gt;&lt;/font&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;strokeColor=#FF00FF;fillColor=none;width=118;height=49;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1650" y="5" width="1750" height="1804" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-8" value="DrawProcessReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#00FF00;rounded=0;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2402" y="589" width="177" height="78" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-9" value="- uId: String  //用户id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-6oME1osNkLg_Jdq4N-v-8" vertex="1">
          <mxGeometry y="26" width="177" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-10" value="- activityId: Long //活动id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-6oME1osNkLg_Jdq4N-v-8" vertex="1">
          <mxGeometry y="52" width="177" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-11" style="edgeStyle=none;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.481;entryY=0.962;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;" parent="-6oME1osNkLg_Jdq4N-v-1" source="-6oME1osNkLg_Jdq4N-v-12" target="-6oME1osNkLg_Jdq4N-v-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-12" value="DrawProcessResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#00FF00;rounded=0;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2410" y="308" width="217.5" height="104" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-13" value="- drawAwardInfo: DrawAwardInfo" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-6oME1osNkLg_Jdq4N-v-12" vertex="1">
          <mxGeometry y="26" width="217.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-14" value="- code: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-6oME1osNkLg_Jdq4N-v-12" vertex="1">
          <mxGeometry y="52" width="217.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-15" value="- info: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-6oME1osNkLg_Jdq4N-v-12" vertex="1">
          <mxGeometry y="78" width="217.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-20" value=" DrawAwardInfo" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#00FF00;swimlaneLine=1;fontColor=#000000;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2402" y="52" width="198" height="208" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-21" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="-6oME1osNkLg_Jdq4N-v-20" vertex="1">
          <mxGeometry y="26" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-22" value="- awardName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="-6oME1osNkLg_Jdq4N-v-20" vertex="1">
          <mxGeometry y="52" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-23" value="- awardType : Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="-6oME1osNkLg_Jdq4N-v-20" vertex="1">
          <mxGeometry y="78" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-24" value="- awardContent: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="-6oME1osNkLg_Jdq4N-v-20" vertex="1">
          <mxGeometry y="104" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-25" value="-strategyMode: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="-6oME1osNkLg_Jdq4N-v-20" vertex="1">
          <mxGeometry y="130" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-26" value="- grantType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="-6oME1osNkLg_Jdq4N-v-20" vertex="1">
          <mxGeometry y="156" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-27" value="- grantDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="-6oME1osNkLg_Jdq4N-v-20" vertex="1">
          <mxGeometry y="182" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-32" value="DrawOrderVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#00FF00;swimlaneLine=1;fontColor=#000000;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2994" y="651" width="222" height="364" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-33" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="-6oME1osNkLg_Jdq4N-v-32" vertex="1">
          <mxGeometry y="26" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-34" value="- taskId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-6oME1osNkLg_Jdq4N-v-32" vertex="1">
          <mxGeometry y="52" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-35" value="- acvitityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="-6oME1osNkLg_Jdq4N-v-32" vertex="1">
          <mxGeometry y="78" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-36" value="- orderId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-6oME1osNkLg_Jdq4N-v-32" vertex="1">
          <mxGeometry y="104" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-37" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-6oME1osNkLg_Jdq4N-v-32" vertex="1">
          <mxGeometry y="130" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-38" value="-strategyMode: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="-6oME1osNkLg_Jdq4N-v-32" vertex="1">
          <mxGeometry y="156" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-39" value="- grantType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="-6oME1osNkLg_Jdq4N-v-32" vertex="1">
          <mxGeometry y="182" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-40" value="- grantDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="-6oME1osNkLg_Jdq4N-v-32" vertex="1">
          <mxGeometry y="208" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-41" value="- grantState: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-6oME1osNkLg_Jdq4N-v-32" vertex="1">
          <mxGeometry y="234" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-42" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="-6oME1osNkLg_Jdq4N-v-32" vertex="1">
          <mxGeometry y="260" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-43" value="- awardName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="-6oME1osNkLg_Jdq4N-v-32" vertex="1">
          <mxGeometry y="286" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-44" value="- awardType : Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="-6oME1osNkLg_Jdq4N-v-32" vertex="1">
          <mxGeometry y="312" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-45" value="- awardContent: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="-6oME1osNkLg_Jdq4N-v-32" vertex="1">
          <mxGeometry y="338" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="VayvhowC6O9408wqKQVv-0" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ActivityProcessImpl&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#00FF00;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2204" y="448" width="468" height="115" as="geometry" />
        </mxCell>
        <mxCell id="VayvhowC6O9408wqKQVv-4" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fontFamily=Comic Sans MS;sketch=1;curveFitting=1;jiggle=2;endFill=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="VayvhowC6O9408wqKQVv-1" target="VayvhowC6O9408wqKQVv-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VayvhowC6O9408wqKQVv-1" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;doDrawProcess()&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2082" y="497" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-5" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;sketch=1;curveFitting=1;jiggle=2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="VayvhowC6O9408wqKQVv-1" target="-6oME1osNkLg_Jdq4N-v-8" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1978.498" y="445.7619999999997" as="sourcePoint" />
            <mxPoint x="-2233" y="566" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-6oME1osNkLg_Jdq4N-v-6" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.497;entryY=0.995;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="-6oME1osNkLg_Jdq4N-v-1" target="-6oME1osNkLg_Jdq4N-v-15" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2083" y="516" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VayvhowC6O9408wqKQVv-3" value="&lt;font color=&quot;#00ff00&quot; face=&quot;Comic Sans MS&quot;&gt;doDrawProcess()流程&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;verticalAlign=top;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2192.5" y="663" width="434" height="735" as="geometry" />
        </mxCell>
        <mxCell id="VayvhowC6O9408wqKQVv-7" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="VayvhowC6O9408wqKQVv-5" target="VayvhowC6O9408wqKQVv-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VayvhowC6O9408wqKQVv-5" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1. 领取活动&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2078.5" y="709" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="VayvhowC6O9408wqKQVv-9" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="VayvhowC6O9408wqKQVv-6" target="VayvhowC6O9408wqKQVv-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VayvhowC6O9408wqKQVv-6" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1.1 领取失败直接封装返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2078.5" y="815" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="VayvhowC6O9408wqKQVv-11" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="VayvhowC6O9408wqKQVv-8" target="VayvhowC6O9408wqKQVv-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VayvhowC6O9408wqKQVv-8" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;2. 执行抽奖&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2078.5" y="913" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="VayvhowC6O9408wqKQVv-13" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="VayvhowC6O9408wqKQVv-10" target="VayvhowC6O9408wqKQVv-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VayvhowC6O9408wqKQVv-10" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;2.1 未中奖直接封装返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2082" y="1017" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="VayvhowC6O9408wqKQVv-15" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="VayvhowC6O9408wqKQVv-12" target="VayvhowC6O9408wqKQVv-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-128" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#FF0000;sketch=1;curveFitting=1;jiggle=2;endFill=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="VayvhowC6O9408wqKQVv-12" target="iPJKCvSiG7mP7bC6hzCU-129" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2631" y="1050.848296199214" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VayvhowC6O9408wqKQVv-12" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b style=&quot;&quot;&gt;3.保存抽奖信息，失败直接返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2082" y="1130.5" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="VayvhowC6O9408wqKQVv-17" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="VayvhowC6O9408wqKQVv-14" target="VayvhowC6O9408wqKQVv-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-126" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#FF0000;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="-6oME1osNkLg_Jdq4N-v-1" source="VayvhowC6O9408wqKQVv-14" target="iPJKCvSiG7mP7bC6hzCU-125" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VayvhowC6O9408wqKQVv-14" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b style=&quot;&quot;&gt;4. 发送MQ，触发发奖流程&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2082" y="1228" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="VayvhowC6O9408wqKQVv-16" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b style=&quot;&quot;&gt;5.封装返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2082" y="1334" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-203" value="PartakeReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#FF00FF;rounded=0;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1438" y="547" width="140" height="104" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-206" value="- partakeDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HoryVt1PLM_4hvCljyJG-203" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-204" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HoryVt1PLM_4hvCljyJG-203" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-205" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HoryVt1PLM_4hvCljyJG-203" vertex="1">
          <mxGeometry y="78" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-207" value="PartakeResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#FF00FF;rounded=0;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1446" y="785.25" width="140" height="104" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-208" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HoryVt1PLM_4hvCljyJG-207" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-209" value="- code: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HoryVt1PLM_4hvCljyJG-207" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-210" value="- info: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HoryVt1PLM_4hvCljyJG-207" vertex="1">
          <mxGeometry y="78" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-211" value="ActivityBillVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-510.25" y="504" width="207" height="286" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-212" value="- uId : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;" parent="HoryVt1PLM_4hvCljyJG-211" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-213" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="HoryVt1PLM_4hvCljyJG-211" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-214" value="- activityName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="HoryVt1PLM_4hvCljyJG-211" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-215" value="- beginDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="HoryVt1PLM_4hvCljyJG-211" vertex="1">
          <mxGeometry y="104" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-216" value="- endDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="HoryVt1PLM_4hvCljyJG-211" vertex="1">
          <mxGeometry y="130" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-217" value="- stockSurplusCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="HoryVt1PLM_4hvCljyJG-211" vertex="1">
          <mxGeometry y="156" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-218" value="- state: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="HoryVt1PLM_4hvCljyJG-211" vertex="1">
          <mxGeometry y="182" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-219" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;" parent="HoryVt1PLM_4hvCljyJG-211" vertex="1">
          <mxGeometry y="208" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-220" value="- takeCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="HoryVt1PLM_4hvCljyJG-211" vertex="1">
          <mxGeometry y="234" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-221" value="- userTakeLeftCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="HoryVt1PLM_4hvCljyJG-211" vertex="1">
          <mxGeometry y="260" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-222" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ActivityPartakeImpl&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1112.25" y="664" width="468" height="207" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-223" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;i style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BaseActivityPartake&lt;/font&gt;&lt;/i&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1106.25" y="926" width="192" height="131" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-224" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.45;exitY=1;exitDx=0;exitDy=0;sketch=1;curveFitting=1;jiggle=2;endFill=1;exitPerimeter=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-226" target="HoryVt1PLM_4hvCljyJG-228" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-225" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.986;entryY=0.919;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=1;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-226" target="HoryVt1PLM_4hvCljyJG-208" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-226" value="&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;doPartake()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1091.25" y="712" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-227" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.272;entryY=0.007;entryDx=0;entryDy=0;entryPerimeter=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-228" target="HoryVt1PLM_4hvCljyJG-230" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1056.107142857143" y="1073" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-228" value="&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;doPartake()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1098.25" y="982" width="162" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-229" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-226" target="HoryVt1PLM_4hvCljyJG-205" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-230" value="&lt;font color=&quot;#ff00ff&quot; style=&quot;font-size: 14px;&quot;&gt;doPartake()流程&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;verticalAlign=top;fillColor=none;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1106.25" y="1107" width="326" height="640" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-231" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-232" target="HoryVt1PLM_4hvCljyJG-234" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-232" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;2.查询活动账单&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1017.75" y="1281" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-233" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-234" target="HoryVt1PLM_4hvCljyJG-236" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-234" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;3.活动信息校验处理【活动库存、状态、日期、个人参与次数，若失败直接返回&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1049" y="1380" width="222.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-235" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-236" target="HoryVt1PLM_4hvCljyJG-238" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-236" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;4.扣减活动库存&amp;nbsp; 活动表的stockSurplusCount -1 目前是数据库扣减&amp;nbsp; 后期优化成redis(若失败直接返回)&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1043" y="1464" width="210.5" height="61" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-237" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-238" target="HoryVt1PLM_4hvCljyJG-239" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-238" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;5.领取活动信息【个人用户把活动信息写入到用户表】(若失败直接返回)&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1034.75" y="1579" width="194" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-239" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;6.封装结果【策略id】&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1017.75" y="1690" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-240" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ActivityPartakeSupport&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-726.25" y="1111" width="237" height="83" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-241" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;queryActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-685.25" y="1147" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-242" value="&lt;b style=&quot;border-color: var(--border-color); font-family: &amp;quot;comic sans ms&amp;quot;; text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;ActivityRepository&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-388.25" y="1054" width="338" height="150" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-243" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-244" target="HoryVt1PLM_4hvCljyJG-290" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-244" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;queryActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-352.25" y="1141" width="208" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-245" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-232" target="HoryVt1PLM_4hvCljyJG-241" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-600" y="1291" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-246" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-241" target="HoryVt1PLM_4hvCljyJG-244" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-247" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-250" target="HoryVt1PLM_4hvCljyJG-216" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-248" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-250" target="HoryVt1PLM_4hvCljyJG-234" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-741.25" y="783" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="-736" y="1394" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-249" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-250" target="HoryVt1PLM_4hvCljyJG-254" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-250" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;checkActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-818.25" y="719" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-251" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;参数&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Comic Sans MS;fontColor=default;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-595.25" y="703" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-252" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=0.466;entryY=1.077;entryDx=0;entryDy=0;entryPerimeter=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-244" target="HoryVt1PLM_4hvCljyJG-221" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-651.25" y="766" as="sourcePoint" />
            <mxPoint x="-512.25" y="766" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-253" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;返回值&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Comic Sans MS;fontColor=default;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-448.25" y="986" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-254" value="&lt;font color=&quot;#ff00ff&quot;&gt;checkActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()流程&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;verticalAlign=top;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-856.25" y="204" width="227" height="339" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-255" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-256" target="HoryVt1PLM_4hvCljyJG-258" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-256" value="1.校验活动状态(是否为运行中)" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-828" y="236" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-257" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-258" target="HoryVt1PLM_4hvCljyJG-260" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-258" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;2&lt;font style=&quot;border-color: var(--border-color); font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;.校验&lt;/font&gt;活动日期&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-824.75" y="322" width="163.25" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-259" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-260" target="HoryVt1PLM_4hvCljyJG-261" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-260" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;3.校验&lt;/font&gt;活动库存&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-827.25" y="414" width="168.25" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-261" value="&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;4.校验个人参与次数&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-828" y="501" width="169.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-262" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-264" target="HoryVt1PLM_4hvCljyJG-238" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1132.25" y="791" />
              <mxPoint x="-1125" y="1598" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-263" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-264" target="HoryVt1PLM_4hvCljyJG-276" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-264" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;grabActivity&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-958.25" y="769" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-265" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.993;exitY=0.723;exitDx=0;exitDy=0;exitPerimeter=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-267" target="HoryVt1PLM_4hvCljyJG-236" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-796.25" y="839.9999999999998" as="sourcePoint" />
            <mxPoint x="-824.75" y="1366.5" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-791.25" y="846" />
              <mxPoint x="-786" y="1491" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-267" value="&lt;font style=&quot;&quot; face=&quot;Comic Sans MS&quot;&gt;subtractionActivityStock()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-960.25" y="819" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-268" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-270" target="HoryVt1PLM_4hvCljyJG-267" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-295.25" y="825" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-269" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-270" target="HoryVt1PLM_4hvCljyJG-271" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-270" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;subtractionActivityStock&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-342.75" y="1090" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-271" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;UPDATE activity SET stock_surplus_count = stock_surplus_count - 1&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;WHERE activity_id = #{activityId} AND stock_surplus_count &amp;gt; 0&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-243.25" y="922" width="309" height="71" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-272" value="&lt;b style=&quot;border-color: var(--border-color); text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;UserTakeActivityRepository&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1559.25" y="179" width="316" height="150" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-273" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;subtractionLeftCount&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1515.25" y="217" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-274" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-275" target="HoryVt1PLM_4hvCljyJG-302" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1615.25" y="266" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-275" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;takeActivity&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1517.75" y="270" width="203" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-276" value="&lt;font color=&quot;#ff00ff&quot; face=&quot;Comic Sans MS&quot;&gt;grabActivity&lt;font style=&quot;font-size: 14px;&quot;&gt;()流程&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;fillColor=default;verticalAlign=top;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1085.25" y="101" width="209" height="494" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-277" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-278" target="HoryVt1PLM_4hvCljyJG-280" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-278" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;1.启动路由策略&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1060.25" y="144" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-279" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-280" target="HoryVt1PLM_4hvCljyJG-282" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-280" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;2.开始事务&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1060.25" y="225" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-281" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-282" target="HoryVt1PLM_4hvCljyJG-284" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-282" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;3.扣减个人已参与次数，错误直接返回&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1060.25" y="309" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-283" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-284" target="HoryVt1PLM_4hvCljyJG-286" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-284" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;4.插入领取活动信息&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1060.25" y="393" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-285" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-286" target="HoryVt1PLM_4hvCljyJG-287" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-286" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;5.事务提交，uId唯一，保证幂等性&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1056.25" y="473" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-287" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;6.清空路由上下文&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1056.25" y="550" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-288" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-273" target="HoryVt1PLM_4hvCljyJG-282" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-289" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-275" target="HoryVt1PLM_4hvCljyJG-284" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-290" value="&lt;font&gt;queryActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()流程&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#000000;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-384.25" y="1298" width="290.5" height="303" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-291" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-293" target="HoryVt1PLM_4hvCljyJG-296" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-292" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-293" target="HoryVt1PLM_4hvCljyJG-298" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-293" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;1.活动相关信息&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-339.25" y="1353" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-294" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;endFill=1;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-296" target="HoryVt1PLM_4hvCljyJG-297" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-295" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-296" target="HoryVt1PLM_4hvCljyJG-299" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-296" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;2.个人领取次数&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-339.25" y="1442" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-297" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;3.封装返回&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-339.25" y="1525" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-298" value="&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;SELECT activity_id, activity_name, activity_desc, begin_date_time, end_date_time,&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;stock_count, stock_surplus_count, take_count, strategy_id, state, creator, create_time, update_time&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;FROM activity&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;WHERE activity_id = #{activityId}&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-699.25" y="1315.5" width="274" height="102" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-299" value="&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;SELECT total_count, left_count&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;FROM user_take_activity_count&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;WHERE u_id = #{uId} AND activity_id = #{activityId}&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-701.25" y="1442" width="279" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-301" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;扣减个人已参与次数 插入或更新user_take_activity_count&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;1.如果剩余领取次数是null是当前用户第一次抽奖插入user_take_activity_count(用户id、活动id、总个人领取次数、剩余领取次数)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;2.已经领取过更新user_take_activity_count 的leftCount-1&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1597.25" y="59" width="386" height="87" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-302" value="&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;2 新增user_take_activity&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 用户id、活动领取时间 从请求参数PartakeReq取&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 任务id:使用雪花算法产生&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 活动id、活动名称、每人可领取次数、剩余领取次数 字段从 ActivityBillVO活动账单取&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 已领取次数：每人可领取次数 - 剩余领取次数 + 1；剩余领取次数为null时是第一次领取&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; uuid：用户id + &quot;_&quot; + 活动id + &quot;_&quot; + 已领取次数&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1608" y="374" width="386" height="112" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-303" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.037;exitY=-0.047;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;exitPerimeter=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-273" target="HoryVt1PLM_4hvCljyJG-301" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VayvhowC6O9408wqKQVv-19" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=#FF0000;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="VayvhowC6O9408wqKQVv-5" target="HoryVt1PLM_4hvCljyJG-226" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1641" y="728.2155816435431" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-306" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-305" target="HoryVt1PLM_4hvCljyJG-232" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-308" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="HoryVt1PLM_4hvCljyJG-305" target="HoryVt1PLM_4hvCljyJG-307" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-305" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;1. 查询是否存在未执行抽奖领取活动单&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1021" y="1182" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HoryVt1PLM_4hvCljyJG-307" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;SELECT activity_id, take_id, strategy_id, state&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;FROM user_take_activity&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;WHERE u_id = #{uId} AND activity_id = #{activityId} AND state = 0&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;ORDER BY id DESC&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;LIMIT 1&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1521" y="1147" width="319" height="111" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-0" value="&lt;font style=&quot;font-size: 16px&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;执行抽奖领域&lt;/b&gt;&lt;/font&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;strokeColor=#007FFF;fillColor=none;width=113;height=39;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2542.25" y="1901" width="3205" height="756" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-1" value="&lt;span style=&quot;background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;IStrategyRepository&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="306.75" y="2019.5" width="257" height="152.5" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-2" value="doDrawExec流程" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-561.25" y="1999" width="356" height="631" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-3" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;DrawExecImpl&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fillColor=none;verticalAlign=top;gradientColor=none;html=1;strokeColor=#007FFF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1644.25" y="2004" width="460" height="309" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-4" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.474;entryY=-0.003;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-7" target="iPJKCvSiG7mP7bC6hzCU-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-5" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-7" target="iPJKCvSiG7mP7bC6hzCU-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-6" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.012;entryY=0.418;entryDx=0;entryDy=0;entryPerimeter=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-7" target="iPJKCvSiG7mP7bC6hzCU-56" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1028.25" y="2089" as="sourcePoint" />
            <mxPoint x="-1130.25" y="2084" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-7" value="doDrawExec()" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1509.25" y="2245" width="231" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-8" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;start:执行抽奖&lt;/font&gt;&lt;/b&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1512.25" y="2212" width="127" height="30" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-9" value="DrawResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#3399FF;swimlaneLine=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1672.25" y="2381" width="252" height="130" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-10" value="- uId: String  //用户id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="iPJKCvSiG7mP7bC6hzCU-9" vertex="1">
          <mxGeometry y="26" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-11" value="- strategyId: Long //策略id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="iPJKCvSiG7mP7bC6hzCU-9" vertex="1">
          <mxGeometry y="52" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-12" value="- drawState: Integer //中奖状态" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="iPJKCvSiG7mP7bC6hzCU-9" vertex="1">
          <mxGeometry y="78" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-13" value="- drawAwardInfo : DrawAwardInfo" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="iPJKCvSiG7mP7bC6hzCU-9" vertex="1">
          <mxGeometry y="104" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-14" value="DrawReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#3399FF;swimlaneLine=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1374.25" y="2392" width="252" height="78" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-15" value="- uId: String  // 用户id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="iPJKCvSiG7mP7bC6hzCU-14" vertex="1">
          <mxGeometry y="26" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-16" value="- strategyId: Long  //策略id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="iPJKCvSiG7mP7bC6hzCU-14" vertex="1">
          <mxGeometry y="52" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-17" value="入参" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1216.25" y="2362" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-18" value="返回值" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1672.25" y="2351" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-19" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-20" target="iPJKCvSiG7mP7bC6hzCU-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-20" value="&amp;nbsp;1.根据抽奖策略id查询抽奖聚合信息" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-527.25" y="2058" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-21" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-22" target="iPJKCvSiG7mP7bC6hzCU-29" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-402.25" y="2284" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-22" value="2.初始化和校验数据" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-527.25" y="2172" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-23" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-24" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-398.25000000000045" y="2523" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-24" value="4.执行抽奖策略" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-527.25" y="2404" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-25" value="&lt;b&gt;DrawStrategySupport&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-71.25" y="2026" width="277" height="159" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-26" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-27" target="iPJKCvSiG7mP7bC6hzCU-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-27" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&amp;nbsp;queryStrategyRich(Long strategyId&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-52.75" y="2072" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-28" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-29" target="iPJKCvSiG7mP7bC6hzCU-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-29" value="3.获取不在抽奖范围内的列表" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-527.25" y="2288" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-30" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;chechAndInitRateData流程&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-652.25" y="2821" width="295" height="516" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-31" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-32" target="iPJKCvSiG7mP7bC6hzCU-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-32" value="&amp;nbsp; &amp;nbsp; 1.从抽奖策略组中获取具体抽奖策略算法，若为null，直接返回" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-640.25" y="2876" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-33" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-34" target="iPJKCvSiG7mP7bC6hzCU-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-34" value="2.判断当前抽奖策略算法是否已经初始化当前抽奖策略" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-640.25" y="3055" width="261.5" height="52" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-35" value="3.未初始化则进行初始化" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-642.75" y="3234" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-37" target="iPJKCvSiG7mP7bC6hzCU-82" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-37" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&lt;span&gt;&#x9;&lt;/span&gt; queryAwardInfo(String awardId)&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="325.25" y="2131" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-38" value="&lt;b&gt;BaseAlgorithm&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1058.25" y="2839" width="257" height="182" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-39" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-40" target="iPJKCvSiG7mP7bC6hzCU-32" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-721.25" y="2905.9999999999995" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-40" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;isExistRateTuple(Long strategyId)&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1033.25" y="2882" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-41" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-43" target="iPJKCvSiG7mP7bC6hzCU-35" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-923.25" y="3260" />
            </Array>
            <mxPoint x="-379.25" y="2879" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-42" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=1.001;entryY=0.324;entryDx=0;entryDy=0;entryPerimeter=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-43" target="iPJKCvSiG7mP7bC6hzCU-44" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-79.25" y="3127" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-43" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;initRateTuple()&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1033.25" y="2971" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-44" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;initRateTuple()流程&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1487.25" y="2839" width="336" height="468" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-45" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.508;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-46" target="iPJKCvSiG7mP7bC6hzCU-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-46" value="&amp;nbsp;1.存放策略id、奖品信息的map" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1464.25" y="2886" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-47" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-48" target="iPJKCvSiG7mP7bC6hzCU-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-48" value="&amp;nbsp;2.创建策略id、128个奖品id散列数组的map" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1475.25" y="3009" width="284" height="52" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-49" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-50" target="iPJKCvSiG7mP7bC6hzCU-51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-50" value="&amp;nbsp;3.当前奖品的中奖概率*100，得到rateVal" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1472.25" y="3123" width="284" height="52" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-51" value="&amp;nbsp;4.Hash(概率范围内的每个值),&lt;br&gt;array[hash值] = 当前奖品id" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1469.25" y="3229" width="284" height="52" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-52" value="DrawAwardInfo" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;swimlaneLine=1;fillColor=none;strokeColor=#007FFF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1901.25" y="2563" width="254" height="78" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-53" value="- awardId: String" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="iPJKCvSiG7mP7bC6hzCU-52" vertex="1">
          <mxGeometry y="26" width="254" height="26" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-54" value="- awardName : String" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="iPJKCvSiG7mP7bC6hzCU-52" vertex="1">
          <mxGeometry y="52" width="254" height="26" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-55" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-13" target="iPJKCvSiG7mP7bC6hzCU-52" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1401.75" y="2332" as="sourcePoint" />
            <mxPoint x="-1536.25" y="2391" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-56" value="&lt;span style=&quot;font-style: italic ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot; color=&quot;#007fff&quot;&gt;AbstractDrawBase&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fillColor=none;verticalAlign=top;gradientColor=none;html=1;strokeColor=#007FFF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-984.25" y="2000" width="342" height="627" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-58" target="iPJKCvSiG7mP7bC6hzCU-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-58" value="doDrawExec()" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-923.75" y="2070" width="231" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-59" value="模板模式定义抽奖流程" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-918.25" y="2040" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;endSize=14;startSize=14;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-62" target="iPJKCvSiG7mP7bC6hzCU-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;entryX=0.827;entryY=0.169;entryDx=0;entryDy=0;entryPerimeter=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-62" target="iPJKCvSiG7mP7bC6hzCU-120" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1029.9165649414062" y="2789.8333587646484" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-954.25" y="2191" />
              <mxPoint x="-954.25" y="2758" />
              <mxPoint x="-596.25" y="2758" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-62" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;chechAndInitRateData()&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-925.75" y="2184" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-63" value="5.结果封装返回，若awardId为null未中奖，不为null查询奖品信息" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-534.25" y="2529" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-65" target="iPJKCvSiG7mP7bC6hzCU-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-65" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&amp;nbsp;queryStrategyRich(Long strategyId&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="321.75" y="2072" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-67" target="iPJKCvSiG7mP7bC6hzCU-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-67" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;queryExcludeAwardIds(）&amp;nbsp;&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-928.25" y="2300" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-69" target="iPJKCvSiG7mP7bC6hzCU-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-69" value="&lt;span style=&quot;color: rgb(0 , 127 , 255) ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;queryExcludeAwardIds(）&amp;nbsp;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1518.25" y="2170" width="231" height="34" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-70" value="&lt;span style=&quot;background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;IStrategyRepository&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1974.25" y="2127" width="305" height="141" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-73" target="iPJKCvSiG7mP7bC6hzCU-69" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-72" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-73" target="iPJKCvSiG7mP7bC6hzCU-122" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-73" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;queryNoStockStrategyAwardList(&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1912.75" y="2173" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-74" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-75" target="iPJKCvSiG7mP7bC6hzCU-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-75" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;drawAlgorithm()&lt;br&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-925.75" y="2416" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-77" target="iPJKCvSiG7mP7bC6hzCU-63" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-77" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;buildDrawResult()&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-928.25" y="2535" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-80" target="iPJKCvSiG7mP7bC6hzCU-75" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1068.25" y="2101" />
              <mxPoint x="-1068.25" y="2430" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-79" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-80" target="iPJKCvSiG7mP7bC6hzCU-109" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1910.25" y="2101" />
              <mxPoint x="-1910.25" y="2101" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-80" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;drawAlgorithm()&lt;br&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1512.25" y="2087" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-82" target="iPJKCvSiG7mP7bC6hzCU-63" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-82" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;queryAwardInfoByAwardId()&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-48.25" y="2131" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-83" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;SingleRateRandomDrawAlgorithm&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2535.25" y="2773.5" width="257" height="92" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-84" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-85" target="iPJKCvSiG7mP7bC6hzCU-86" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-85" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2516.75" y="2819.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-86" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)流程&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2530.5" y="2929.5" width="249.75" height="367" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-87" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-88" target="iPJKCvSiG7mP7bC6hzCU-90" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-88" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;1.获取当前策略的元数组&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2516.75" y="2982.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-89" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-90" target="iPJKCvSiG7mP7bC6hzCU-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-90" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;2.用SecureRandom生成一个随机数&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2516.75" y="3046.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-91" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-92" target="iPJKCvSiG7mP7bC6hzCU-94" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-92" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;3.生成的随机数获取波那契（Fibonacci）散列法的下标值&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2516.75" y="3110.5" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-93" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-94" target="iPJKCvSiG7mP7bC6hzCU-95" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-94" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;4.通过下标获取奖品id&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2516.75" y="3176.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-95" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;div&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;5.如在奖品排除id中，返回未中奖&amp;nbsp; ， 如不在返回奖品id&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2516.75" y="3240.5" width="220" height="44" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-96" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;DefaultRateRandomDrawAlgorithm&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2222.25" y="2773.5" width="257" height="92" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-97" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-98" target="iPJKCvSiG7mP7bC6hzCU-99" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-98" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2203.75" y="2819.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-99" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)流程&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2218.25" y="2927.5" width="249" height="367" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-100" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-101" target="iPJKCvSiG7mP7bC6hzCU-103" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-101" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;1.获取所有抽奖概率信息与排除的id，重新计算总共的概率&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2203.75" y="2966.5" width="220" height="44" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-102" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-103" target="iPJKCvSiG7mP7bC6hzCU-105" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-103" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;2.若新的抽奖概率信息只剩下0返回&quot;&quot;或者1个直接返回奖品id&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2203.75" y="3040.5" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-104" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-105" target="iPJKCvSiG7mP7bC6hzCU-107" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-105" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;3.生成随机数&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2203.75" y="3110.5" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-106" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-107" target="iPJKCvSiG7mP7bC6hzCU-108" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-107" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;4.重新计算当前奖品的概率&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2203.75" y="3176.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-108" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;div&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;5.比较随机数和当前奖品概率的范围，返回满足的&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2203.75" y="3240.5" width="220" height="44" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-109" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;drawAlgorithm()流程&lt;br&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2436.25" y="2030.75" width="395" height="351.25" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-110" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-113" target="iPJKCvSiG7mP7bC6hzCU-115" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-111" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-113" target="iPJKCvSiG7mP7bC6hzCU-83" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-112" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-113" target="iPJKCvSiG7mP7bC6hzCU-96" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-113" value="&amp;nbsp;1.执行抽奖，为null直接返回" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2361.25" y="2072" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-114" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-115" target="iPJKCvSiG7mP7bC6hzCU-116" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-115" value="&amp;nbsp;2.扣减库存" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2361.25" y="2204" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-116" value="3.扣减成功返回奖品id,失败返回null" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2361.25" y="2310" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-117" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-119" target="iPJKCvSiG7mP7bC6hzCU-115" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-118" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.475;exitY=0.94;exitDx=0;exitDy=0;exitPerimeter=0;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-119" target="iPJKCvSiG7mP7bC6hzCU-121" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-119" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;deductStock()&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-1916.25" y="2216" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-120" value="&lt;font style=&quot;font-size: 16px&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;抽奖算法领域&lt;/b&gt;&lt;/font&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;strokeColor=#007FFF;fillColor=none;width=113;height=39;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2549.25" y="2718" width="2361" height="662" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-121" value="&lt;div style=&quot;text-align: left; font-size: 14px;&quot;&gt;&lt;div style=&quot;&quot;&gt;UPDATE strategy_detail SET award_surplus_count = award_surplus_count - 1&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;WHERE strategy_id = #{strategyId} AND award_id = #{awardId} AND award_surplus_count &amp;gt; 0&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2013.75" y="2385.5" width="321" height="89" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-122" value="&lt;div style=&quot;font-size: 14px;&quot;&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;SELECT award_id&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; FROM strategy_detail&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; WHERE strategy_id = #{strategyId} AND&amp;nbsp;award_surplus_count&amp;nbsp;= 0&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;align=left;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2012.25" y="1926" width="335" height="102" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-123" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;strokeColor=#FF0000;" parent="-6oME1osNkLg_Jdq4N-v-1" source="VayvhowC6O9408wqKQVv-8" target="iPJKCvSiG7mP7bC6hzCU-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1600" y="935" />
              <mxPoint x="-1594" y="2259" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-125" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b style=&quot;&quot;&gt;TODO 发送MQ，触发发奖流程&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FFD966;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2568" y="1220" width="343" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-129" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ActivityPartakeImpl&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#00FF00;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-3112" y="1074" width="468" height="165" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-131" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-130" target="-6oME1osNkLg_Jdq4N-v-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-148" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fontFamily=Comic Sans MS;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-130" target="iPJKCvSiG7mP7bC6hzCU-147" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-130" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;recordDrawOrder()&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2991" y="1171" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-147" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;recordDrawOrder()流程&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;verticalAlign=top;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-3049.5" y="1340" width="323" height="615" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-150" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-151" target="iPJKCvSiG7mP7bC6hzCU-153" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-151" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;1.启动路由策略&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2985" y="1378.5" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-152" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-153" target="iPJKCvSiG7mP7bC6hzCU-155" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-153" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;2.开始事务&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2981" y="1464" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-154" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-155" target="iPJKCvSiG7mP7bC6hzCU-157" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-163" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-155" target="iPJKCvSiG7mP7bC6hzCU-162" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-155" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;3.&lt;/font&gt;锁定活动领取记录&lt;span style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;; background-color: initial;&quot;&gt;，更新为0直接返回&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2981" y="1560" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-161" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-157" target="iPJKCvSiG7mP7bC6hzCU-160" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-165" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-157" target="iPJKCvSiG7mP7bC6hzCU-164" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-157" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;4.插入领取活动信息&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2981" y="1671" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-169" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-6oME1osNkLg_Jdq4N-v-1" source="iPJKCvSiG7mP7bC6hzCU-160" target="iPJKCvSiG7mP7bC6hzCU-168" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-160" value="5.事务提交，uId唯一，保证幂等性" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2981" y="1775" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-162" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;UPDATE user_take_activity SET state = 1&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;WHERE u_id = #{uId} AND activity_id = #{activityId} AND state = 0&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-3284" y="1532" width="195" height="89" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-164" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;INSERT INTO user_strategy_export&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;(u_id, activity_id, order_id, strategy_id, strategy_mode,&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;grant_type, grant_date, grant_state, award_id, award_type,&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;award_name, award_content, uuid, create_time, update_time)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;VALUES&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;(#{uId},#{activityId},#{orderId},#{strategyId},#{strategyMode},&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;#{grantType},#{grantDate},#{grantState},#{awardId},#{awardType},&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;#{awardName},#{awardContent},#{uuid},now(),now())&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2610" y="1582" width="451" height="208" as="geometry" />
        </mxCell>
        <mxCell id="iPJKCvSiG7mP7bC6hzCU-168" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;6.清空路由上下文&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-6oME1osNkLg_Jdq4N-v-1" vertex="1">
          <mxGeometry x="-2981" y="1885" width="168.75" height="38" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="EY-Q965M1OyDYLRgj10O" name="第13章">
    <mxGraphModel dx="1502" dy="1863" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-0" />
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-1" parent="c3z6N1Hh2k7u7bsbsfCI-0" />
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-2" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="c3z6N1Hh2k7u7bsbsfCI-1" source="c3z6N1Hh2k7u7bsbsfCI-6" target="c3z6N1Hh2k7u7bsbsfCI-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-3" value="男" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="c3z6N1Hh2k7u7bsbsfCI-2" vertex="1" connectable="0">
          <mxGeometry x="-0.05" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-4" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="c3z6N1Hh2k7u7bsbsfCI-1" source="c3z6N1Hh2k7u7bsbsfCI-6" target="c3z6N1Hh2k7u7bsbsfCI-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-5" value="女" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="c3z6N1Hh2k7u7bsbsfCI-4" vertex="1" connectable="0">
          <mxGeometry x="-0.0824" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-6" value="&lt;font style=&quot;font-size: 18px&quot;&gt;性别[男/女]&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=2;hachureGap=8;fillColor=#f8cecc;fillStyle=dots;sketch=1;strokeColor=#b85450;" parent="c3z6N1Hh2k7u7bsbsfCI-1" vertex="1">
          <mxGeometry x="960" y="-950" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-7" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="c3z6N1Hh2k7u7bsbsfCI-1" source="c3z6N1Hh2k7u7bsbsfCI-11" target="c3z6N1Hh2k7u7bsbsfCI-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-8" value="&amp;lt; 25 岁" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="c3z6N1Hh2k7u7bsbsfCI-7" vertex="1" connectable="0">
          <mxGeometry x="-0.0444" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-9" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="c3z6N1Hh2k7u7bsbsfCI-1" source="c3z6N1Hh2k7u7bsbsfCI-11" target="c3z6N1Hh2k7u7bsbsfCI-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-10" value="&amp;gt;= 25 岁" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="c3z6N1Hh2k7u7bsbsfCI-9" vertex="1" connectable="0">
          <mxGeometry x="-0.2667" y="4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-11" value="&lt;font style=&quot;font-size: 18px&quot;&gt;年龄&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=2;hachureGap=8;fillColor=#dae8fc;fillStyle=dots;sketch=1;strokeColor=#6c8ebf;" parent="c3z6N1Hh2k7u7bsbsfCI-1" vertex="1">
          <mxGeometry x="720" y="-800" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-12" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="c3z6N1Hh2k7u7bsbsfCI-1" source="c3z6N1Hh2k7u7bsbsfCI-16" target="c3z6N1Hh2k7u7bsbsfCI-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-13" value="&amp;lt; 25 岁" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="c3z6N1Hh2k7u7bsbsfCI-12" vertex="1" connectable="0">
          <mxGeometry x="-0.0778" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-14" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="c3z6N1Hh2k7u7bsbsfCI-1" source="c3z6N1Hh2k7u7bsbsfCI-16" target="c3z6N1Hh2k7u7bsbsfCI-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-15" value="&amp;gt;= 25 岁" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="c3z6N1Hh2k7u7bsbsfCI-14" vertex="1" connectable="0">
          <mxGeometry y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-16" value="&lt;font style=&quot;font-size: 18px&quot;&gt;年龄&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=2;hachureGap=8;fillColor=#dae8fc;fillStyle=dots;sketch=1;strokeColor=#6c8ebf;" parent="c3z6N1Hh2k7u7bsbsfCI-1" vertex="1">
          <mxGeometry x="1200" y="-800" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-17" value="&lt;font style=&quot;font-size: 18px&quot;&gt;100001&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=2;hachureGap=8;fillColor=#d5e8d4;fillStyle=dots;sketch=1;strokeColor=#82b366;" parent="c3z6N1Hh2k7u7bsbsfCI-1" vertex="1">
          <mxGeometry x="600" y="-680" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-18" value="&lt;span style=&quot;font-size: 18px&quot;&gt;100002&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=2;hachureGap=8;fillColor=#d5e8d4;fillStyle=dots;sketch=1;strokeColor=#82b366;" parent="c3z6N1Hh2k7u7bsbsfCI-1" vertex="1">
          <mxGeometry x="840" y="-680" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-19" value="&lt;span style=&quot;font-size: 18px&quot;&gt;100003&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=2;hachureGap=8;fillColor=#d5e8d4;fillStyle=dots;sketch=1;strokeColor=#82b366;" parent="c3z6N1Hh2k7u7bsbsfCI-1" vertex="1">
          <mxGeometry x="1080" y="-680" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-20" value="&lt;span style=&quot;font-size: 18px&quot;&gt;100004&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=2;hachureGap=8;fillColor=#d5e8d4;fillStyle=dots;sketch=1;strokeColor=#82b366;" parent="c3z6N1Hh2k7u7bsbsfCI-1" vertex="1">
          <mxGeometry x="1320" y="-680" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-21" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;sketch=1;" parent="c3z6N1Hh2k7u7bsbsfCI-1" vertex="1">
          <mxGeometry x="570" y="-960" width="20" height="340" as="geometry" />
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-23" value="决策树&lt;br&gt;返回适合的活动编号" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Comic Sans MS;" parent="c3z6N1Hh2k7u7bsbsfCI-1" vertex="1">
          <mxGeometry x="360" y="-830" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-24" value="根节点信息" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="c3z6N1Hh2k7u7bsbsfCI-1" vertex="1">
          <mxGeometry x="1130" y="-935" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-25" value="子节点信息" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="c3z6N1Hh2k7u7bsbsfCI-1" vertex="1">
          <mxGeometry x="970" y="-770" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c3z6N1Hh2k7u7bsbsfCI-26" value="顺序流" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="c3z6N1Hh2k7u7bsbsfCI-1" vertex="1">
          <mxGeometry x="840" y="-905" width="80" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第13章项目结构" id="l5FSx9BgXgPASM-xaqVP">
    <mxGraphModel dx="4984" dy="1105" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="8BMLHj5pTMahfHDjifhD-0" />
        <mxCell id="8BMLHj5pTMahfHDjifhD-1" parent="8BMLHj5pTMahfHDjifhD-0" />
        <mxCell id="8BMLHj5pTMahfHDjifhD-2" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=232.5;entryDy=14;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#7EA6E0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;" parent="8BMLHj5pTMahfHDjifhD-1" source="8BMLHj5pTMahfHDjifhD-3" target="8BMLHj5pTMahfHDjifhD-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-2180" y="859" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-3" value="lotter-domain" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-2282" y="764" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-4" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.domain.rule&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-2411" y="919" width="425" height="76" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-5" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;model&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1915.5" y="266" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="iZr_Vzq4GkgGOakjjj4u-1" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="8BMLHj5pTMahfHDjifhD-1" source="8BMLHj5pTMahfHDjifhD-6" target="iZr_Vzq4GkgGOakjjj4u-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-6" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;repository&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1905" y="777.3199999999999" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-8" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;service&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1915.5" y="1538" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-9" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1371" y="454" width="30" height="291.32" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-10" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="8BMLHj5pTMahfHDjifhD-1" source="8BMLHj5pTMahfHDjifhD-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1300" y="223" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-11" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;res&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1629" y="180" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-12" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="8BMLHj5pTMahfHDjifhD-1" source="8BMLHj5pTMahfHDjifhD-13" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1303" y="365" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-13" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;req&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1618" y="321" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-14" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;vo&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1605" y="544" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-15" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1704.5" y="39" width="30" height="577" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-16" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;仓储服务&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1905" y="710.3199999999999" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-17" value="&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;聚合对象&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1930.5" y="206" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-18" value="&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;领域服务&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#000000;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#FFFFFF;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1935.25" y="1493" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-19" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;engine&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1639.5" y="1180" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-20" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;impl&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1365.5" y="952" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-21" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1149.5" y="923" width="30" height="169" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-22" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1420.5" y="971" width="30" height="494" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-23" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1974" y="305" width="30" height="1312" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-24" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=14;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="8BMLHj5pTMahfHDjifhD-1" source="8BMLHj5pTMahfHDjifhD-25" target="8BMLHj5pTMahfHDjifhD-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-25" value="lotter-infrastructure" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-765" y="784" width="222.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-26" value="&lt;font style=&quot;font-size: 12px&quot;&gt;&lt;font color=&quot;#333333&quot; style=&quot;font-size: 12px&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;基础服务层：&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(51 , 51 , 51) ; font-family: &amp;#34;open sans&amp;#34; , &amp;#34;clear sans&amp;#34; , &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; background-color: rgb(255 , 255 , 255)&quot;&gt;为各层提供资源服务（如数据库、缓存等）&lt;/span&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-747" y="737" width="237" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-27" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.&lt;/font&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;infrastructure&lt;/span&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-387" y="767" width="364" height="76" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-28" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;dao&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="31" y="871" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-29" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;po&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="34" y="1211" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-30" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="194" y="668" width="30" height="397" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-31" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-23" y="374" width="30" height="869" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-32" value="RuleTree" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;fillColor=none;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="248" y="1124" width="160" height="52" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-33" value="" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="8BMLHj5pTMahfHDjifhD-32" vertex="1">
          <mxGeometry y="26" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-34" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="187" y="1128" width="30" height="265" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-35" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="8BMLHj5pTMahfHDjifhD-1" source="8BMLHj5pTMahfHDjifhD-36" target="8BMLHj5pTMahfHDjifhD-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-36" value="lotter-interfaces" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-626" y="1634" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-37" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=40.5;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=261;exitDy=45;exitPerimeter=0;" parent="8BMLHj5pTMahfHDjifhD-1" source="8BMLHj5pTMahfHDjifhD-38" target="8BMLHj5pTMahfHDjifhD-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-38" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;resource&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-290" y="1614.5" width="261" height="76" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-39" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=125;exitDy=27.25;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="8BMLHj5pTMahfHDjifhD-1" source="8BMLHj5pTMahfHDjifhD-43" target="8BMLHj5pTMahfHDjifhD-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-41" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=125;exitDy=67;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="8BMLHj5pTMahfHDjifhD-1" source="8BMLHj5pTMahfHDjifhD-43" target="8BMLHj5pTMahfHDjifhD-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-42" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=125;exitDy=53.75;exitPerimeter=0;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="8BMLHj5pTMahfHDjifhD-1" source="8BMLHj5pTMahfHDjifhD-43" target="8BMLHj5pTMahfHDjifhD-86" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-43" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;mappers&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="116" y="1619" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-44" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;RuleTree&lt;/b&gt;&lt;b&gt;Mapper&lt;span style=&quot;text-align: left&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;.xml&lt;/font&gt;&lt;/span&gt;&lt;/b&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#000000;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="334.5" y="1523" width="305" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-47" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;IRuleTreeDao&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#7F00FF;sketch=1;rounded=0;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="259" y="663" width="309" height="65" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-48" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;RuleTreeNodeLineMapper&lt;span style=&quot;border-color: var(--border-color); font-size: 16px; text-align: left;&quot;&gt;.xml&lt;/span&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#000000;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="351" y="1753.5" width="292" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-49" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;repository&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="31" y="356" width="125" height="67" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-52" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="172" y="292" width="30" height="234" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-78" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IRuleTreeNodeLineDao&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#7F00FF;sketch=1;rounded=0;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="262" y="837" width="309" height="65" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-79" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;IRuleTreeNodeDao&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;br&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;fillColor=none;strokeColor=#7F00FF;sketch=1;rounded=0;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="259" y="1000" width="309" height="65" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-80" value="RuleTreeNodeLine" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;fillColor=none;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="245" y="1232" width="160" height="52" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-81" value="" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="8BMLHj5pTMahfHDjifhD-80" vertex="1">
          <mxGeometry y="26" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-82" value="RuleTreeNode" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;fillColor=none;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="250" y="1341" width="160" height="52" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-83" value="" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="8BMLHj5pTMahfHDjifhD-82" vertex="1">
          <mxGeometry y="26" width="160" height="26" as="geometry" />
        </mxCell>
        <mxCell id="8BMLHj5pTMahfHDjifhD-86" value="&lt;b&gt;RuleTreeNode&lt;span style=&quot;font-size: 16px;&quot;&gt;Mapper&lt;/span&gt;&lt;span style=&quot;font-size: 16px; text-align: left;&quot;&gt;.xml&lt;/span&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#000000;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="348" y="1638.5" width="291.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OxuzUamhUL2p1AjKSI6h-3" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="8BMLHj5pTMahfHDjifhD-1" source="SgUV5nZMRkjIjjm9zA9W-0" target="OxuzUamhUL2p1AjKSI6h-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SgUV5nZMRkjIjjm9zA9W-0" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;aggregates&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1634" y="39" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="OxuzUamhUL2p1AjKSI6h-0" value="TreeRuleRich" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;sketch=1;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1301" y="47" width="248" height="78" as="geometry" />
        </mxCell>
        <mxCell id="OxuzUamhUL2p1AjKSI6h-1" value="- treeRoot: TreeRootVO" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="OxuzUamhUL2p1AjKSI6h-0" vertex="1">
          <mxGeometry y="26" width="248" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OxuzUamhUL2p1AjKSI6h-2" value="- treeNodeMap: Map&lt;Long,TreeNodeVO&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;sketch=1;rounded=0;" parent="OxuzUamhUL2p1AjKSI6h-0" vertex="1">
          <mxGeometry y="52" width="248" height="26" as="geometry" />
        </mxCell>
        <mxCell id="OxuzUamhUL2p1AjKSI6h-4" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;logic&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1608" y="1847" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="OxuzUamhUL2p1AjKSI6h-5" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;impl&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1346" y="1619.5" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="OxuzUamhUL2p1AjKSI6h-6" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1130" y="1590.5" width="30" height="169" as="geometry" />
        </mxCell>
        <mxCell id="OxuzUamhUL2p1AjKSI6h-7" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1401" y="1638.5" width="30" height="515" as="geometry" />
        </mxCell>
        <mxCell id="YNlwTUr1L5jpi5b0OqOK-0" value="DecisionMatterReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;sketch=1;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1301" y="171" width="206" height="104" as="geometry" />
        </mxCell>
        <mxCell id="YNlwTUr1L5jpi5b0OqOK-1" value="- treeId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="YNlwTUr1L5jpi5b0OqOK-0" vertex="1">
          <mxGeometry y="26" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YNlwTUr1L5jpi5b0OqOK-2" value="- userId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;sketch=1;rounded=0;" parent="YNlwTUr1L5jpi5b0OqOK-0" vertex="1">
          <mxGeometry y="52" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YNlwTUr1L5jpi5b0OqOK-3" value="- valueMap: Map&lt;String,Object&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="YNlwTUr1L5jpi5b0OqOK-0" vertex="1">
          <mxGeometry y="78" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YNlwTUr1L5jpi5b0OqOK-4" value="EngineResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;sketch=1;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1292" y="292" width="206" height="156" as="geometry" />
        </mxCell>
        <mxCell id="YNlwTUr1L5jpi5b0OqOK-5" value="- isSuccess: boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="YNlwTUr1L5jpi5b0OqOK-4" vertex="1">
          <mxGeometry y="26" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YNlwTUr1L5jpi5b0OqOK-6" value="- userId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;sketch=1;rounded=0;" parent="YNlwTUr1L5jpi5b0OqOK-4" vertex="1">
          <mxGeometry y="52" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YNlwTUr1L5jpi5b0OqOK-7" value="- treeId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="YNlwTUr1L5jpi5b0OqOK-4" vertex="1">
          <mxGeometry y="78" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YNlwTUr1L5jpi5b0OqOK-8" value="- nodeId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="YNlwTUr1L5jpi5b0OqOK-4" vertex="1">
          <mxGeometry y="104" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="YNlwTUr1L5jpi5b0OqOK-9" value="- nodeValue: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="YNlwTUr1L5jpi5b0OqOK-4" vertex="1">
          <mxGeometry y="130" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="VRrx1yQq9E8vvKB72_mJ-0" value="TreeRootVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;sketch=1;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1299" y="617" width="207" height="104" as="geometry" />
        </mxCell>
        <mxCell id="VRrx1yQq9E8vvKB72_mJ-1" value="- treeId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="VRrx1yQq9E8vvKB72_mJ-0" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="VRrx1yQq9E8vvKB72_mJ-2" value="- treeRootNodeId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="VRrx1yQq9E8vvKB72_mJ-0" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="VRrx1yQq9E8vvKB72_mJ-3" value="- treeName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;sketch=1;rounded=0;" parent="VRrx1yQq9E8vvKB72_mJ-0" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Y8nfKc6q-JFKsiFh4xyE-0" value="TreeNodeVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;sketch=1;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1062" y="475" width="188" height="220" as="geometry" />
        </mxCell>
        <mxCell id="Y8nfKc6q-JFKsiFh4xyE-1" value="- treeId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="Y8nfKc6q-JFKsiFh4xyE-0" vertex="1">
          <mxGeometry y="26" width="188" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Y8nfKc6q-JFKsiFh4xyE-2" value="- treeNodeId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;sketch=1;rounded=0;" parent="Y8nfKc6q-JFKsiFh4xyE-0" vertex="1">
          <mxGeometry y="52" width="188" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Y8nfKc6q-JFKsiFh4xyE-3" value="- nodeType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="Y8nfKc6q-JFKsiFh4xyE-0" vertex="1">
          <mxGeometry y="78" width="188" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Y8nfKc6q-JFKsiFh4xyE-4" value="- nodeValue: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="Y8nfKc6q-JFKsiFh4xyE-0" vertex="1">
          <mxGeometry y="104" width="188" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Y8nfKc6q-JFKsiFh4xyE-5" value="- ruleKey: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="Y8nfKc6q-JFKsiFh4xyE-0" vertex="1">
          <mxGeometry y="130" width="188" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Y8nfKc6q-JFKsiFh4xyE-6" value="- ruleDesc: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="Y8nfKc6q-JFKsiFh4xyE-0" vertex="1">
          <mxGeometry y="156" width="188" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Y8nfKc6q-JFKsiFh4xyE-7" value="- treeNodeLineInfoList: &#xa;List&lt;TreeNodeLineVO&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="Y8nfKc6q-JFKsiFh4xyE-0" vertex="1">
          <mxGeometry y="182" width="188" height="38" as="geometry" />
        </mxCell>
        <mxCell id="Y8nfKc6q-JFKsiFh4xyE-8" value="TreeNodeLineVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;sketch=1;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1295" y="467" width="204" height="130" as="geometry" />
        </mxCell>
        <mxCell id="Y8nfKc6q-JFKsiFh4xyE-9" value="- nodeIdFrom: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="Y8nfKc6q-JFKsiFh4xyE-8" vertex="1">
          <mxGeometry y="26" width="204" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Y8nfKc6q-JFKsiFh4xyE-10" value="- nodeIdTo: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;sketch=1;rounded=0;" parent="Y8nfKc6q-JFKsiFh4xyE-8" vertex="1">
          <mxGeometry y="52" width="204" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Y8nfKc6q-JFKsiFh4xyE-11" value="- ruleLimitType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="Y8nfKc6q-JFKsiFh4xyE-8" vertex="1">
          <mxGeometry y="78" width="204" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Y8nfKc6q-JFKsiFh4xyE-12" value="- ruleLimitValue: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="Y8nfKc6q-JFKsiFh4xyE-8" vertex="1">
          <mxGeometry y="104" width="204" height="26" as="geometry" />
        </mxCell>
        <mxCell id="iZr_Vzq4GkgGOakjjj4u-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i style=&quot;&quot;&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;/p&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;font&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;IRuleRepository&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font&gt;+ queryTreeRuleRich(Long treeId) : TreeRuleRich&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;sketch=1;rounded=0;fillColor=none;strokeColor=#7F00FF;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1616" y="781" width="326" height="83" as="geometry" />
        </mxCell>
        <mxCell id="S9eYuJrToLsv_bBmBbQK-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i style=&quot;&quot;&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;/p&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;font&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;EngineFilter&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font&gt;+ process(DecisionMatterReq matter) : EngineResult&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;sketch=1;rounded=0;fillColor=none;strokeColor=#7F00FF;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1351.5" y="1136" width="326" height="76" as="geometry" />
        </mxCell>
        <mxCell id="S9eYuJrToLsv_bBmBbQK-1" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;&lt;i&gt;EngineBase&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;+ process(DecisionMatterReq matter) : EngineResult&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;# engineDecisionMaker(TreeRuleRich treeRuleRich,&lt;/span&gt;&lt;/p&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;DecisionMatterReq matter&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;): TreeNodeVO&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;&lt;br&gt;&lt;/span&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#007FFF;rounded=0;sketch=1;fillColor=none;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1351.5" y="1237.5" width="327" height="109" as="geometry" />
        </mxCell>
        <mxCell id="S9eYuJrToLsv_bBmBbQK-2" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;EngineConfig&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- logicFilterMap: Map&amp;lt;String,LogicFilter&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- logicFilterList: List&amp;lt;LogicFilter&amp;gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;init()&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#007FFF;rounded=0;sketch=1;fillColor=none;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1346" y="1367.5" width="324.5" height="101" as="geometry" />
        </mxCell>
        <mxCell id="S9eYuJrToLsv_bBmBbQK-3" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;RuleEngineHandleImpl&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- ruleRepository: IRuleRepository&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;+ process(DecisionMatterReq matter) : EngineResult&lt;/span&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#007FFF;rounded=0;sketch=1;fillColor=none;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1102.5" y="951" width="304.5" height="101" as="geometry" />
        </mxCell>
        <mxCell id="p-wdaFc_GfgDtDWjsYSD-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;/p&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;font&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;LogicFilter&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ filter(String matterValue,List&amp;lt;TreeNodeLineVO&lt;span&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;treeNodeLineInfoList):Long&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span&gt;+ matterValue(DecisionMatterReq req):String&lt;/span&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;sketch=1;rounded=0;fillColor=none;strokeColor=#7F00FF;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1365" y="1851.5" width="326" height="119.5" as="geometry" />
        </mxCell>
        <mxCell id="p-wdaFc_GfgDtDWjsYSD-1" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;&lt;i&gt;BaseLogic&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;+ filter(String matterValue,List&amp;lt;TreeNodeLineVO&amp;gt;&amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;treeNodeLineInfoList):Long&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;+ matterValue(DecisionMatterReq req):String&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;- decisionLogic(String matterValue,&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;TreeNodeLineVo nodeLine): boolean&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#007FFF;rounded=0;sketch=1;fillColor=none;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1363.5" y="2020.5" width="317" height="133" as="geometry" />
        </mxCell>
        <mxCell id="p-wdaFc_GfgDtDWjsYSD-2" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;UserAgeFilter&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;+ matterValue(DecisionMatterReq req):String&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#007FFF;rounded=0;sketch=1;fillColor=none;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1078" y="1589" width="317" height="58.5" as="geometry" />
        </mxCell>
        <mxCell id="p-wdaFc_GfgDtDWjsYSD-3" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;UserGenderFilter&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;+ matterValue(DecisionMatterReq req):String&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#007FFF;rounded=0;sketch=1;fillColor=none;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1080" y="1694.5" width="317" height="65" as="geometry" />
        </mxCell>
        <mxCell id="p-wdaFc_GfgDtDWjsYSD-7" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="-1701" y="1206" width="30" height="719" as="geometry" />
        </mxCell>
        <mxCell id="1zDI4AreyvbLflef0WQ5-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;RuleRepository&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- ruleTreeDao: RuleTreeDao&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- ruleTreeNodeDao: RuleTreeNodeDao&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- ruleTreeNodeLineDao: RuleTreeNodeLineDao&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;+ queryTreeRuleRich(Long treeId) : TreeRuleRich&lt;/span&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#007FFF;rounded=0;sketch=1;fillColor=none;" parent="8BMLHj5pTMahfHDjifhD-1" vertex="1">
          <mxGeometry x="217" y="325" width="378" height="154" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="nbuoSyVTrgUwWFPA2lxf" name="第13章-类图">
    <mxGraphModel dx="2003" dy="884" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="OS3sndpl-uV0kPvsrbhV-0" />
        <mxCell id="OS3sndpl-uV0kPvsrbhV-1" parent="OS3sndpl-uV0kPvsrbhV-0" />
        <mxCell id="uQya3jGQUDJV-tW202es-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;entryX=0.427;entryY=1.154;entryDx=0;entryDy=0;entryPerimeter=0;" parent="OS3sndpl-uV0kPvsrbhV-1" source="FCKqOPhad_RVOz6kSv9R-0" target="uQya3jGQUDJV-tW202es-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="130.9411764705883" y="220.0784553079045" as="targetPoint" />
            <Array as="points">
              <mxPoint x="132" y="226" />
              <mxPoint x="131" y="195" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-52" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;entryX=0.487;entryY=1.033;entryDx=0;entryDy=0;entryPerimeter=0;rounded=0;" parent="OS3sndpl-uV0kPvsrbhV-1" source="FCKqOPhad_RVOz6kSv9R-0" target="uQya3jGQUDJV-tW202es-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="399" y="179" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FCKqOPhad_RVOz6kSv9R-0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i style=&quot;&quot;&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;/p&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;font&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;EngineFilter&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font&gt;+ process(DecisionMatterReq matter) : EngineResult&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;sketch=1;rounded=0;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="50" y="261" width="326" height="104" as="geometry" />
        </mxCell>
        <mxCell id="asl_B9x0YIi20UTvYUl--0" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;&lt;i&gt;EngineBase&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;+ process(DecisionMatterReq matter) : EngineResult&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;# engineDecisionMaker(TreeRuleRich treeRuleRich,&lt;/span&gt;&lt;/p&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;DecisionMatterReq matter&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;): TreeNodeVO&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;&lt;br&gt;&lt;/span&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#9673a6;rounded=0;sketch=1;fillColor=#e1d5e7;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="50" y="453" width="311" height="109" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-0" value="DecisionMatterReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;sketch=1;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="293" y="90" width="206" height="104" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-1" value="- treeId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="uQya3jGQUDJV-tW202es-0" vertex="1">
          <mxGeometry y="26" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-2" value="- userId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;sketch=1;rounded=0;" parent="uQya3jGQUDJV-tW202es-0" vertex="1">
          <mxGeometry y="52" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-3" value="- valueMap: Map&lt;String,Object&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="uQya3jGQUDJV-tW202es-0" vertex="1">
          <mxGeometry y="78" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-4" value="EngineResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;sketch=1;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="43" y="35" width="206" height="156" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-5" value="- isSuccess: boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="uQya3jGQUDJV-tW202es-4" vertex="1">
          <mxGeometry y="26" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-6" value="- userId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;sketch=1;rounded=0;" parent="uQya3jGQUDJV-tW202es-4" vertex="1">
          <mxGeometry y="52" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-7" value="- treeId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="uQya3jGQUDJV-tW202es-4" vertex="1">
          <mxGeometry y="78" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-8" value="- nodeId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="uQya3jGQUDJV-tW202es-4" vertex="1">
          <mxGeometry y="104" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-9" value="- nodeValue: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="uQya3jGQUDJV-tW202es-4" vertex="1">
          <mxGeometry y="130" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-63" style="edgeStyle=orthogonalEdgeStyle;curved=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endSize=10;rounded=0;" parent="OS3sndpl-uV0kPvsrbhV-1" source="uQya3jGQUDJV-tW202es-10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="920.6842105263158" y="313" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-10" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;EngineConfig&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- logicFilterMap: Map&amp;lt;String,LogicFilter&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- logicFilterList: List&amp;lt;LogicFilter&amp;gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;init()&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#0e8088;rounded=0;sketch=1;fillColor=#b0e3e6;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="511" y="262.5" width="311" height="101" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-55" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;" parent="OS3sndpl-uV0kPvsrbhV-1" source="uQya3jGQUDJV-tW202es-14" target="uQya3jGQUDJV-tW202es-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-14" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;RuleEngineHandleImpl&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- ruleRepository: IRuleRepository&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;+ process(DecisionMatterReq matter) : EngineResult&lt;/span&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#9673a6;rounded=0;sketch=1;fillColor=#e1d5e7;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="48.75" y="638" width="311" height="101" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.003;entryY=0.263;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;endSize=10;" parent="OS3sndpl-uV0kPvsrbhV-1" source="uQya3jGQUDJV-tW202es-16" target="uQya3jGQUDJV-tW202es-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-16" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i style=&quot;&quot;&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;/p&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;font&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;IRuleRepository&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font&gt;+ queryTreeRuleRich(Long treeId) : TreeRuleRich&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;sketch=1;rounded=0;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="41.25" y="799.5" width="326" height="83" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-17" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;RuleRepository&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- ruleTreeDao: RuleTreeDao&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- ruleTreeNodeDao: RuleTreeNodeDao&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- ruleTreeNodeLineDao: RuleTreeNodeLineDao&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;+ queryTreeRuleRich(Long treeId) : TreeRuleRich&lt;/span&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#9673a6;rounded=0;sketch=1;fillColor=#e1d5e7;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="42.5" y="953" width="323.5" height="110" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;endSize=10;" parent="OS3sndpl-uV0kPvsrbhV-1" source="uQya3jGQUDJV-tW202es-18" target="uQya3jGQUDJV-tW202es-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-59" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;endSize=10;entryX=0.551;entryY=1.079;entryDx=0;entryDy=0;entryPerimeter=0;" parent="OS3sndpl-uV0kPvsrbhV-1" source="uQya3jGQUDJV-tW202es-18" target="uQya3jGQUDJV-tW202es-37" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="531.6666870117188" y="730.666748046875" as="targetPoint" />
            <Array as="points">
              <mxPoint x="547" y="720" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-18" value="TreeRuleRich" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;sketch=1;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="423" y="809" width="248" height="78" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-19" value="- treeRoot: TreeRootVO" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="uQya3jGQUDJV-tW202es-18" vertex="1">
          <mxGeometry y="26" width="248" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-20" value="- treeNodeMap: Map&lt;Long,TreeNodeVO&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;sketch=1;rounded=0;" parent="uQya3jGQUDJV-tW202es-18" vertex="1">
          <mxGeometry y="52" width="248" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-24" value="TreeRootVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;sketch=1;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="423" y="944" width="248" height="104" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-25" value="- treeId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="uQya3jGQUDJV-tW202es-24" vertex="1">
          <mxGeometry y="26" width="248" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-31" value="- treeRootNodeId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="uQya3jGQUDJV-tW202es-24" vertex="1">
          <mxGeometry y="52" width="248" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-26" value="- treeName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;sketch=1;rounded=0;" parent="uQya3jGQUDJV-tW202es-24" vertex="1">
          <mxGeometry y="78" width="248" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-27" value="TreeNodeVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;sketch=1;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="444" y="485" width="188" height="220" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-28" value="- treeId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="uQya3jGQUDJV-tW202es-27" vertex="1">
          <mxGeometry y="26" width="188" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-29" value="- treeNodeId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;sketch=1;rounded=0;" parent="uQya3jGQUDJV-tW202es-27" vertex="1">
          <mxGeometry y="52" width="188" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-32" value="- nodeType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="uQya3jGQUDJV-tW202es-27" vertex="1">
          <mxGeometry y="78" width="188" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-33" value="- nodeValue: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="uQya3jGQUDJV-tW202es-27" vertex="1">
          <mxGeometry y="104" width="188" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-34" value="- ruleKey: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="uQya3jGQUDJV-tW202es-27" vertex="1">
          <mxGeometry y="130" width="188" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-35" value="- ruleDesc: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="uQya3jGQUDJV-tW202es-27" vertex="1">
          <mxGeometry y="156" width="188" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-37" value="- treeNodeLineInfoList: &#xa;List&lt;TreeNodeLineVO&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="uQya3jGQUDJV-tW202es-27" vertex="1">
          <mxGeometry y="182" width="188" height="38" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-38" value="TreeNodeLineVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;sketch=1;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="711" y="537" width="188" height="130" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-39" value="- nodeIdFrom: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="uQya3jGQUDJV-tW202es-38" vertex="1">
          <mxGeometry y="26" width="188" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-40" value="- nodeIdTo: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;sketch=1;rounded=0;" parent="uQya3jGQUDJV-tW202es-38" vertex="1">
          <mxGeometry y="52" width="188" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-41" value="- ruleLimitType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="uQya3jGQUDJV-tW202es-38" vertex="1">
          <mxGeometry y="78" width="188" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-42" value="- ruleLimitValue: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="uQya3jGQUDJV-tW202es-38" vertex="1">
          <mxGeometry y="104" width="188" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;endSize=10;" parent="OS3sndpl-uV0kPvsrbhV-1" source="uQya3jGQUDJV-tW202es-46" target="uQya3jGQUDJV-tW202es-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.988;entryY=0.167;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;endSize=10;" parent="OS3sndpl-uV0kPvsrbhV-1" source="uQya3jGQUDJV-tW202es-46" target="uQya3jGQUDJV-tW202es-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-46" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;/p&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;font&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;LogicFilter&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ filter(String matterValue,List&amp;lt;TreeNodeLineVO&lt;span&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;&lt;span&gt;&#x9;&lt;/span&gt;treeNodeLineInfoList):Long&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span&gt;+ matterValue(DecisionMatterReq req):String&lt;/span&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;sketch=1;rounded=0;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="925" y="262.5" width="326" height="119.5" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-47" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;&lt;i&gt;BaseLogic&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;+ filter(String matterValue,List&amp;lt;TreeNodeLineVO&amp;gt;&amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;treeNodeLineInfoList):Long&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;+ matterValue(DecisionMatterReq req):String&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;- decisionLogic(String matterValue,&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;TreeNodeLineVo nodeLine): boolean&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#0e8088;rounded=0;sketch=1;fillColor=#b0e3e6;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="1137" y="470" width="317" height="133" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-48" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;UserAgeFilter&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;+ matterValue(DecisionMatterReq req):String&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#0e8088;rounded=0;sketch=1;fillColor=#b0e3e6;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="899" y="691" width="317" height="94.5" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-50" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;UserGenderFilter&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;+ matterValue(DecisionMatterReq req):String&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#0e8088;rounded=0;sketch=1;fillColor=#b0e3e6;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="1326" y="691" width="317" height="94.5" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-53" value="" style="endArrow=block;dashed=1;endFill=0;endSize=10;html=1;rounded=0;fontFamily=Comic Sans MS;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.475;entryY=1.042;entryDx=0;entryDy=0;entryPerimeter=0;" parent="OS3sndpl-uV0kPvsrbhV-1" source="asl_B9x0YIi20UTvYUl--0" target="FCKqOPhad_RVOz6kSv9R-0" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="259" y="483" as="sourcePoint" />
            <mxPoint x="238" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-54" value="" style="endArrow=block;dashed=1;endFill=0;endSize=10;html=1;rounded=0;fontFamily=Comic Sans MS;exitX=0.5;exitY=0;exitDx=0;exitDy=0;sketch=1;" parent="OS3sndpl-uV0kPvsrbhV-1" source="uQya3jGQUDJV-tW202es-17" target="uQya3jGQUDJV-tW202es-16" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="259" y="683" as="sourcePoint" />
            <mxPoint x="419" y="683" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-56" value="继承" style="endArrow=block;endSize=10;endFill=0;html=1;rounded=0;fontFamily=Comic Sans MS;sketch=1;" parent="OS3sndpl-uV0kPvsrbhV-1" source="uQya3jGQUDJV-tW202es-14" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="258" y="668" as="sourcePoint" />
            <mxPoint x="201" y="564" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-61" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endSize=10;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="OS3sndpl-uV0kPvsrbhV-1" source="uQya3jGQUDJV-tW202es-33" target="uQya3jGQUDJV-tW202es-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-62" value="继承" style="endArrow=block;endSize=10;endFill=0;html=1;rounded=0;sketch=0;fontFamily=Comic Sans MS;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" parent="OS3sndpl-uV0kPvsrbhV-1" source="asl_B9x0YIi20UTvYUl--0" target="uQya3jGQUDJV-tW202es-10" edge="1">
          <mxGeometry x="0.0367" y="9" width="160" relative="1" as="geometry">
            <mxPoint x="352" y="456" as="sourcePoint" />
            <mxPoint x="383" y="468" as="targetPoint" />
            <Array as="points">
              <mxPoint x="667" y="480" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-64" value="" style="endArrow=block;dashed=1;endFill=0;endSize=10;html=1;sketch=0;fontFamily=Comic Sans MS;entryX=0.476;entryY=1.017;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;rounded=0;" parent="OS3sndpl-uV0kPvsrbhV-1" source="uQya3jGQUDJV-tW202es-47" target="uQya3jGQUDJV-tW202es-46" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="938" y="562" as="sourcePoint" />
            <mxPoint x="1083" y="401" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1080" y="537" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-65" value="继承" style="endArrow=block;endSize=10;endFill=0;html=1;rounded=0;sketch=0;fontFamily=Comic Sans MS;exitX=0.474;exitY=-0.011;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.341;entryY=1.01;entryDx=0;entryDy=0;entryPerimeter=0;" parent="OS3sndpl-uV0kPvsrbhV-1" source="uQya3jGQUDJV-tW202es-48" target="uQya3jGQUDJV-tW202es-47" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="962" y="616" as="sourcePoint" />
            <mxPoint x="1122" y="616" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1049" y="657" />
              <mxPoint x="1245" y="657" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="uQya3jGQUDJV-tW202es-67" value="继承" style="endArrow=block;endSize=10;endFill=0;html=1;rounded=0;sketch=0;fontFamily=Comic Sans MS;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="OS3sndpl-uV0kPvsrbhV-1" source="uQya3jGQUDJV-tW202es-50" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1147" y="559" as="sourcePoint" />
            <mxPoint x="1287" y="607" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1484" y="656" />
              <mxPoint x="1287" y="656" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xIFvesRvgjJomYK4XYLI-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;endSize=10;" parent="OS3sndpl-uV0kPvsrbhV-1" source="JIOUgqIYg2OX-hNxgVfd-5" target="JIOUgqIYg2OX-hNxgVfd-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="JIOUgqIYg2OX-hNxgVfd-5" value="查询决策执行树" style="html=1;fontFamily=Comic Sans MS;rounded=0;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="810" y="822" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xIFvesRvgjJomYK4XYLI-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;endSize=10;" parent="OS3sndpl-uV0kPvsrbhV-1" source="JIOUgqIYg2OX-hNxgVfd-6" target="JIOUgqIYg2OX-hNxgVfd-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xIFvesRvgjJomYK4XYLI-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;endSize=10;" parent="OS3sndpl-uV0kPvsrbhV-1" source="JIOUgqIYg2OX-hNxgVfd-6" target="xIFvesRvgjJomYK4XYLI-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="JIOUgqIYg2OX-hNxgVfd-6" value="获取果实节点" style="html=1;fontFamily=Comic Sans MS;rounded=0;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="969" y="822" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="JIOUgqIYg2OX-hNxgVfd-7" value="包装结果返回&lt;br&gt;(活动id)" style="html=1;fontFamily=Comic Sans MS;rounded=0;sketch=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="1149.5" y="822" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xIFvesRvgjJomYK4XYLI-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;endSize=10;" parent="OS3sndpl-uV0kPvsrbhV-1" source="JIOUgqIYg2OX-hNxgVfd-9" target="xIFvesRvgjJomYK4XYLI-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="JIOUgqIYg2OX-hNxgVfd-9" value="根据ruleKey&lt;br&gt;获取过滤规则执行器" style="html=1;fontFamily=Comic Sans MS;rounded=0;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="1128" y="1006" width="113" height="50" as="geometry" />
        </mxCell>
        <mxCell id="JIOUgqIYg2OX-hNxgVfd-10" value="返回果实节点" style="html=1;fontFamily=Comic Sans MS;rounded=0;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="969" y="1091" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xIFvesRvgjJomYK4XYLI-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;endSize=10;" parent="OS3sndpl-uV0kPvsrbhV-1" source="xIFvesRvgjJomYK4XYLI-0" target="JIOUgqIYg2OX-hNxgVfd-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xIFvesRvgjJomYK4XYLI-10" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;rounded=0;" parent="xIFvesRvgjJomYK4XYLI-9" vertex="1" connectable="0">
          <mxGeometry x="-0.2891" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xIFvesRvgjJomYK4XYLI-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;endSize=10;" parent="OS3sndpl-uV0kPvsrbhV-1" source="xIFvesRvgjJomYK4XYLI-0" target="JIOUgqIYg2OX-hNxgVfd-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xIFvesRvgjJomYK4XYLI-0" value="&lt;span style=&quot;font-family: &amp;#34;comic sans ms&amp;#34;&quot;&gt;是叶子节点吗&lt;/span&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;rounded=0;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="974" y="1001" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xIFvesRvgjJomYK4XYLI-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;endSize=10;" parent="OS3sndpl-uV0kPvsrbhV-1" source="xIFvesRvgjJomYK4XYLI-1" target="xIFvesRvgjJomYK4XYLI-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xIFvesRvgjJomYK4XYLI-1" value="获取当前节点" style="html=1;fontFamily=Comic Sans MS;rounded=0;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="969" y="921" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xIFvesRvgjJomYK4XYLI-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;endSize=10;" parent="OS3sndpl-uV0kPvsrbhV-1" source="xIFvesRvgjJomYK4XYLI-3" target="xIFvesRvgjJomYK4XYLI-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xIFvesRvgjJomYK4XYLI-3" value="获取规则比对值" style="html=1;fontFamily=Comic Sans MS;rounded=0;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="1295" y="1006" width="113" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xIFvesRvgjJomYK4XYLI-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;endSize=10;" parent="OS3sndpl-uV0kPvsrbhV-1" source="xIFvesRvgjJomYK4XYLI-4" target="xIFvesRvgjJomYK4XYLI-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1511" y="946" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xIFvesRvgjJomYK4XYLI-17" value="下一个节点变成当前节点" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;rounded=0;" parent="xIFvesRvgjJomYK4XYLI-16" vertex="1" connectable="0">
          <mxGeometry x="0.064" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xIFvesRvgjJomYK4XYLI-4" value="执行规则，&lt;br&gt;获取下一个节点" style="html=1;fontFamily=Comic Sans MS;rounded=0;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="1454" y="1006" width="113" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xIFvesRvgjJomYK4XYLI-12" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;rounded=0;" parent="OS3sndpl-uV0kPvsrbhV-1" vertex="1">
          <mxGeometry x="1022" y="1058" width="22" height="18" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第14章项目结构" id="x_hQc_7DmnInjyJ83_wE">
    <mxGraphModel dx="3983" dy="663" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="p6Ybe_qXDsyHCzhy_xir-0" />
        <mxCell id="p6Ybe_qXDsyHCzhy_xir-1" parent="p6Ybe_qXDsyHCzhy_xir-0" />
        <mxCell id="p6Ybe_qXDsyHCzhy_xir-2" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=232.5;entryDy=14;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#7EA6E0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;" parent="p6Ybe_qXDsyHCzhy_xir-1" source="p6Ybe_qXDsyHCzhy_xir-3" target="p6Ybe_qXDsyHCzhy_xir-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-2211" y="376.9999999999999" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p6Ybe_qXDsyHCzhy_xir-3" value="lotter-rpc" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-2313" y="281.9999999999999" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="p6Ybe_qXDsyHCzhy_xir-4" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.rpc&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-2442" y="436.9999999999999" width="425" height="76" as="geometry" />
        </mxCell>
        <mxCell id="p6Ybe_qXDsyHCzhy_xir-9" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-1642" y="464" width="30" height="265" as="geometry" />
        </mxCell>
        <mxCell id="p6Ybe_qXDsyHCzhy_xir-10" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;entryX=0.002;entryY=0.167;entryDx=0;entryDy=0;entryPerimeter=0;" parent="p6Ybe_qXDsyHCzhy_xir-1" source="p6Ybe_qXDsyHCzhy_xir-11" target="p6Ybe_qXDsyHCzhy_xir-65" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1568" y="116" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="p6Ybe_qXDsyHCzhy_xir-11" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;res&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-1897" y="73" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="p6Ybe_qXDsyHCzhy_xir-13" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;req&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-1890" y="269" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="p6Ybe_qXDsyHCzhy_xir-14" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;dto&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-1876" y="554" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="p6Ybe_qXDsyHCzhy_xir-23" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-2007" y="38" width="30" height="900" as="geometry" />
        </mxCell>
        <mxCell id="p6Ybe_qXDsyHCzhy_xir-64" value="DrawRes" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;sketch=1;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-1565" y="89" width="206" height="52" as="geometry" />
        </mxCell>
        <mxCell id="p6Ybe_qXDsyHCzhy_xir-65" value="-awardDTO: AwardDTO" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="p6Ybe_qXDsyHCzhy_xir-64" vertex="1">
          <mxGeometry y="26" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="p6Ybe_qXDsyHCzhy_xir-68" value="DrawReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;sketch=1;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-1558" y="191" width="206" height="78" as="geometry" />
        </mxCell>
        <mxCell id="p6Ybe_qXDsyHCzhy_xir-70" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;sketch=1;rounded=0;" parent="p6Ybe_qXDsyHCzhy_xir-68" vertex="1">
          <mxGeometry y="26" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ZQBqXq3dldslwM2GC8Z-4" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="p6Ybe_qXDsyHCzhy_xir-68" vertex="1">
          <mxGeometry y="52" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="p6Ybe_qXDsyHCzhy_xir-91" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i style=&quot;&quot;&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;/p&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;font&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; I&lt;/b&gt;&lt;/font&gt;&lt;b&gt;LotteryActivityBooth&lt;/b&gt;&lt;/div&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ doDraw(DrawReq drawReq):DrawRes&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ doQuantificationDraw(QuantificationDrawReq&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;quantificationDrawReq):DrawRes&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;sketch=1;rounded=0;fillColor=none;strokeColor=#7F00FF;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-1897" y="844" width="326" height="97" as="geometry" />
        </mxCell>
        <mxCell id="UtcVnRkvTnt2YdXW3frE-0" value="AwardDTO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;swimlaneLine=1;fontColor=#000000;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-1578" y="464" width="257" height="259" as="geometry" />
        </mxCell>
        <mxCell id="UtcVnRkvTnt2YdXW3frE-9" value="- userId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="UtcVnRkvTnt2YdXW3frE-0" vertex="1">
          <mxGeometry y="26" width="257" height="25" as="geometry" />
        </mxCell>
        <mxCell id="UtcVnRkvTnt2YdXW3frE-8" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="UtcVnRkvTnt2YdXW3frE-0" vertex="1">
          <mxGeometry y="51" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UtcVnRkvTnt2YdXW3frE-1" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="UtcVnRkvTnt2YdXW3frE-0" vertex="1">
          <mxGeometry y="77" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UtcVnRkvTnt2YdXW3frE-2" value="- awardName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="UtcVnRkvTnt2YdXW3frE-0" vertex="1">
          <mxGeometry y="103" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UtcVnRkvTnt2YdXW3frE-3" value="- awardType : Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="UtcVnRkvTnt2YdXW3frE-0" vertex="1">
          <mxGeometry y="129" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UtcVnRkvTnt2YdXW3frE-4" value="- awardContent: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="UtcVnRkvTnt2YdXW3frE-0" vertex="1">
          <mxGeometry y="155" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UtcVnRkvTnt2YdXW3frE-5" value="-strategyMode: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="UtcVnRkvTnt2YdXW3frE-0" vertex="1">
          <mxGeometry y="181" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UtcVnRkvTnt2YdXW3frE-6" value="- grantType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="UtcVnRkvTnt2YdXW3frE-0" vertex="1">
          <mxGeometry y="207" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UtcVnRkvTnt2YdXW3frE-7" value="- grantDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="UtcVnRkvTnt2YdXW3frE-0" vertex="1">
          <mxGeometry y="233" width="257" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ZQBqXq3dldslwM2GC8Z-0" value="Result" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#3399FF;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-1280" y="76" width="132" height="78" as="geometry" />
        </mxCell>
        <mxCell id="-ZQBqXq3dldslwM2GC8Z-1" value="- code:String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;" parent="-ZQBqXq3dldslwM2GC8Z-0" vertex="1">
          <mxGeometry y="26" width="132" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ZQBqXq3dldslwM2GC8Z-2" value="- info:String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=14;" parent="-ZQBqXq3dldslwM2GC8Z-0" vertex="1">
          <mxGeometry y="52" width="132" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ZQBqXq3dldslwM2GC8Z-3" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.992;exitY=-0.093;exitDx=0;exitDy=0;exitPerimeter=0;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="p6Ybe_qXDsyHCzhy_xir-1" source="p6Ybe_qXDsyHCzhy_xir-65" target="-ZQBqXq3dldslwM2GC8Z-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Biqh8qs-NDXOFn2QxTVi-0" value="QuantificationDrawReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;sketch=1;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-1558" y="305" width="206" height="104" as="geometry" />
        </mxCell>
        <mxCell id="Biqh8qs-NDXOFn2QxTVi-1" value="- treeId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="Biqh8qs-NDXOFn2QxTVi-0" vertex="1">
          <mxGeometry y="26" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Biqh8qs-NDXOFn2QxTVi-2" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;sketch=1;rounded=0;" parent="Biqh8qs-NDXOFn2QxTVi-0" vertex="1">
          <mxGeometry y="52" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Biqh8qs-NDXOFn2QxTVi-3" value="- valueMap: Map&lt;String,Object&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="Biqh8qs-NDXOFn2QxTVi-0" vertex="1">
          <mxGeometry y="78" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Biqh8qs-NDXOFn2QxTVi-5" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-1639" y="172" width="30" height="265" as="geometry" />
        </mxCell>
        <mxCell id="GbQPvsa4y8WDxUsdc1eK-0" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=232.5;entryDy=14;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#7EA6E0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;" parent="p6Ybe_qXDsyHCzhy_xir-1" source="GbQPvsa4y8WDxUsdc1eK-1" target="GbQPvsa4y8WDxUsdc1eK-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-726" y="221.9999999999999" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GbQPvsa4y8WDxUsdc1eK-1" value="lotter-interfaces" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-828" y="126.99999999999989" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GbQPvsa4y8WDxUsdc1eK-2" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.interfaces&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-957" y="281.9999999999999" width="425" height="76" as="geometry" />
        </mxCell>
        <mxCell id="GbQPvsa4y8WDxUsdc1eK-5" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;assembler&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-446" y="114.5" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="GbQPvsa4y8WDxUsdc1eK-6" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;facade&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-476" y="452.5" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="GbQPvsa4y8WDxUsdc1eK-8" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-521" y="141" width="30" height="398" as="geometry" />
        </mxCell>
        <mxCell id="GbQPvsa4y8WDxUsdc1eK-29" value="LotteryActivityBooth" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;sketch=1;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-179" y="409.5" width="320" height="145" as="geometry" />
        </mxCell>
        <mxCell id="GbQPvsa4y8WDxUsdc1eK-30" value=" - activityProcess:IActivityProcess" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="GbQPvsa4y8WDxUsdc1eK-29" vertex="1">
          <mxGeometry y="26" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GbQPvsa4y8WDxUsdc1eK-31" value="- awardMapping: IMapping&lt;DrawAwardVO, AwardDTO&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;sketch=1;rounded=0;" parent="GbQPvsa4y8WDxUsdc1eK-29" vertex="1">
          <mxGeometry y="52" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="GbQPvsa4y8WDxUsdc1eK-32" value="+ doDraw(DrawReq drawReq):DrawRes &#xa;+ doQuantificationDraw(QuantificationDrawReq &#xa;    quantificationDrawReq):DrawRes" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="GbQPvsa4y8WDxUsdc1eK-29" vertex="1">
          <mxGeometry y="78" width="320" height="67" as="geometry" />
        </mxCell>
        <mxCell id="GbQPvsa4y8WDxUsdc1eK-33" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-232" y="384" width="30" height="204.5" as="geometry" />
        </mxCell>
        <mxCell id="GbQPvsa4y8WDxUsdc1eK-35" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-238" y="25" width="30" height="265" as="geometry" />
        </mxCell>
        <mxCell id="GbQPvsa4y8WDxUsdc1eK-46" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i style=&quot;&quot;&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;/p&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;font&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;AwardMapping&amp;lt;DrawAwardVO,AwardDTO&lt;/b&gt;&lt;/font&gt;&lt;font&gt;&lt;b&gt;&amp;gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;sketch=1;rounded=0;fillColor=none;strokeColor=#7F00FF;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-178" y="40.5" width="326" height="97" as="geometry" />
        </mxCell>
        <mxCell id="GbQPvsa4y8WDxUsdc1eK-47" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i style=&quot;&quot;&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;/p&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;font&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; AwardMapping&amp;lt;SOURCE,TARGET&amp;gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;sketch=1;rounded=0;fillColor=none;strokeColor=#7F00FF;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-182" y="171.5" width="326" height="97" as="geometry" />
        </mxCell>
        <mxCell id="rDJPyMYgLfJjvUxsVeaN-0" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=232.5;entryDy=14;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#7EA6E0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;" parent="p6Ybe_qXDsyHCzhy_xir-1" source="rDJPyMYgLfJjvUxsVeaN-1" target="rDJPyMYgLfJjvUxsVeaN-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-756" y="740" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="rDJPyMYgLfJjvUxsVeaN-1" value="lotter-application" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=middle;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-858" y="645" width="207" height="50" as="geometry" />
        </mxCell>
        <mxCell id="rDJPyMYgLfJjvUxsVeaN-2" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;com.blcak.cat.lottery.application.process&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-987" y="800" width="425" height="76" as="geometry" />
        </mxCell>
        <mxCell id="rDJPyMYgLfJjvUxsVeaN-3" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;entryX=-0.014;entryY=0.345;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="p6Ybe_qXDsyHCzhy_xir-1" source="rDJPyMYgLfJjvUxsVeaN-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-83.51400000000012" y="683.1500000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rDJPyMYgLfJjvUxsVeaN-4" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;res&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-411" y="638" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="rDJPyMYgLfJjvUxsVeaN-7" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=185;exitDy=45;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="p6Ybe_qXDsyHCzhy_xir-1" source="rDJPyMYgLfJjvUxsVeaN-8" target="rDJPyMYgLfJjvUxsVeaN-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rDJPyMYgLfJjvUxsVeaN-8" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;impl&lt;/font&gt;" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-427" y="997" width="185" height="76" as="geometry" />
        </mxCell>
        <mxCell id="rDJPyMYgLfJjvUxsVeaN-9" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;hachureGap=4;fontFamily=Comic Sans MS;fontSize=20;direction=east;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-505" y="614" width="30" height="468" as="geometry" />
        </mxCell>
        <mxCell id="rDJPyMYgLfJjvUxsVeaN-10" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;ActivityProcessImpl&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- engineFilter: EngineFilter&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;border-color: var(--border-color); font-family: Helvetica; margin: 0px 0px 0px 4px;&quot;&gt;&lt;font style=&quot;border-color: var(--border-color);&quot; face=&quot;Comic Sans MS&quot;&gt;+ doRuleQuantificationCrowd(DecisionMatterReq req):&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;border-color: var(--border-color); font-family: Helvetica; margin: 0px 0px 0px 4px;&quot;&gt;&lt;font style=&quot;border-color: var(--border-color);&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;RuleQuantificationCrowdResult&amp;nbsp;&lt;/font&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#007FFF;rounded=0;fillColor=none;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-57" y="991" width="362" height="100" as="geometry" />
        </mxCell>
        <mxCell id="rDJPyMYgLfJjvUxsVeaN-11" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IActivityProcess&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ doRuleQuantificationCrowd(DecisionMatterReq req):&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;RuleQuantificationCrowdResult&amp;nbsp;&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;fillColor=none;strokeColor=#7F00FF;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-427" y="807" width="387" height="101" as="geometry" />
        </mxCell>
        <mxCell id="rDJPyMYgLfJjvUxsVeaN-15" value="RuleQuantificationCrowdResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;" parent="p6Ybe_qXDsyHCzhy_xir-1" vertex="1">
          <mxGeometry x="-83" y="655" width="217.5" height="52" as="geometry" />
        </mxCell>
        <mxCell id="rDJPyMYgLfJjvUxsVeaN-19" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="rDJPyMYgLfJjvUxsVeaN-15" vertex="1">
          <mxGeometry y="26" width="217.5" height="26" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第14章类图" id="xQyvD_zFmBhea6lUAIAs">
    <mxGraphModel dx="3771" dy="629" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="LyYANACEAgaFPvWGNgbp-0" />
        <mxCell id="LyYANACEAgaFPvWGNgbp-1" parent="LyYANACEAgaFPvWGNgbp-0" />
        <mxCell id="5YeS51cwuNH19JPdqHYC-3" style="edgeStyle=none;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.463;entryY=0.979;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="LyYANACEAgaFPvWGNgbp-1" source="LyYANACEAgaFPvWGNgbp-11" target="LyYANACEAgaFPvWGNgbp-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-11" value="DrawRes" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;sketch=1;" parent="LyYANACEAgaFPvWGNgbp-1" vertex="1">
          <mxGeometry x="-2402" y="321" width="206" height="52" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-12" value="-awardDTO: AwardDTO" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="LyYANACEAgaFPvWGNgbp-11" vertex="1">
          <mxGeometry y="26" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-13" value="DrawReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;sketch=1;" parent="LyYANACEAgaFPvWGNgbp-1" vertex="1">
          <mxGeometry x="-2164" y="308" width="206" height="78" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-14" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;sketch=1;rounded=0;" parent="LyYANACEAgaFPvWGNgbp-13" vertex="1">
          <mxGeometry y="26" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-15" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="LyYANACEAgaFPvWGNgbp-13" vertex="1">
          <mxGeometry y="52" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="5YeS51cwuNH19JPdqHYC-0" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;" parent="LyYANACEAgaFPvWGNgbp-1" source="LyYANACEAgaFPvWGNgbp-16" target="LyYANACEAgaFPvWGNgbp-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5YeS51cwuNH19JPdqHYC-1" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.513;entryY=0.996;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;" parent="LyYANACEAgaFPvWGNgbp-1" source="LyYANACEAgaFPvWGNgbp-16" target="LyYANACEAgaFPvWGNgbp-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5YeS51cwuNH19JPdqHYC-2" style="edgeStyle=none;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.471;entryY=1.06;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="LyYANACEAgaFPvWGNgbp-1" source="LyYANACEAgaFPvWGNgbp-16" target="LyYANACEAgaFPvWGNgbp-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-16" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;i style=&quot;&quot;&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;/p&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;font&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; I&lt;/b&gt;&lt;/font&gt;&lt;b&gt;LotteryActivityBooth&lt;/b&gt;&lt;/div&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ doDraw(DrawReq drawReq):DrawRes&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;+ doQuantificationDraw(QuantificationDrawReq&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;quantificationDrawReq):DrawRes&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;sketch=1;rounded=0;fillColor=none;strokeColor=#7F00FF;" parent="LyYANACEAgaFPvWGNgbp-1" vertex="1">
          <mxGeometry x="-2220" y="489" width="326" height="97" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-17" value="AwardDTO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#3399FF;swimlaneLine=1;fontColor=#000000;" parent="LyYANACEAgaFPvWGNgbp-1" vertex="1">
          <mxGeometry x="-2394" y="19" width="203" height="259" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-18" value="- userId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="LyYANACEAgaFPvWGNgbp-17" vertex="1">
          <mxGeometry y="26" width="203" height="25" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-19" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="LyYANACEAgaFPvWGNgbp-17" vertex="1">
          <mxGeometry y="51" width="203" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-20" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="LyYANACEAgaFPvWGNgbp-17" vertex="1">
          <mxGeometry y="77" width="203" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-21" value="- awardName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="LyYANACEAgaFPvWGNgbp-17" vertex="1">
          <mxGeometry y="103" width="203" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-22" value="- awardType : Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="LyYANACEAgaFPvWGNgbp-17" vertex="1">
          <mxGeometry y="129" width="203" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-23" value="- awardContent: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="LyYANACEAgaFPvWGNgbp-17" vertex="1">
          <mxGeometry y="155" width="203" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-24" value="-strategyMode: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="LyYANACEAgaFPvWGNgbp-17" vertex="1">
          <mxGeometry y="181" width="203" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-25" value="- grantType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="LyYANACEAgaFPvWGNgbp-17" vertex="1">
          <mxGeometry y="207" width="203" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-26" value="- grantDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="LyYANACEAgaFPvWGNgbp-17" vertex="1">
          <mxGeometry y="233" width="203" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-31" value="QuantificationDrawReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;sketch=1;" parent="LyYANACEAgaFPvWGNgbp-1" vertex="1">
          <mxGeometry x="-1924" y="293" width="206" height="104" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-32" value="- treeId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="LyYANACEAgaFPvWGNgbp-31" vertex="1">
          <mxGeometry y="26" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-33" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;sketch=1;rounded=0;" parent="LyYANACEAgaFPvWGNgbp-31" vertex="1">
          <mxGeometry y="52" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-34" value="- valueMap: Map&lt;String,Object&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="LyYANACEAgaFPvWGNgbp-31" vertex="1">
          <mxGeometry y="78" width="206" height="26" as="geometry" />
        </mxCell>
        <mxCell id="5YeS51cwuNH19JPdqHYC-4" style="edgeStyle=none;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.47;entryY=1.028;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=block;endFill=0;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=0;exitDx=0;exitDy=0;dashed=1;" parent="LyYANACEAgaFPvWGNgbp-1" source="LyYANACEAgaFPvWGNgbp-42" target="LyYANACEAgaFPvWGNgbp-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5MPiDmdD7jkGuuVX2A98-3" style="edgeStyle=none;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.504;exitY=0.994;exitDx=0;exitDy=0;exitPerimeter=0;" parent="LyYANACEAgaFPvWGNgbp-1" source="LyYANACEAgaFPvWGNgbp-45" target="LyYANACEAgaFPvWGNgbp-59" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2058" y="806" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-42" value="LotteryActivityBooth" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;sketch=1;" parent="LyYANACEAgaFPvWGNgbp-1" vertex="1">
          <mxGeometry x="-2227" y="665" width="320" height="133" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-43" value=" - activityProcess:IActivityProcess" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="LyYANACEAgaFPvWGNgbp-42" vertex="1">
          <mxGeometry y="26" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-44" value="- awardMapping: IMapping&lt;DrawAwardVO, AwardDTO&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;sketch=1;rounded=0;" parent="LyYANACEAgaFPvWGNgbp-42" vertex="1">
          <mxGeometry y="52" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-45" value="+ doDraw(DrawReq drawReq):DrawRes &#xa;+ doQuantificationDraw(QuantificationDrawReq &#xa;    quantificationDrawReq):DrawRes" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="LyYANACEAgaFPvWGNgbp-42" vertex="1">
          <mxGeometry y="78" width="320" height="55" as="geometry" />
        </mxCell>
        <mxCell id="5MPiDmdD7jkGuuVX2A98-1" style="edgeStyle=none;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=block;endFill=0;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;dashed=1;" parent="LyYANACEAgaFPvWGNgbp-1" source="LyYANACEAgaFPvWGNgbp-58" target="LyYANACEAgaFPvWGNgbp-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-58" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;ActivityProcessImpl&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;- engineFilter: EngineFilter&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;border-color: var(--border-color); font-family: Helvetica; margin: 0px 0px 0px 4px;&quot;&gt;&lt;font style=&quot;border-color: var(--border-color);&quot; face=&quot;Comic Sans MS&quot;&gt;+ doRuleQuantificationCrowd(DecisionMatterReq req):&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;border-color: var(--border-color); font-family: Helvetica; margin: 0px 0px 0px 4px;&quot;&gt;&lt;font style=&quot;border-color: var(--border-color);&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;RuleQuantificationCrowdResult&amp;nbsp;&lt;/font&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Comic Sans MS;html=1;strokeColor=#007FFF;rounded=0;fillColor=none;" parent="LyYANACEAgaFPvWGNgbp-1" vertex="1">
          <mxGeometry x="-2248" y="1034" width="362" height="100" as="geometry" />
        </mxCell>
        <mxCell id="5MPiDmdD7jkGuuVX2A98-2" style="edgeStyle=none;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.396;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="LyYANACEAgaFPvWGNgbp-1" source="LyYANACEAgaFPvWGNgbp-59" target="LyYANACEAgaFPvWGNgbp-61" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-2377" y="924" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-59" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IActivityProcess&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;+ doRuleQuantificationCrowd(DecisionMatterReq req):&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;RuleQuantificationCrowdResult&amp;nbsp;&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;fillColor=none;strokeColor=#7F00FF;" parent="LyYANACEAgaFPvWGNgbp-1" vertex="1">
          <mxGeometry x="-2246" y="880" width="358" height="88" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-60" value="RuleQuantificationCrowdResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#3399FF;rounded=0;" parent="LyYANACEAgaFPvWGNgbp-1" vertex="1">
          <mxGeometry x="-2460" y="798" width="210" height="52" as="geometry" />
        </mxCell>
        <mxCell id="LyYANACEAgaFPvWGNgbp-61" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="LyYANACEAgaFPvWGNgbp-60" vertex="1">
          <mxGeometry y="26" width="210" height="26" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="yym7QFF_eyw5f8c7Eo9q" name="第 16 章">
    <mxGraphModel dx="1290" dy="629" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="kM4upUdwU6jvE8vDlG7E-0" />
        <mxCell id="kM4upUdwU6jvE8vDlG7E-1" parent="kM4upUdwU6jvE8vDlG7E-0" />
        <mxCell id="UQasLMu5bkpt9KQ6ogla-0" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="340.0000000000002" y="158.7500000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-1" value="&lt;font style=&quot;font-size: 17px&quot;&gt;开始&lt;/font&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;sketch=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="290" y="28.75" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-2" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-3" target="UQasLMu5bkpt9KQ6ogla-45" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="630" y="183.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-3" value="领取活动" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="470" y="158.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-4" value="" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-5" target="UQasLMu5bkpt9KQ6ogla-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-5" value="领取完成" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="470" y="288.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-6" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-7" target="UQasLMu5bkpt9KQ6ogla-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-7" value="获取抽奖单信息" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="290" y="398.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-8" value="" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;fillColor=#b1ddf0;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="480.0000000000002" y="526" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-9" value="参与抽奖" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="290" y="498.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-10" value="" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-11" target="UQasLMu5bkpt9KQ6ogla-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-11" value="抽奖结果&lt;br&gt;奖品ID🏅" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="301.25" y="720" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;sketch=1;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-13" target="UQasLMu5bkpt9KQ6ogla-60" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-13" value="奖品落库" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="301.25" y="820.5" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-14" value="" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;dashed=1;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-15" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="341.2500000000002" y="1031.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-15" value="奖品落库结束" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#D0CEE2;strokeColor=#56517E;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="291.25" y="941.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-16" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-18" target="UQasLMu5bkpt9KQ6ogla-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-17" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fillColor=#b1ddf0;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-18" target="UQasLMu5bkpt9KQ6ogla-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-18" value="抽奖策略" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="650" y="503.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-19" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#b1ddf0;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-20" target="UQasLMu5bkpt9KQ6ogla-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-20" value="单项概率" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="830" y="503.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-21" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#b1ddf0;strokeColor=#000000;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-22" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1180" y="529" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-22" value="初始数据&lt;br&gt;斐波那契" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="1010" y="503.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-24" target="UQasLMu5bkpt9KQ6ogla-77" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-24" value="执行抽奖" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="660" y="620" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-25" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-26" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1130" y="458.75" />
              <mxPoint x="1130" y="528.75" />
            </Array>
            <mxPoint x="1180" y="529" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-26" value="总体概率" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="830" y="433.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-27" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-28" target="UQasLMu5bkpt9KQ6ogla-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-28" value="状态校验" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="800" y="158.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-29" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-30" target="UQasLMu5bkpt9KQ6ogla-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-30" value="日期校验" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="980" y="158.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-31" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-32" target="UQasLMu5bkpt9KQ6ogla-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-32" value="库存校验(总)" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="1160" y="158.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-33" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-34" target="UQasLMu5bkpt9KQ6ogla-53" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1390" y="283.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-34" value="参与次数" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="1340" y="158.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-35" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;gradientColor=none;rotation=-180;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="400" y="398.75" width="20" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-36" value="&lt;span&gt;takeId、s&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;menlo&amp;#34;&quot;&gt;trategyId&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="425" y="413.75" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-37" value="否" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=horizontal;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-40" target="UQasLMu5bkpt9KQ6ogla-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="390" y="228.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-38" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-40" target="UQasLMu5bkpt9KQ6ogla-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-39" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="UQasLMu5bkpt9KQ6ogla-38" vertex="1" connectable="0">
          <mxGeometry x="0.0054" y="14" relative="1" as="geometry">
            <mxPoint x="-12" y="-14" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-40" value="是否存在&lt;br&gt;未执行&lt;br&gt;抽奖单" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;sketch=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="290" y="153.75" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-41" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;gradientColor=none;rotation=90;dashed=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="1111.25" y="-180" width="20" height="640" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-42" value="活动信息校验信息" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="1080" y="110" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-43" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;user_take_activity 中存在state = 0&lt;br&gt;领取了但抽奖失败&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="110" y="130" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;sketch=1;strokeColor=#AE4132;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-45" target="UQasLMu5bkpt9KQ6ogla-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-45" value="查询活动账单" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="634" y="158.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-46" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;strokeColor=#9673A6;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-53" target="UQasLMu5bkpt9KQ6ogla-52" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1330" y="311" as="sourcePoint" />
            <mxPoint x="1190" y="311" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1335" y="314" />
              <mxPoint x="1255" y="314" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-47" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;font&gt;user_take_activity_count&amp;nbsp; &amp;nbsp; &amp;nbsp;和 activity&lt;/font&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="620" y="113.75" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-48" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;font&gt;activity的stock_surplus_count-1&lt;/font&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="1310" y="330" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-49" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;strokeColor=#9673A6;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-52" target="UQasLMu5bkpt9KQ6ogla-51" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="870" y="311.91666666666674" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-50" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;strokeColor=#9673A6;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-51" target="UQasLMu5bkpt9KQ6ogla-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-51" value="插入领取活动信息" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;rounded=1;arcSize=14;strokeWidth=2;sketch=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="760" y="290.63" width="110" height="46.25" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-52" value="扣减个人参与次数" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;rounded=1;arcSize=14;strokeWidth=2;sketch=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="1021.25" y="290.63" width="110" height="46.25" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-53" value="扣减活动库存" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;rounded=1;arcSize=14;strokeWidth=2;sketch=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="1335" y="288.75" width="110" height="46.25" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-54" value="&lt;div style=&quot;text-align: center&quot;&gt;插入或更新user_take_activity_count&lt;/div&gt;&lt;span style=&quot;text-align: center&quot;&gt;第一次新增，后面left_count -1&amp;nbsp;&lt;br&gt;&lt;br&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="980" y="250" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-55" value="&lt;div style=&quot;text-align: center&quot;&gt;插入user_take_activity&lt;/div&gt;&lt;span style=&quot;text-align: center&quot;&gt;state = 0(未使用)&amp;nbsp;&lt;br&gt;&lt;br&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="754" y="245" width="146" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-56" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;fontFamily=Comic Sans MS;direction=north;dashed=1;sketch=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="800" y="343.75" width="280" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-57" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;/div&gt;&lt;span style=&quot;text-align: center&quot;&gt;插入领取活动信息&lt;br&gt;&lt;br&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="875.25" y="393.75" width="114.75" height="26.25" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-58" value="&lt;span&gt;返回封装结果takeId、s&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;menlo&amp;#34;&quot;&gt;trategyId&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="425" y="260" width="190" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-59" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;sketch=1;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-60" target="UQasLMu5bkpt9KQ6ogla-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-60" value="锁定活动领取表" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="471.25" y="820.5" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-61" style="edgeStyle=orthogonalEdgeStyle;rounded=1;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;endFill=1;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-62" target="UQasLMu5bkpt9KQ6ogla-15" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="501.25" y="1021.75" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-62" value="保存抽奖信息&lt;br&gt;user_strategy_export" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="712.25" y="820.5" width="126" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-63" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;comic sans ms&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;user_take_activity 更新state = 1&lt;/span&gt;&lt;br style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;comic sans ms&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)&quot;&gt;当state = 0时候" style="text;whiteSpace=wrap;html=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="461.25" y="780" width="220" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-64" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-65" target="UQasLMu5bkpt9KQ6ogla-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-65" value="策略是否初始化" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="1180" y="503.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;strokeColor=#000000;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-67" target="UQasLMu5bkpt9KQ6ogla-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-67" value="获取被排除的抽奖列表" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="1340" y="503.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-68" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;/div&gt;&lt;span style=&quot;text-align: center&quot;&gt;奖品库存为0(策略详情表)或因为风控策略&lt;br&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="1322.6299999999999" y="460" width="134.75" height="51.25" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-69" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;strokeColor=#000000;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-70" target="UQasLMu5bkpt9KQ6ogla-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-70" value="查询抽奖策略&lt;br&gt;聚合信息" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="480" y="503.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-71" value="活动领域" style="html=1;fillColor=#FAD9D5;strokeColor=#b85450;sketch=1;rounded=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="450" y="33.75" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-72" value="抽奖策略领域" style="html=1;fillColor=#B1DDF0;strokeColor=#6c8ebf;sketch=1;rounded=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="590" y="33.75" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-73" value="新增用户策略&lt;br&gt;计算结果信息" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="720" y="33.75" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-74" value="发奖领域" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#f0a30a;strokeColor=#BD7000;fontColor=#000000;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="900" y="33.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;sketch=1;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-77" target="UQasLMu5bkpt9KQ6ogla-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="530" y="700" />
              <mxPoint x="351" y="700" />
              <mxPoint x="351" y="720" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-77" value="抽奖策略详情&lt;br&gt;库存扣减" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="480" y="620" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-78" value="" style="edgeStyle=elbowEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;dashed=1;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-90" target="UQasLMu5bkpt9KQ6ogla-83" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-79" value="异步接收MQ消息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="UQasLMu5bkpt9KQ6ogla-78" vertex="1" connectable="0">
          <mxGeometry x="-0.5091" y="2" relative="1" as="geometry">
            <mxPoint x="-102" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-80" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-81" target="UQasLMu5bkpt9KQ6ogla-89" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-81" value="发送MQ消息" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="287.5" y="1035" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-82" value="" style="edgeStyle=elbowEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;fillColor=#d5e8d4;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-83" target="UQasLMu5bkpt9KQ6ogla-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-83" value="触发奖品发货" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="287.5" y="1305" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-84" value="" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-85" target="UQasLMu5bkpt9KQ6ogla-95" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-85" value="获取奖品发货工厂服务(根据奖品类型)" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="461.5" y="1305" width="114.75" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-86" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-89" target="UQasLMu5bkpt9KQ6ogla-90" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="556.5" y="1060" />
              <mxPoint x="556.5" y="1175" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-87" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="UQasLMu5bkpt9KQ6ogla-86" vertex="1" connectable="0">
          <mxGeometry x="-0.0333" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-88" value="否" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-89" target="UQasLMu5bkpt9KQ6ogla-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-89" value="发送成功" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#36393d;strokeWidth=2;fillColor=#ffcc99;arcSize=14;sketch=1;rounded=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="446.5" y="1020" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-90" value="更新表，MQ状态&lt;br&gt;成功" style="whiteSpace=wrap;html=1;strokeColor=#36393d;strokeWidth=2;fillColor=#ffcc99;arcSize=14;sketch=1;rounded=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="617.5" y="1145" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-91" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-92" target="UQasLMu5bkpt9KQ6ogla-93" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-92" value="更新表，MQ状态&lt;br&gt;失败" style="whiteSpace=wrap;html=1;strokeColor=#36393d;strokeWidth=2;fillColor=#ffcc99;arcSize=14;sketch=1;rounded=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="617.5" y="1030" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-93" value="Worker 扫描表发送状态进行补偿发送MQ" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;rounded=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="827.5" y="1030" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-94" value="" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-95" target="UQasLMu5bkpt9KQ6ogla-100" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-95" value="执行发货" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="646.5" y="1300" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-96" value="" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-100" target="UQasLMu5bkpt9KQ6ogla-102" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="926.5" y="1330" />
              <mxPoint x="926.5" y="1435" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-97" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="UQasLMu5bkpt9KQ6ogla-96" vertex="1" connectable="0">
          <mxGeometry x="0.4222" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-98" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-100" target="UQasLMu5bkpt9KQ6ogla-104" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-99" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="UQasLMu5bkpt9KQ6ogla-98" vertex="1" connectable="0">
          <mxGeometry x="-0.1467" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-100" value="发货成功" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="817.5" y="1290" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-101" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-102" target="UQasLMu5bkpt9KQ6ogla-105" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-102" value="更新库表发货状态&lt;span style=&quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%E6%9B%B4%E6%96%B0%E8%A1%A8%EF%BC%8CMQ%E7%8A%B6%E6%80%81%26lt%3Bbr%26gt%3B%E6%88%90%E5%8A%9F%22%20style%3D%22whiteSpace%3Dwrap%3Bhtml%3D1%3Brounded%3D1%3BstrokeColor%3D%2336393d%3BstrokeWidth%3D2%3BfillColor%3D%23ffcc99%3BarcSize%3D14%3Bsketch%3D1%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22411%22%20y%3D%22755%22%20width%3D%22120%22%20height%3D%2260%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="976.5" y="1405" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-103" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="kM4upUdwU6jvE8vDlG7E-1" source="UQasLMu5bkpt9KQ6ogla-104" target="UQasLMu5bkpt9KQ6ogla-83" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1116.5" y="1330" />
              <mxPoint x="1116.5" y="1285" />
              <mxPoint x="337.5" y="1285" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-104" value="MQ 消息重试" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="976.5" y="1300" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-105" value="返回用户抽奖结果" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#e1d5e7;strokeColor=#9673a6;rounded=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="287.5" y="1515" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-106" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;flipH=1;sketch=1;rounded=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="957.5" y="1027.5" width="20" height="62.5" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-107" value="Worker 定时任务后续开发" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;rounded=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="982.5" y="1048.75" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-108" value="&lt;span&gt;user_strategy_export&lt;br&gt;的mq_state = 0&lt;br&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="391.25" y="951.75" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-109" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;的mq_state = 2&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="617.5" y="995" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-110" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;的mq_state = 1&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="617.5" y="1110" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-111" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;的grant_state = 1 发奖完成&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="976.5" y="1370" width="154.75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-112" value="查询strategy、strategy_detail" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="450" y="475.63" width="170" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UQasLMu5bkpt9KQ6ogla-113" value="查询award" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="kM4upUdwU6jvE8vDlG7E-1" vertex="1">
          <mxGeometry x="401.25" y="740" width="70" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第16章流程 " id="0n4yM_sT4_tWMcxUWvao">
    <mxGraphModel dx="8435" dy="2097" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="EHhq9aXgumWna_80POgC-0" />
        <mxCell id="EHhq9aXgumWna_80POgC-1" parent="EHhq9aXgumWna_80POgC-0" />
        <mxCell id="OccYN_ASbi2Jma0wwuGh-0" value="发奖领域" style="shape=umlFrame;whiteSpace=wrap;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;strokeColor=#FF6392;width=109;height=30;labelBackgroundColor=none;fillColor=#FFE45E;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3775" y="1946" width="1159" height="793" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-46" value="&lt;font&gt;&lt;b style=&quot;&quot;&gt;消费MQ&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FFD966;verticalAlign=top;fontFamily=Comic Sans MS;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3795" y="1648" width="941" height="246" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-2" value="&lt;font style=&quot;font-size: 16px&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;领取活动领域&lt;/b&gt;&lt;/font&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;strokeColor=#FF00FF;fillColor=none;width=118;height=49;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1650" y="5" width="1750" height="1804" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-3" value="DrawProcessReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#00FF00;rounded=0;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2391.5" y="575" width="177" height="78" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-4" value="- uId: String  //用户id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="EHhq9aXgumWna_80POgC-3" vertex="1">
          <mxGeometry y="26" width="177" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-5" value="- activityId: Long //活动id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="EHhq9aXgumWna_80POgC-3" vertex="1">
          <mxGeometry y="52" width="177" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-6" style="edgeStyle=none;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.481;entryY=0.962;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-7" target="EHhq9aXgumWna_80POgC-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-7" value="DrawProcessResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#00FF00;rounded=0;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2410" y="308" width="217.5" height="104" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-8" value="- drawAwardInfo: DrawAwardInfo" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="EHhq9aXgumWna_80POgC-7" vertex="1">
          <mxGeometry y="26" width="217.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-9" value="- code: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="EHhq9aXgumWna_80POgC-7" vertex="1">
          <mxGeometry y="52" width="217.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-10" value="- info: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="EHhq9aXgumWna_80POgC-7" vertex="1">
          <mxGeometry y="78" width="217.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-11" value=" DrawAwardInfo" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#00FF00;swimlaneLine=1;fontColor=#000000;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2402" y="52" width="198" height="208" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-12" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="EHhq9aXgumWna_80POgC-11" vertex="1">
          <mxGeometry y="26" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-13" value="- awardName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="EHhq9aXgumWna_80POgC-11" vertex="1">
          <mxGeometry y="52" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-14" value="- awardType : Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="EHhq9aXgumWna_80POgC-11" vertex="1">
          <mxGeometry y="78" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-15" value="- awardContent: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="EHhq9aXgumWna_80POgC-11" vertex="1">
          <mxGeometry y="104" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-16" value="-strategyMode: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="EHhq9aXgumWna_80POgC-11" vertex="1">
          <mxGeometry y="130" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-17" value="- grantType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="EHhq9aXgumWna_80POgC-11" vertex="1">
          <mxGeometry y="156" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-18" value="- grantDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="EHhq9aXgumWna_80POgC-11" vertex="1">
          <mxGeometry y="182" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-19" value="DrawOrderVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#00FF00;swimlaneLine=1;fontColor=#000000;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2762" y="646" width="222" height="364" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-20" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="EHhq9aXgumWna_80POgC-19" vertex="1">
          <mxGeometry y="26" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-21" value="- taskId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="EHhq9aXgumWna_80POgC-19" vertex="1">
          <mxGeometry y="52" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-22" value="- acvitityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="EHhq9aXgumWna_80POgC-19" vertex="1">
          <mxGeometry y="78" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-23" value="- orderId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="EHhq9aXgumWna_80POgC-19" vertex="1">
          <mxGeometry y="104" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-24" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="EHhq9aXgumWna_80POgC-19" vertex="1">
          <mxGeometry y="130" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-25" value="-strategyMode: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="EHhq9aXgumWna_80POgC-19" vertex="1">
          <mxGeometry y="156" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-26" value="- grantType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="EHhq9aXgumWna_80POgC-19" vertex="1">
          <mxGeometry y="182" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-27" value="- grantDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="EHhq9aXgumWna_80POgC-19" vertex="1">
          <mxGeometry y="208" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-28" value="- grantState: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="EHhq9aXgumWna_80POgC-19" vertex="1">
          <mxGeometry y="234" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-29" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="EHhq9aXgumWna_80POgC-19" vertex="1">
          <mxGeometry y="260" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-30" value="- awardName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="EHhq9aXgumWna_80POgC-19" vertex="1">
          <mxGeometry y="286" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-31" value="- awardType : Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="EHhq9aXgumWna_80POgC-19" vertex="1">
          <mxGeometry y="312" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-32" value="- awardContent: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="EHhq9aXgumWna_80POgC-19" vertex="1">
          <mxGeometry y="338" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-33" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ActivityProcessImpl&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#00FF00;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2204" y="448" width="468" height="115" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-34" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fontFamily=Comic Sans MS;sketch=1;curveFitting=1;jiggle=2;endFill=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-35" target="EHhq9aXgumWna_80POgC-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-35" value="&lt;font size=&quot;1&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b style=&quot;font-size: 16px;&quot;&gt;doDrawProcess()&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2082" y="497" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-36" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;sketch=1;curveFitting=1;jiggle=2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-35" target="EHhq9aXgumWna_80POgC-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1978.498" y="445.7619999999997" as="sourcePoint" />
            <mxPoint x="-2233" y="566" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-37" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.497;entryY=0.995;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="EHhq9aXgumWna_80POgC-1" target="EHhq9aXgumWna_80POgC-10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2083" y="516" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-38" value="&lt;font color=&quot;#00ff00&quot; face=&quot;Comic Sans MS&quot;&gt;doDrawProcess()流程&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;verticalAlign=top;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2192.5" y="663" width="434" height="735" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-39" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-40" target="EHhq9aXgumWna_80POgC-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-40" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1. 领取活动&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2078.5" y="709" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-41" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-42" target="EHhq9aXgumWna_80POgC-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-42" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1.1 领取失败直接封装返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2078.5" y="815" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-43" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-44" target="EHhq9aXgumWna_80POgC-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-44" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;2. 执行抽奖&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2078.5" y="913" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-45" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-46" target="EHhq9aXgumWna_80POgC-49" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-46" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;2.1 未中奖直接封装返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2082" y="1017" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-47" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-49" target="EHhq9aXgumWna_80POgC-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-49" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b style=&quot;&quot;&gt;3.保存抽奖信息，失败直接返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2082" y="1130.5" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-50" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-52" target="EHhq9aXgumWna_80POgC-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-51" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#FF0000;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-52" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-3120" y="1250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-52" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b style=&quot;&quot;&gt;4. 发送MQ，触发发奖流程&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2082" y="1228" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-53" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b style=&quot;&quot;&gt;5.封装返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2082" y="1334" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-54" value="PartakeReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#FF00FF;rounded=0;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1438" y="547" width="140" height="104" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-55" value="- partakeDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="EHhq9aXgumWna_80POgC-54" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-56" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="EHhq9aXgumWna_80POgC-54" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-57" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="EHhq9aXgumWna_80POgC-54" vertex="1">
          <mxGeometry y="78" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-58" value="PartakeResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#FF00FF;rounded=0;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1446" y="785.25" width="140" height="104" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-59" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="EHhq9aXgumWna_80POgC-58" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-60" value="- code: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="EHhq9aXgumWna_80POgC-58" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-61" value="- info: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="EHhq9aXgumWna_80POgC-58" vertex="1">
          <mxGeometry y="78" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-62" value="ActivityBillVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-510.25" y="504" width="207" height="286" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-63" value="- uId : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;" parent="EHhq9aXgumWna_80POgC-62" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-64" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="EHhq9aXgumWna_80POgC-62" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-65" value="- activityName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="EHhq9aXgumWna_80POgC-62" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-66" value="- beginDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="EHhq9aXgumWna_80POgC-62" vertex="1">
          <mxGeometry y="104" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-67" value="- endDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="EHhq9aXgumWna_80POgC-62" vertex="1">
          <mxGeometry y="130" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-68" value="- stockSurplusCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="EHhq9aXgumWna_80POgC-62" vertex="1">
          <mxGeometry y="156" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-69" value="- state: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="EHhq9aXgumWna_80POgC-62" vertex="1">
          <mxGeometry y="182" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-70" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;" parent="EHhq9aXgumWna_80POgC-62" vertex="1">
          <mxGeometry y="208" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-71" value="- takeCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="EHhq9aXgumWna_80POgC-62" vertex="1">
          <mxGeometry y="234" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-72" value="- userTakeLeftCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="EHhq9aXgumWna_80POgC-62" vertex="1">
          <mxGeometry y="260" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-73" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ActivityPartakeImpl&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1112.25" y="664" width="468" height="207" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-74" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;i style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BaseActivityPartake&lt;/font&gt;&lt;/i&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1106.25" y="926" width="192" height="131" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-75" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.45;exitY=1;exitDx=0;exitDy=0;sketch=1;curveFitting=1;jiggle=2;endFill=1;exitPerimeter=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-77" target="EHhq9aXgumWna_80POgC-79" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-76" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.986;entryY=0.919;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=1;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-77" target="EHhq9aXgumWna_80POgC-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-77" value="&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;doPartake()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1091.25" y="712" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-78" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.272;entryY=0.007;entryDx=0;entryDy=0;entryPerimeter=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-79" target="EHhq9aXgumWna_80POgC-81" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1056.107142857143" y="1073" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-79" value="&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;doPartake()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1098.25" y="982" width="162" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-80" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-77" target="EHhq9aXgumWna_80POgC-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-81" value="&lt;font color=&quot;#ff00ff&quot; style=&quot;font-size: 14px;&quot;&gt;doPartake()流程&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;verticalAlign=top;fillColor=none;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1106.25" y="1107" width="326" height="640" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-82" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-83" target="EHhq9aXgumWna_80POgC-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-83" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;2.查询活动账单&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1017.75" y="1281" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-84" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-85" target="EHhq9aXgumWna_80POgC-87" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-85" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;3.活动信息校验处理【活动库存、状态、日期、个人参与次数，若失败直接返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1049" y="1380" width="222.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-86" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-87" target="EHhq9aXgumWna_80POgC-89" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-87" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;4.扣减活动库存&amp;nbsp; 活动表的stockSurplusCount -1 目前是数据库扣减&amp;nbsp; 后期优化成redis(若失败直接返回)&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1043" y="1464" width="210.5" height="61" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-88" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-89" target="EHhq9aXgumWna_80POgC-90" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-89" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;5.领取活动信息【个人用户把活动信息写入到用户表】(若失败直接返回)&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1034.75" y="1579" width="200.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-90" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;6.封装结果【策略id】&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1017.75" y="1690" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-91" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ActivityPartakeSupport&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-726.25" y="1111" width="237" height="83" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-92" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;queryActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-685.25" y="1147" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-93" value="&lt;b style=&quot;border-color: var(--border-color); font-family: &amp;quot;comic sans ms&amp;quot;; text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;ActivityRepository&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-388.25" y="1054" width="338" height="150" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-94" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-95" target="EHhq9aXgumWna_80POgC-140" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-95" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;queryActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-352.25" y="1141" width="208" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-96" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-83" target="EHhq9aXgumWna_80POgC-92" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-600" y="1291" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-97" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-92" target="EHhq9aXgumWna_80POgC-95" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-98" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-101" target="EHhq9aXgumWna_80POgC-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-99" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-101" target="EHhq9aXgumWna_80POgC-85" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-741.25" y="783" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="-736" y="1394" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-100" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-101" target="EHhq9aXgumWna_80POgC-105" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-101" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;checkActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-818.25" y="719" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-102" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;参数&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Comic Sans MS;fontColor=default;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-595.25" y="703" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-103" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=0.466;entryY=1.077;entryDx=0;entryDy=0;entryPerimeter=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-95" target="EHhq9aXgumWna_80POgC-72" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-651.25" y="766" as="sourcePoint" />
            <mxPoint x="-512.25" y="766" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-104" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;返回值&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Comic Sans MS;fontColor=default;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-448.25" y="986" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-105" value="&lt;font color=&quot;#ff00ff&quot;&gt;checkActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()流程&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;verticalAlign=top;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-856.25" y="204" width="227" height="339" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-106" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-107" target="EHhq9aXgumWna_80POgC-109" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-107" value="&lt;b&gt;1.校验活动状态(是否为运行中)&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-828" y="236" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-108" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-109" target="EHhq9aXgumWna_80POgC-111" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-109" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;2&lt;font style=&quot;border-color: var(--border-color); font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;.校验&lt;/font&gt;活动日期&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-824.75" y="322" width="163.25" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-110" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-111" target="EHhq9aXgumWna_80POgC-112" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-111" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;3.校验&lt;/font&gt;活动库存&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-827.25" y="414" width="168.25" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-112" value="&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;4.校验个人参与次数&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-828" y="501" width="169.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-113" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-115" target="EHhq9aXgumWna_80POgC-89" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1132.25" y="791" />
              <mxPoint x="-1125" y="1598" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-114" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-115" target="EHhq9aXgumWna_80POgC-126" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-115" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;grabActivity&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-958.25" y="769" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-116" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.993;exitY=0.723;exitDx=0;exitDy=0;exitPerimeter=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-117" target="EHhq9aXgumWna_80POgC-87" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-796.25" y="839.9999999999998" as="sourcePoint" />
            <mxPoint x="-824.75" y="1366.5" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-791.25" y="846" />
              <mxPoint x="-786" y="1491" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-117" value="&lt;font style=&quot;&quot; face=&quot;Comic Sans MS&quot;&gt;subtractionActivityStock()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-960.25" y="819" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-118" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-120" target="EHhq9aXgumWna_80POgC-117" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-295.25" y="825" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-119" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-120" target="EHhq9aXgumWna_80POgC-121" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-120" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;subtractionActivityStock&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-342.75" y="1090" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-121" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;UPDATE activity SET stock_surplus_count = stock_surplus_count - 1&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;WHERE activity_id = #{activityId} AND stock_surplus_count &amp;gt; 0&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-243.25" y="922" width="309" height="71" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-122" value="&lt;b style=&quot;border-color: var(--border-color); text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;UserTakeActivityRepository&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1559.25" y="179" width="316" height="150" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-123" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;subtractionLeftCount&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1515.25" y="217" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-124" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-125" target="EHhq9aXgumWna_80POgC-151" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1615.25" y="266" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-125" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;takeActivity&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1517.75" y="270" width="203" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-126" value="&lt;font color=&quot;#ff00ff&quot; face=&quot;Comic Sans MS&quot;&gt;grabActivity&lt;font style=&quot;font-size: 14px;&quot;&gt;()流程&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;fillColor=default;verticalAlign=top;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1085.25" y="101" width="209" height="494" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-127" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-128" target="EHhq9aXgumWna_80POgC-130" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-128" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1.启动路由策略&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1060.25" y="144" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-129" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-130" target="EHhq9aXgumWna_80POgC-132" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-130" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;2.开始事务&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1060.25" y="225" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-131" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-132" target="EHhq9aXgumWna_80POgC-134" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-132" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;3.扣减个人已参与次数，错误直接返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1060.25" y="309" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-133" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-134" target="EHhq9aXgumWna_80POgC-136" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-134" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;4.插入领取活动信息&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1060.25" y="393" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-135" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-136" target="EHhq9aXgumWna_80POgC-137" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-136" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;5.事务提交，uId唯一，保证幂等性&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1056.25" y="473" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-137" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;6.清空路由上下文&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1056.25" y="550" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-138" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-123" target="EHhq9aXgumWna_80POgC-132" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-139" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-125" target="EHhq9aXgumWna_80POgC-134" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-140" value="&lt;font&gt;queryActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()流程&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#000000;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-384.25" y="1298" width="290.5" height="303" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-141" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-143" target="EHhq9aXgumWna_80POgC-146" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-142" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-143" target="EHhq9aXgumWna_80POgC-148" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-143" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1.活动相关信息&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-339.25" y="1353" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-144" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;endFill=1;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-146" target="EHhq9aXgumWna_80POgC-147" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-145" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-146" target="EHhq9aXgumWna_80POgC-149" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-146" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;2.个人领取次数&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-339.25" y="1442" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-147" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;3.封装返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-339.25" y="1525" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-148" value="&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;SELECT activity_id, activity_name, activity_desc, begin_date_time, end_date_time,&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;stock_count, stock_surplus_count, take_count, strategy_id, state, creator, create_time, update_time&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;FROM activity&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;WHERE activity_id = #{activityId}&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-699.25" y="1315.5" width="274" height="102" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-149" value="&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;SELECT total_count, left_count&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;FROM user_take_activity_count&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;WHERE u_id = #{uId} AND activity_id = #{activityId}&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-701.25" y="1442" width="279" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-150" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;扣减个人已参与次数 插入或更新user_take_activity_count&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;1.如果剩余领取次数是null是当前用户第一次抽奖插入user_take_activity_count(用户id、活动id、总个人领取次数、剩余领取次数)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;2.已经领取过更新user_take_activity_count 的leftCount-1&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1597.25" y="59" width="386" height="87" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-151" value="&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;2 新增user_take_activity&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 用户id、活动领取时间 从请求参数PartakeReq取&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 任务id:使用雪花算法产生&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 活动id、活动名称、每人可领取次数、剩余领取次数 字段从 ActivityBillVO活动账单取&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 已领取次数：每人可领取次数 - 剩余领取次数 + 1；剩余领取次数为null时是第一次领取&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; uuid：用户id + &quot;_&quot; + 活动id + &quot;_&quot; + 已领取次数&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1608" y="374" width="386" height="112" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-152" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.037;exitY=-0.047;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;exitPerimeter=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-123" target="EHhq9aXgumWna_80POgC-150" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-153" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=#FF0000;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-40" target="EHhq9aXgumWna_80POgC-77" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1641" y="728.2155816435431" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-154" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-156" target="EHhq9aXgumWna_80POgC-83" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-155" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-156" target="EHhq9aXgumWna_80POgC-157" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-156" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1. 查询是否存在未执行抽奖领取活动单&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1021" y="1182" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-157" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;SELECT activity_id, take_id, strategy_id, state&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;FROM user_take_activity&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;WHERE u_id = #{uId} AND activity_id = #{activityId} AND state = 0&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;ORDER BY id DESC&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;LIMIT 1&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1521" y="1147" width="319" height="111" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-158" value="&lt;font style=&quot;font-size: 16px&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;执行抽奖领域&lt;/b&gt;&lt;/font&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;strokeColor=#007FFF;fillColor=none;width=113;height=39;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2542.25" y="1901" width="3205" height="756" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-159" value="&lt;span style=&quot;background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;IStrategyRepository&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="306.75" y="2019.5" width="257" height="152.5" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-160" value="doDrawExec流程" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-561.25" y="1999" width="356" height="631" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-161" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;DrawExecImpl&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fillColor=none;verticalAlign=top;gradientColor=none;html=1;strokeColor=#007FFF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1644.25" y="2004" width="460" height="309" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-162" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.474;entryY=-0.003;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-165" target="EHhq9aXgumWna_80POgC-172" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-163" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-165" target="EHhq9aXgumWna_80POgC-167" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-164" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.012;entryY=0.418;entryDx=0;entryDy=0;entryPerimeter=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-165" target="EHhq9aXgumWna_80POgC-214" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1028.25" y="2089" as="sourcePoint" />
            <mxPoint x="-1130.25" y="2084" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-165" value="doDrawExec()" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1509.25" y="2245" width="231" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-166" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;start:执行抽奖&lt;/font&gt;&lt;/b&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1512.25" y="2212" width="127" height="30" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-167" value="DrawResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#3399FF;swimlaneLine=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1672.25" y="2381" width="252" height="130" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-168" value="- uId: String  //用户id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="EHhq9aXgumWna_80POgC-167" vertex="1">
          <mxGeometry y="26" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-169" value="- strategyId: Long //策略id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="EHhq9aXgumWna_80POgC-167" vertex="1">
          <mxGeometry y="52" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-170" value="- drawState: Integer //中奖状态" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="EHhq9aXgumWna_80POgC-167" vertex="1">
          <mxGeometry y="78" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-171" value="- drawAwardInfo : DrawAwardInfo" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="EHhq9aXgumWna_80POgC-167" vertex="1">
          <mxGeometry y="104" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-172" value="DrawReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#3399FF;swimlaneLine=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1374.25" y="2392" width="252" height="78" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-173" value="- uId: String  // 用户id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="EHhq9aXgumWna_80POgC-172" vertex="1">
          <mxGeometry y="26" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-174" value="- strategyId: Long  //策略id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="EHhq9aXgumWna_80POgC-172" vertex="1">
          <mxGeometry y="52" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-175" value="入参" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1216.25" y="2362" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-176" value="返回值" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1672.25" y="2351" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-177" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-178" target="EHhq9aXgumWna_80POgC-180" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-178" value="&amp;nbsp;1.根据抽奖策略id查询抽奖聚合信息" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-527.25" y="2058" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-179" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-180" target="EHhq9aXgumWna_80POgC-187" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-402.25" y="2284" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-180" value="2.初始化和校验数据" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-527.25" y="2172" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-181" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-182" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-398.25000000000045" y="2523" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-182" value="4.执行抽奖策略" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-527.25" y="2404" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-183" value="&lt;b&gt;DrawStrategySupport&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-71.25" y="2026" width="277" height="159" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-184" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-185" target="EHhq9aXgumWna_80POgC-178" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-185" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&amp;nbsp;queryStrategyRich(Long strategyId&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-52.75" y="2072" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-186" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-187" target="EHhq9aXgumWna_80POgC-182" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-187" value="3.获取不在抽奖范围内的列表" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-527.25" y="2288" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-188" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;chechAndInitRateData流程&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-652.25" y="2821" width="295" height="516" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-189" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-190" target="EHhq9aXgumWna_80POgC-192" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-190" value="&amp;nbsp; &amp;nbsp; 1.从抽奖策略组中获取具体抽奖策略算法，若为null，直接返回" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-640.25" y="2876" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-191" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-192" target="EHhq9aXgumWna_80POgC-193" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-192" value="2.判断当前抽奖策略算法是否已经初始化当前抽奖策略" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-640.25" y="3055" width="261.5" height="52" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-193" value="3.未初始化则进行初始化" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-642.75" y="3234" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-194" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-195" target="EHhq9aXgumWna_80POgC-240" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-195" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&lt;span&gt;&#x9;&lt;/span&gt; queryAwardInfo(String awardId)&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="325.25" y="2131" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-196" value="&lt;b&gt;BaseAlgorithm&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1058.25" y="2839" width="257" height="182" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-197" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-198" target="EHhq9aXgumWna_80POgC-190" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-721.25" y="2905.9999999999995" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-198" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;isExistRateTuple(Long strategyId)&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1033.25" y="2882" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-199" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-201" target="EHhq9aXgumWna_80POgC-193" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-923.25" y="3260" />
            </Array>
            <mxPoint x="-379.25" y="2879" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-200" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=1.001;entryY=0.324;entryDx=0;entryDy=0;entryPerimeter=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-201" target="EHhq9aXgumWna_80POgC-202" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-79.25" y="3127" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-201" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;initRateTuple()&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1033.25" y="2971" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-202" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;initRateTuple()流程&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1487.25" y="2839" width="336" height="468" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-203" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.508;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-204" target="EHhq9aXgumWna_80POgC-206" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-204" value="&amp;nbsp;1.存放策略id、奖品信息的map" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1464.25" y="2886" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-205" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-206" target="EHhq9aXgumWna_80POgC-208" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-206" value="&amp;nbsp;2.创建策略id、128个奖品id散列数组的map" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1475.25" y="3009" width="284" height="52" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-207" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-208" target="EHhq9aXgumWna_80POgC-209" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-208" value="&amp;nbsp;3.当前奖品的中奖概率*100，得到rateVal" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1472.25" y="3123" width="284" height="52" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-209" value="&amp;nbsp;4.Hash(概率范围内的每个值),&lt;br&gt;array[hash值] = 当前奖品id" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1469.25" y="3229" width="284" height="52" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-210" value="DrawAwardInfo" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;swimlaneLine=1;fillColor=none;strokeColor=#007FFF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1901.25" y="2563" width="254" height="78" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-211" value="- awardId: String" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="EHhq9aXgumWna_80POgC-210" vertex="1">
          <mxGeometry y="26" width="254" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-212" value="- awardName : String" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="EHhq9aXgumWna_80POgC-210" vertex="1">
          <mxGeometry y="52" width="254" height="26" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-213" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-171" target="EHhq9aXgumWna_80POgC-210" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1401.75" y="2332" as="sourcePoint" />
            <mxPoint x="-1536.25" y="2391" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-214" value="&lt;span style=&quot;font-style: italic ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot; color=&quot;#007fff&quot;&gt;AbstractDrawBase&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fillColor=none;verticalAlign=top;gradientColor=none;html=1;strokeColor=#007FFF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-984.25" y="2000" width="342" height="627" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-215" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-216" target="EHhq9aXgumWna_80POgC-178" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-216" value="doDrawExec()" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-923.75" y="2070" width="231" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-217" value="模板模式定义抽奖流程" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-918.25" y="2040" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-218" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;endSize=14;startSize=14;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-220" target="EHhq9aXgumWna_80POgC-180" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-219" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;entryX=0.827;entryY=0.169;entryDx=0;entryDy=0;entryPerimeter=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-220" target="EHhq9aXgumWna_80POgC-278" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1029.9165649414062" y="2789.8333587646484" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-954.25" y="2191" />
              <mxPoint x="-954.25" y="2758" />
              <mxPoint x="-596.25" y="2758" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-220" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;chechAndInitRateData()&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-925.75" y="2184" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-221" value="5.结果封装返回，若awardId为null未中奖，不为null查询奖品信息" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-534.25" y="2529" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-222" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-223" target="EHhq9aXgumWna_80POgC-185" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-223" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&amp;nbsp;queryStrategyRich(Long strategyId&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="321.75" y="2072" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-224" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-225" target="EHhq9aXgumWna_80POgC-187" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-225" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;queryExcludeAwardIds(）&amp;nbsp;&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-928.25" y="2300" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-226" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-227" target="EHhq9aXgumWna_80POgC-225" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-227" value="&lt;span style=&quot;color: rgb(0 , 127 , 255) ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;queryExcludeAwardIds(）&amp;nbsp;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1518.25" y="2170" width="231" height="34" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-228" value="&lt;span style=&quot;background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;IStrategyRepository&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1974.25" y="2127" width="305" height="141" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-229" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-231" target="EHhq9aXgumWna_80POgC-227" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-230" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-231" target="EHhq9aXgumWna_80POgC-280" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-231" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;queryNoStockStrategyAwardList(&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1912.75" y="2173" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-232" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-233" target="EHhq9aXgumWna_80POgC-182" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-233" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;drawAlgorithm()&lt;br&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-925.75" y="2416" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-234" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-235" target="EHhq9aXgumWna_80POgC-221" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-235" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;buildDrawResult()&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-928.25" y="2535" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-236" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-238" target="EHhq9aXgumWna_80POgC-233" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1068.25" y="2101" />
              <mxPoint x="-1068.25" y="2430" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-237" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-238" target="EHhq9aXgumWna_80POgC-267" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1910.25" y="2101" />
              <mxPoint x="-1910.25" y="2101" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-238" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;drawAlgorithm()&lt;br&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1512.25" y="2087" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-239" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-240" target="EHhq9aXgumWna_80POgC-221" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-240" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;queryAwardInfoByAwardId()&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-48.25" y="2131" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-241" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;SingleRateRandomDrawAlgorithm&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2535.25" y="2773.5" width="257" height="92" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-242" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-243" target="EHhq9aXgumWna_80POgC-244" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-243" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2516.75" y="2819.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-244" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)流程&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2530.5" y="2929.5" width="249.75" height="367" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-245" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-246" target="EHhq9aXgumWna_80POgC-248" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-246" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;1.获取当前策略的元数组&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2516.75" y="2982.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-247" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-248" target="EHhq9aXgumWna_80POgC-250" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-248" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;2.用SecureRandom生成一个随机数&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2516.75" y="3046.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-249" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-250" target="EHhq9aXgumWna_80POgC-252" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-250" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;3.生成的随机数获取波那契（Fibonacci）散列法的下标值&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2516.75" y="3110.5" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-251" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-252" target="EHhq9aXgumWna_80POgC-253" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-252" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;4.通过下标获取奖品id&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2516.75" y="3176.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-253" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;div&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;5.如在奖品排除id中，返回未中奖&amp;nbsp; ， 如不在返回奖品id&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2516.75" y="3240.5" width="220" height="44" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-254" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;DefaultRateRandomDrawAlgorithm&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2222.25" y="2773.5" width="257" height="92" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-255" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-256" target="EHhq9aXgumWna_80POgC-257" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-256" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2203.75" y="2819.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-257" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)流程&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2218.25" y="2927.5" width="249" height="367" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-258" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-259" target="EHhq9aXgumWna_80POgC-261" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-259" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;1.获取所有抽奖概率信息与排除的id，重新计算总共的概率&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2203.75" y="2966.5" width="220" height="44" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-260" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-261" target="EHhq9aXgumWna_80POgC-263" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-261" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;2.若新的抽奖概率信息只剩下0返回&quot;&quot;或者1个直接返回奖品id&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2203.75" y="3040.5" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-262" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-263" target="EHhq9aXgumWna_80POgC-265" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-263" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;3.生成随机数&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2203.75" y="3110.5" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-264" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-265" target="EHhq9aXgumWna_80POgC-266" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-265" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;4.重新计算当前奖品的概率&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2203.75" y="3176.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-266" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;div&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;5.比较随机数和当前奖品概率的范围，返回满足的&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2203.75" y="3240.5" width="220" height="44" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-267" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;drawAlgorithm()流程&lt;br&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2436.25" y="2030.75" width="395" height="351.25" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-268" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-271" target="EHhq9aXgumWna_80POgC-273" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-269" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-271" target="EHhq9aXgumWna_80POgC-241" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-270" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-271" target="EHhq9aXgumWna_80POgC-254" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-271" value="&amp;nbsp;1.执行抽奖，为null直接返回" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2361.25" y="2072" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-272" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-273" target="EHhq9aXgumWna_80POgC-274" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-273" value="&amp;nbsp;2.扣减库存" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2361.25" y="2204" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-274" value="3.扣减成功返回奖品id,失败返回null" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2361.25" y="2310" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-275" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-277" target="EHhq9aXgumWna_80POgC-273" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-276" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.475;exitY=0.94;exitDx=0;exitDy=0;exitPerimeter=0;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-277" target="EHhq9aXgumWna_80POgC-279" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-277" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;deductStock()&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-1916.25" y="2216" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-278" value="&lt;font style=&quot;font-size: 16px&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;抽奖算法领域&lt;/b&gt;&lt;/font&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;strokeColor=#007FFF;fillColor=none;width=113;height=39;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2549.25" y="2718" width="2361" height="662" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-279" value="&lt;div style=&quot;text-align: left; font-size: 14px;&quot;&gt;&lt;div style=&quot;&quot;&gt;UPDATE strategy_detail SET award_surplus_count = award_surplus_count - 1&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;WHERE strategy_id = #{strategyId} AND award_id = #{awardId} AND award_surplus_count &amp;gt; 0&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2013.75" y="2385.5" width="321" height="89" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-280" value="&lt;div style=&quot;font-size: 14px;&quot;&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;SELECT award_id&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; FROM strategy_detail&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; WHERE strategy_id = #{strategyId} AND&amp;nbsp;award_surplus_count&amp;nbsp;= 0&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;align=left;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2012.25" y="1926" width="335" height="102" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-281" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;strokeColor=#FF0000;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-44" target="EHhq9aXgumWna_80POgC-165" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1600" y="935" />
              <mxPoint x="-1594" y="2259" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-282" value="&lt;font&gt;&lt;b style=&quot;&quot;&gt;发送MQ&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FFD966;verticalAlign=top;fontFamily=Comic Sans MS;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3706" y="871" width="584" height="561" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-283" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ActivityPartakeImpl&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#00FF00;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2880" y="1069" width="468" height="155" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-284" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-286" target="EHhq9aXgumWna_80POgC-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-285" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fontFamily=Comic Sans MS;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-286" target="EHhq9aXgumWna_80POgC-287" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-286" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;recordDrawOrder()&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2754" y="1141.25" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-287" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;recordDrawOrder()流程&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;verticalAlign=top;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2808.5" y="1287" width="323" height="595" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-288" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-289" target="EHhq9aXgumWna_80POgC-291" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-289" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1.启动路由策略&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2744" y="1325.5" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-290" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-291" target="EHhq9aXgumWna_80POgC-294" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-291" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;2.开始事务&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2740" y="1411" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-292" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-294" target="EHhq9aXgumWna_80POgC-297" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-293" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-294" target="EHhq9aXgumWna_80POgC-300" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-294" value="&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;3.&lt;/font&gt;锁定活动领取记录&lt;span style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;; background-color: initial;&quot;&gt;，更新为0直接返回&lt;/span&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2740" y="1507" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-295" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-297" target="EHhq9aXgumWna_80POgC-299" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-296" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-297" target="EHhq9aXgumWna_80POgC-301" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-297" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;4.插入领取活动信息&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2740" y="1618" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-298" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-299" target="EHhq9aXgumWna_80POgC-302" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-299" value="&lt;b&gt;5.事务提交，uId唯一，保证幂等性&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2740" y="1722" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-300" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;UPDATE user_take_activity SET state = 1&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;WHERE u_id = #{uId} AND activity_id = #{activityId} AND state = 0&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3043" y="1479" width="195" height="89" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-301" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;INSERT INTO user_strategy_export&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;(u_id, activity_id, order_id, strategy_id, strategy_mode,&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;grant_type, grant_date, grant_state, award_id, award_type,&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;award_name, award_content, uuid, create_time, update_time)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;VALUES&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;(#{uId},#{activityId},#{orderId},#{strategyId},#{strategyMode},&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;#{grantType},#{grantDate},#{grantState},#{awardId},#{awardType},&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;#{awardName},#{awardContent},#{uuid},now(),now())&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2287" y="1536" width="451" height="208" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-302" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;6.清空路由上下文&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2740" y="1832" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="EHhq9aXgumWna_80POgC-48" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#FF0000;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="EHhq9aXgumWna_80POgC-1" source="EHhq9aXgumWna_80POgC-49" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2526" y="1153" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-1" value="" style="edgeStyle=elbowEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="86oGs29EvKCA5aBqI3EQ-43" target="86oGs29EvKCA5aBqI3EQ-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-3542.5" y="1563" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-2" value="&lt;b&gt;异步接收MQ消息&lt;/b&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="86oGs29EvKCA5aBqI3EQ-1" vertex="1" connectable="0">
          <mxGeometry x="-0.5091" y="2" relative="1" as="geometry">
            <mxPoint x="-191" y="-6" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-5" value="" style="edgeStyle=elbowEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;fillColor=#d5e8d4;" parent="EHhq9aXgumWna_80POgC-1" source="86oGs29EvKCA5aBqI3EQ-6" target="86oGs29EvKCA5aBqI3EQ-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-6" value="&lt;b&gt;触发奖品发货&lt;/b&gt;" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=none;strokeColor=#FFD966;rounded=0;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3735" y="1701.5" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-7" value="" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" parent="EHhq9aXgumWna_80POgC-1" source="86oGs29EvKCA5aBqI3EQ-8" target="86oGs29EvKCA5aBqI3EQ-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-38" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;strokeColor=#FF6392;fontColor=#5AA9E6;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;exitX=0.5;exitY=1;exitDx=0;exitDy=0;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="EHhq9aXgumWna_80POgC-1" source="86oGs29EvKCA5aBqI3EQ-8" target="OccYN_ASbi2Jma0wwuGh-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-8" value="&lt;b&gt;获取奖品发货工厂服务(根据奖品类型)&lt;/b&gt;" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=none;strokeColor=#FFD966;rounded=0;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3561" y="1701.5" width="114.75" height="50" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-17" value="" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" parent="EHhq9aXgumWna_80POgC-1" source="86oGs29EvKCA5aBqI3EQ-18" target="86oGs29EvKCA5aBqI3EQ-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-39" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF6392;fontColor=#5AA9E6;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="EHhq9aXgumWna_80POgC-1" source="86oGs29EvKCA5aBqI3EQ-18" target="OccYN_ASbi2Jma0wwuGh-28" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-3314" y="1766.4999999999995" as="sourcePoint" />
            <mxPoint x="-3432.5" y="2277" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-3313" y="2267" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-18" value="&lt;b&gt;执行发货&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=none;strokeColor=#FFD966;rounded=0;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3376" y="1696.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-19" value="" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="86oGs29EvKCA5aBqI3EQ-23" target="86oGs29EvKCA5aBqI3EQ-25" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-3096" y="1726.5" />
              <mxPoint x="-3096" y="1831.5" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-20" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="86oGs29EvKCA5aBqI3EQ-19" vertex="1" connectable="0">
          <mxGeometry x="0.4222" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-21" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="EHhq9aXgumWna_80POgC-1" source="86oGs29EvKCA5aBqI3EQ-23" target="86oGs29EvKCA5aBqI3EQ-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-22" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="86oGs29EvKCA5aBqI3EQ-21" vertex="1" connectable="0">
          <mxGeometry x="-0.1467" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-23" value="&lt;b&gt;发货成功&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=none;strokeColor=#FFD966;rounded=0;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3205" y="1686.5" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-25" value="&lt;b&gt;更新库表发货状态&lt;span style=&quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%E6%9B%B4%E6%96%B0%E8%A1%A8%EF%BC%8CMQ%E7%8A%B6%E6%80%81%26lt%3Bbr%26gt%3B%E6%88%90%E5%8A%9F%22%20style%3D%22whiteSpace%3Dwrap%3Bhtml%3D1%3Brounded%3D1%3BstrokeColor%3D%2336393d%3BstrokeWidth%3D2%3BfillColor%3D%23ffcc99%3BarcSize%3D14%3Bsketch%3D1%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22411%22%20y%3D%22755%22%20width%3D%22120%22%20height%3D%2260%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=none;strokeColor=#FFD966;rounded=0;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3046" y="1801.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-26" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="EHhq9aXgumWna_80POgC-1" source="86oGs29EvKCA5aBqI3EQ-27" target="86oGs29EvKCA5aBqI3EQ-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-2906" y="1726.5" />
              <mxPoint x="-2906" y="1681.5" />
              <mxPoint x="-3685" y="1681.5" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-27" value="&lt;b&gt;MQ 消息重试&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=none;strokeColor=#FFD966;rounded=0;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3046" y="1696.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-29" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;flipH=1;sketch=1;rounded=1;direction=west;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3963" y="1075.25" width="20" height="62.5" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-30" value="Worker 定时任务后续开发" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;rounded=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-4113" y="1096.5" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-31" value="&lt;b&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250);&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;的mq_state = 2&lt;/span&gt;&lt;/b&gt;" style="text;whiteSpace=wrap;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3685" y="1033" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-32" value="&lt;b&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250);&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;的mq_state = 1&lt;/span&gt;&lt;/b&gt;" style="text;whiteSpace=wrap;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3360" y="1250" width="152" height="40" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-33" value="&lt;b&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250);&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;的grant_state = 1 发奖完成&lt;/span&gt;&lt;/b&gt;" style="text;whiteSpace=wrap;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3046" y="1766.5" width="154.75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-36" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="EHhq9aXgumWna_80POgC-1" source="86oGs29EvKCA5aBqI3EQ-34" target="86oGs29EvKCA5aBqI3EQ-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-34" value="&lt;font size=&quot;1&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b style=&quot;font-size: 12px;&quot;&gt;1. 装换成中单发货单对象，发送消息&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FFD966;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3527.5" y="944" width="275" height="38" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-38" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="86oGs29EvKCA5aBqI3EQ-35" target="86oGs29EvKCA5aBqI3EQ-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-44" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="86oGs29EvKCA5aBqI3EQ-35" target="86oGs29EvKCA5aBqI3EQ-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-35" value="&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;消息是否发送成功&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#FFD966;rounded=0;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3455" y="1054" width="136" height="105" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-42" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="EHhq9aXgumWna_80POgC-1" source="86oGs29EvKCA5aBqI3EQ-37" target="86oGs29EvKCA5aBqI3EQ-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-37" value="&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;更新表，MQ状态&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;失败&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeColor=#FFD966;rounded=0;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3692.5" y="1076.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-40" value="&lt;b&gt;否&lt;/b&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3527.5" y="1069" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-41" value="&lt;b&gt;Worker 扫描表发送状态进行补偿发送MQ&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeColor=#7F00FF;rounded=0;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3932.5" y="1076.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-43" value="&lt;b&gt;更新表，MQ状态&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;成功&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeColor=#FFD966;rounded=0;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3453.5" y="1298" width="133" height="60" as="geometry" />
        </mxCell>
        <mxCell id="86oGs29EvKCA5aBqI3EQ-45" value="&lt;b&gt;是&lt;/b&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3447" y="1220" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-1" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=none;strokeColor=#FF6392;" parent="EHhq9aXgumWna_80POgC-1" source="OccYN_ASbi2Jma0wwuGh-2" target="OccYN_ASbi2Jma0wwuGh-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-2" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;DistributionGoodsFactory&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#FF6392;fillColor=none;verticalAlign=top;html=1;fontColor=#5AA9E6;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3754.5" y="2007" width="349" height="92" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-3" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=none;strokeColor=#FF6392;" parent="EHhq9aXgumWna_80POgC-1" source="OccYN_ASbi2Jma0wwuGh-4" target="OccYN_ASbi2Jma0wwuGh-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-4" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font&gt;&amp;nbsp;getDistributionGoodsService()&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3717.5" y="2058" width="283" height="28" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-5" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font&gt;GoodsConfig&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#FF6392;fillColor=none;verticalAlign=top;html=1;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontColor=#5AA9E6;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3252.5" y="2009" width="283" height="92" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-6" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=none;strokeColor=#FF6392;" parent="EHhq9aXgumWna_80POgC-1" source="OccYN_ASbi2Jma0wwuGh-7" target="OccYN_ASbi2Jma0wwuGh-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-7" value="&lt;font&gt;init()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3173.5" y="2058" width="126" height="28" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-8" value="&lt;font&gt;init()流程&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;verticalAlign=top;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3249" y="2203" width="277" height="152" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-9" value="&lt;font&gt;&lt;b style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;IDistributionGoods&lt;/b&gt;注入map&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3199.75" y="2263" width="184.75" height="56" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-10" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="EHhq9aXgumWna_80POgC-1" source="OccYN_ASbi2Jma0wwuGh-11" target="OccYN_ASbi2Jma0wwuGh-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-11" value="CouponGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=29;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF6392;swimlaneLine=1;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3411.5" y="2486" width="175" height="47" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-12" value="&lt;p style=&quot;font-family: &amp;quot;helvetica&amp;quot; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="OccYN_ASbi2Jma0wwuGh-11" vertex="1">
          <mxGeometry y="29" width="175" height="18" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-13" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="EHhq9aXgumWna_80POgC-1" source="OccYN_ASbi2Jma0wwuGh-14" target="OccYN_ASbi2Jma0wwuGh-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-14" value="DescGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=29;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF6392;swimlaneLine=1;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3199.5" y="2486" width="175" height="47" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-15" value="&lt;p style=&quot;font-family: &amp;quot;helvetica&amp;quot; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="OccYN_ASbi2Jma0wwuGh-14" vertex="1">
          <mxGeometry y="29" width="175" height="18" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-16" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.696;entryY=1.023;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.388;exitY=0.028;exitDx=0;exitDy=0;exitPerimeter=0;labelBackgroundColor=none;strokeColor=#FF6392;" parent="EHhq9aXgumWna_80POgC-1" source="OccYN_ASbi2Jma0wwuGh-17" target="OccYN_ASbi2Jma0wwuGh-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-17" value="PhysicalGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=29;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF6392;swimlaneLine=1;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3002.5" y="2486" width="175" height="47" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-18" value="&lt;p style=&quot;font-family: &amp;quot;helvetica&amp;quot; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="OccYN_ASbi2Jma0wwuGh-17" vertex="1">
          <mxGeometry y="29" width="175" height="18" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-19" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=1;entryDx=0;entryDy=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="EHhq9aXgumWna_80POgC-1" source="OccYN_ASbi2Jma0wwuGh-20" target="OccYN_ASbi2Jma0wwuGh-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-20" value="RedeemCodeGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=29;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF6392;swimlaneLine=1;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2796" y="2486" width="175" height="47" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-21" value="&lt;p style=&quot;font-family: &amp;quot;helvetica&amp;quot; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="OccYN_ASbi2Jma0wwuGh-20" vertex="1">
          <mxGeometry y="29" width="175" height="18" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-22" value="优惠券商品" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3416.5" y="2456" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-23" value="描述类商品" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3210.5" y="2453" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-24" value="实物类商品" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2928.5" y="2453" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-25" value="兑换券商品" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-2726" y="2445" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-26" value="&lt;b style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font&gt;IDistributionGoods&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;verticalAlign=top;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3767" y="2219" width="387" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-27" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="EHhq9aXgumWna_80POgC-1" source="OccYN_ASbi2Jma0wwuGh-28" target="OccYN_ASbi2Jma0wwuGh-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-28" value="&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot; ; font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font&gt;&amp;nbsp;doDistribution()&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3717.5" y="2253" width="283" height="28" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-29" value="&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot; ; font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font&gt;&amp;nbsp;doDistribution()流程&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;verticalAlign=top;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3715.5" y="2338" width="283" height="251" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-30" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="EHhq9aXgumWna_80POgC-1" source="OccYN_ASbi2Jma0wwuGh-31" target="OccYN_ASbi2Jma0wwuGh-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-31" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font face=&quot;comic sans ms&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;1.模拟发奖&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3683" y="2376" width="214" height="28" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-32" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="EHhq9aXgumWna_80POgC-1" source="OccYN_ASbi2Jma0wwuGh-33" target="OccYN_ASbi2Jma0wwuGh-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-33" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font face=&quot;comic sans ms&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;2.更新用户领奖状态&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3681" y="2458" width="214" height="28" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-34" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font face=&quot;comic sans ms&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;3.封装返回结果&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3681" y="2547" width="214" height="28" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-35" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="EHhq9aXgumWna_80POgC-1" source="OccYN_ASbi2Jma0wwuGh-36" target="OccYN_ASbi2Jma0wwuGh-33" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-3759.5" y="2663" />
              <mxPoint x="-3759.5" y="2472" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-36" value="AwardRepository" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF6392;swimlaneLine=1;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3715.5" y="2627" width="289" height="72" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-37" value="初始化" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3380" y="2014" width="80.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OccYN_ASbi2Jma0wwuGh-40" value="&lt;b&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250);&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;的grant_state = 1&amp;nbsp;&lt;/span&gt;&lt;/b&gt;" style="text;whiteSpace=wrap;html=1;" parent="EHhq9aXgumWna_80POgC-1" vertex="1">
          <mxGeometry x="-3556" y="2416" width="154.75" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第18章流程" id="V7RdF9VBMdsybDGNbuv3">
    <mxGraphModel dx="5425" dy="629" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-0" />
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-1" parent="-ESRot9jT2_2dOsZ1LsP-0" />
        <mxCell id="rfuG7Lr-awBhknbv8MOJ-22" value="&lt;b&gt;Worker 扫描表发送状态进行补偿发送MQ&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeColor=#7F00FF;rounded=0;verticalAlign=top;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-4032" y="591" width="930" height="259" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-2" value="发奖领域" style="shape=umlFrame;whiteSpace=wrap;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;strokeColor=#FF6392;width=109;height=30;labelBackgroundColor=none;fillColor=#FFE45E;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3775" y="1946" width="1159" height="793" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-3" value="&lt;font&gt;&lt;b style=&quot;&quot;&gt;消费MQ&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FFD966;verticalAlign=top;fontFamily=Comic Sans MS;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3795" y="1648" width="941" height="246" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-4" value="&lt;font style=&quot;font-size: 16px&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;领取活动领域&lt;/b&gt;&lt;/font&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;strokeColor=#FF00FF;fillColor=none;width=118;height=49;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1650" y="5" width="1750" height="1804" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-5" value="DrawProcessReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#00FF00;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2391.5" y="575" width="177" height="78" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-6" value="- uId: String  //用户id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-5" vertex="1">
          <mxGeometry y="26" width="177" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-7" value="- activityId: Long //活动id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-5" vertex="1">
          <mxGeometry y="52" width="177" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-8" style="edgeStyle=none;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.481;entryY=0.962;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-9" target="-ESRot9jT2_2dOsZ1LsP-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-9" value="DrawProcessResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#00FF00;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2410" y="308" width="217.5" height="104" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-10" value="- drawAwardInfo: DrawAwardInfo" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-9" vertex="1">
          <mxGeometry y="26" width="217.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-11" value="- code: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-9" vertex="1">
          <mxGeometry y="52" width="217.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-12" value="- info: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-9" vertex="1">
          <mxGeometry y="78" width="217.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-13" value=" DrawAwardInfo" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#00FF00;swimlaneLine=1;fontColor=#000000;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2402" y="52" width="198" height="208" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-14" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="-ESRot9jT2_2dOsZ1LsP-13" vertex="1">
          <mxGeometry y="26" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-15" value="- awardName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="-ESRot9jT2_2dOsZ1LsP-13" vertex="1">
          <mxGeometry y="52" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-16" value="- awardType : Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="-ESRot9jT2_2dOsZ1LsP-13" vertex="1">
          <mxGeometry y="78" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-17" value="- awardContent: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="-ESRot9jT2_2dOsZ1LsP-13" vertex="1">
          <mxGeometry y="104" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-18" value="-strategyMode: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="-ESRot9jT2_2dOsZ1LsP-13" vertex="1">
          <mxGeometry y="130" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-19" value="- grantType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="-ESRot9jT2_2dOsZ1LsP-13" vertex="1">
          <mxGeometry y="156" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-20" value="- grantDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="-ESRot9jT2_2dOsZ1LsP-13" vertex="1">
          <mxGeometry y="182" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-21" value="DrawOrderVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#00FF00;swimlaneLine=1;fontColor=#000000;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2762" y="646" width="222" height="364" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-22" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="-ESRot9jT2_2dOsZ1LsP-21" vertex="1">
          <mxGeometry y="26" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-23" value="- taskId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-21" vertex="1">
          <mxGeometry y="52" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-24" value="- acvitityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="-ESRot9jT2_2dOsZ1LsP-21" vertex="1">
          <mxGeometry y="78" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-25" value="- orderId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-21" vertex="1">
          <mxGeometry y="104" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-26" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-21" vertex="1">
          <mxGeometry y="130" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-27" value="-strategyMode: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="-ESRot9jT2_2dOsZ1LsP-21" vertex="1">
          <mxGeometry y="156" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-28" value="- grantType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="-ESRot9jT2_2dOsZ1LsP-21" vertex="1">
          <mxGeometry y="182" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-29" value="- grantDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="-ESRot9jT2_2dOsZ1LsP-21" vertex="1">
          <mxGeometry y="208" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-30" value="- grantState: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-21" vertex="1">
          <mxGeometry y="234" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-31" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="-ESRot9jT2_2dOsZ1LsP-21" vertex="1">
          <mxGeometry y="260" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-32" value="- awardName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="-ESRot9jT2_2dOsZ1LsP-21" vertex="1">
          <mxGeometry y="286" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-33" value="- awardType : Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="-ESRot9jT2_2dOsZ1LsP-21" vertex="1">
          <mxGeometry y="312" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-34" value="- awardContent: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="-ESRot9jT2_2dOsZ1LsP-21" vertex="1">
          <mxGeometry y="338" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-35" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ActivityProcessImpl&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#00FF00;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2204" y="448" width="468" height="115" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-36" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fontFamily=Comic Sans MS;sketch=1;curveFitting=1;jiggle=2;endFill=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-37" target="-ESRot9jT2_2dOsZ1LsP-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-37" value="&lt;font size=&quot;1&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b style=&quot;font-size: 16px;&quot;&gt;doDrawProcess()&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2082" y="497" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-38" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;sketch=1;curveFitting=1;jiggle=2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-37" target="-ESRot9jT2_2dOsZ1LsP-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1978.498" y="445.7619999999997" as="sourcePoint" />
            <mxPoint x="-2233" y="566" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-39" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.497;entryY=0.995;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="-ESRot9jT2_2dOsZ1LsP-1" target="-ESRot9jT2_2dOsZ1LsP-12" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2083" y="516" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-40" value="&lt;font color=&quot;#00ff00&quot; face=&quot;Comic Sans MS&quot;&gt;doDrawProcess()流程&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;verticalAlign=top;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2192.5" y="663" width="434" height="735" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-41" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-42" target="-ESRot9jT2_2dOsZ1LsP-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-42" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1. 领取活动&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2078.5" y="709" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-43" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-44" target="-ESRot9jT2_2dOsZ1LsP-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-44" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1.1 领取失败直接封装返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2078.5" y="815" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-45" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-46" target="-ESRot9jT2_2dOsZ1LsP-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-46" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;2. 执行抽奖&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2078.5" y="913" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-47" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-48" target="-ESRot9jT2_2dOsZ1LsP-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-48" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;2.1 未中奖直接封装返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2082" y="1017" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-49" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-50" target="-ESRot9jT2_2dOsZ1LsP-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-50" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b style=&quot;&quot;&gt;3.保存抽奖信息，失败直接返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2082" y="1130.5" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-51" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-53" target="-ESRot9jT2_2dOsZ1LsP-54" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-52" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#FF0000;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-53" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-3120" y="1250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-53" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b style=&quot;&quot;&gt;4. 发送MQ，触发发奖流程&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2082" y="1228" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-54" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b style=&quot;&quot;&gt;5.封装返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2082" y="1334" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-55" value="PartakeReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#FF00FF;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1438" y="547" width="140" height="104" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-56" value="- partakeDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-55" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-57" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-55" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-58" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-55" vertex="1">
          <mxGeometry y="78" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-59" value="PartakeResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#FF00FF;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1446" y="785.25" width="140" height="104" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-60" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-59" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-61" value="- code: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-59" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-62" value="- info: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-59" vertex="1">
          <mxGeometry y="78" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-63" value="ActivityBillVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-510.25" y="504" width="207" height="286" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-64" value="- uId : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;" parent="-ESRot9jT2_2dOsZ1LsP-63" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-65" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="-ESRot9jT2_2dOsZ1LsP-63" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-66" value="- activityName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="-ESRot9jT2_2dOsZ1LsP-63" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-67" value="- beginDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="-ESRot9jT2_2dOsZ1LsP-63" vertex="1">
          <mxGeometry y="104" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-68" value="- endDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="-ESRot9jT2_2dOsZ1LsP-63" vertex="1">
          <mxGeometry y="130" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-69" value="- stockSurplusCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="-ESRot9jT2_2dOsZ1LsP-63" vertex="1">
          <mxGeometry y="156" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-70" value="- state: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="-ESRot9jT2_2dOsZ1LsP-63" vertex="1">
          <mxGeometry y="182" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-71" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;" parent="-ESRot9jT2_2dOsZ1LsP-63" vertex="1">
          <mxGeometry y="208" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-72" value="- takeCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="-ESRot9jT2_2dOsZ1LsP-63" vertex="1">
          <mxGeometry y="234" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-73" value="- userTakeLeftCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="-ESRot9jT2_2dOsZ1LsP-63" vertex="1">
          <mxGeometry y="260" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-74" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ActivityPartakeImpl&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1112.25" y="664" width="468" height="207" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-75" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;i style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BaseActivityPartake&lt;/font&gt;&lt;/i&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1106.25" y="926" width="192" height="131" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-76" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.45;exitY=1;exitDx=0;exitDy=0;sketch=1;curveFitting=1;jiggle=2;endFill=1;exitPerimeter=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-78" target="-ESRot9jT2_2dOsZ1LsP-80" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-77" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.986;entryY=0.919;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=1;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-78" target="-ESRot9jT2_2dOsZ1LsP-60" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-78" value="&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;doPartake()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1091.25" y="712" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-79" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.272;entryY=0.007;entryDx=0;entryDy=0;entryPerimeter=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-80" target="-ESRot9jT2_2dOsZ1LsP-82" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1056.107142857143" y="1073" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-80" value="&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;doPartake()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1098.25" y="982" width="162" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-81" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-78" target="-ESRot9jT2_2dOsZ1LsP-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-82" value="&lt;font color=&quot;#ff00ff&quot; style=&quot;font-size: 14px;&quot;&gt;doPartake()流程&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;verticalAlign=top;fillColor=none;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1106.25" y="1107" width="326" height="640" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-83" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-84" target="-ESRot9jT2_2dOsZ1LsP-86" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-84" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;2.查询活动账单&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1017.75" y="1281" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-85" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-86" target="-ESRot9jT2_2dOsZ1LsP-88" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-86" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;3.活动信息校验处理【活动库存、状态、日期、个人参与次数，若失败直接返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1049" y="1380" width="222.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-87" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-88" target="-ESRot9jT2_2dOsZ1LsP-90" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-88" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;4.扣减活动库存&amp;nbsp; 活动表的stockSurplusCount -1 目前是数据库扣减&amp;nbsp; 后期优化成redis(若失败直接返回)&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1043" y="1464" width="210.5" height="61" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-89" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-90" target="-ESRot9jT2_2dOsZ1LsP-91" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-90" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;5.领取活动信息【个人用户把活动信息写入到用户表】(若失败直接返回)&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1034.75" y="1579" width="200.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-91" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;6.封装结果【策略id】&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1017.75" y="1690" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-92" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ActivityPartakeSupport&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-726.25" y="1111" width="237" height="83" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-93" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;queryActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-685.25" y="1147" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-94" value="&lt;b style=&quot;border-color: var(--border-color); font-family: &amp;quot;comic sans ms&amp;quot;; text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;ActivityRepository&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-388.25" y="1054" width="338" height="150" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-95" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-96" target="-ESRot9jT2_2dOsZ1LsP-141" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-96" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;queryActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-352.25" y="1141" width="208" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-97" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-84" target="-ESRot9jT2_2dOsZ1LsP-93" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-600" y="1291" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-98" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-93" target="-ESRot9jT2_2dOsZ1LsP-96" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-99" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-102" target="-ESRot9jT2_2dOsZ1LsP-68" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-100" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-102" target="-ESRot9jT2_2dOsZ1LsP-86" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-741.25" y="783" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="-736" y="1394" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-101" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-102" target="-ESRot9jT2_2dOsZ1LsP-106" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-102" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;checkActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-818.25" y="719" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-103" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;参数&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Comic Sans MS;fontColor=default;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-595.25" y="703" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-104" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=0.466;entryY=1.077;entryDx=0;entryDy=0;entryPerimeter=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-96" target="-ESRot9jT2_2dOsZ1LsP-73" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-651.25" y="766" as="sourcePoint" />
            <mxPoint x="-512.25" y="766" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-105" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;返回值&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Comic Sans MS;fontColor=default;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-448.25" y="986" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-106" value="&lt;font color=&quot;#ff00ff&quot;&gt;checkActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()流程&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;verticalAlign=top;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-856.25" y="204" width="227" height="339" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-107" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-108" target="-ESRot9jT2_2dOsZ1LsP-110" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-108" value="&lt;b&gt;1.校验活动状态(是否为运行中)&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-828" y="236" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-109" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-110" target="-ESRot9jT2_2dOsZ1LsP-112" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-110" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;2&lt;font style=&quot;border-color: var(--border-color); font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;.校验&lt;/font&gt;活动日期&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-824.75" y="322" width="163.25" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-111" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-112" target="-ESRot9jT2_2dOsZ1LsP-113" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-112" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;3.校验&lt;/font&gt;活动库存&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-827.25" y="414" width="168.25" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-113" value="&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;4.校验个人参与次数&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-828" y="501" width="169.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-114" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-116" target="-ESRot9jT2_2dOsZ1LsP-90" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1132.25" y="791" />
              <mxPoint x="-1125" y="1598" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-115" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-116" target="-ESRot9jT2_2dOsZ1LsP-127" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-116" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;grabActivity&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-958.25" y="769" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-117" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.993;exitY=0.723;exitDx=0;exitDy=0;exitPerimeter=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-118" target="-ESRot9jT2_2dOsZ1LsP-88" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-796.25" y="839.9999999999998" as="sourcePoint" />
            <mxPoint x="-824.75" y="1366.5" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-791.25" y="846" />
              <mxPoint x="-786" y="1491" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-118" value="&lt;font style=&quot;&quot; face=&quot;Comic Sans MS&quot;&gt;subtractionActivityStock()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-960.25" y="819" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-119" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-121" target="-ESRot9jT2_2dOsZ1LsP-118" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-295.25" y="825" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-120" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-121" target="-ESRot9jT2_2dOsZ1LsP-122" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-121" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;subtractionActivityStock&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-342.75" y="1090" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-122" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;UPDATE activity SET stock_surplus_count = stock_surplus_count - 1&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;WHERE activity_id = #{activityId} AND stock_surplus_count &amp;gt; 0&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-243.25" y="922" width="309" height="71" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-123" value="&lt;b style=&quot;border-color: var(--border-color); text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;UserTakeActivityRepository&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1559.25" y="179" width="316" height="150" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-124" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;subtractionLeftCount&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1515.25" y="217" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-125" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-126" target="-ESRot9jT2_2dOsZ1LsP-152" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1615.25" y="266" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-126" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;takeActivity&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1517.75" y="270" width="203" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-127" value="&lt;font color=&quot;#ff00ff&quot; face=&quot;Comic Sans MS&quot;&gt;grabActivity&lt;font style=&quot;font-size: 14px;&quot;&gt;()流程&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;fillColor=default;verticalAlign=top;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1085.25" y="101" width="209" height="494" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-128" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-129" target="-ESRot9jT2_2dOsZ1LsP-131" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-129" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1.启动路由策略&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1060.25" y="144" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-130" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-131" target="-ESRot9jT2_2dOsZ1LsP-133" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-131" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;2.开始事务&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1060.25" y="225" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-132" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-133" target="-ESRot9jT2_2dOsZ1LsP-135" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-133" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;3.扣减个人已参与次数，错误直接返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1060.25" y="309" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-134" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-135" target="-ESRot9jT2_2dOsZ1LsP-137" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-135" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;4.插入领取活动信息&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1060.25" y="393" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-136" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-137" target="-ESRot9jT2_2dOsZ1LsP-138" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-137" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;5.事务提交，uId唯一，保证幂等性&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1056.25" y="473" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-138" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;6.清空路由上下文&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1056.25" y="550" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-139" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-124" target="-ESRot9jT2_2dOsZ1LsP-133" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-140" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-126" target="-ESRot9jT2_2dOsZ1LsP-135" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-141" value="&lt;font&gt;queryActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()流程&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#000000;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-384.25" y="1298" width="290.5" height="303" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-142" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-144" target="-ESRot9jT2_2dOsZ1LsP-147" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-143" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-144" target="-ESRot9jT2_2dOsZ1LsP-149" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-144" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1.活动相关信息&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-339.25" y="1353" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-145" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;endFill=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-147" target="-ESRot9jT2_2dOsZ1LsP-148" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-146" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-147" target="-ESRot9jT2_2dOsZ1LsP-150" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-147" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;2.个人领取次数&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-339.25" y="1442" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-148" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;3.封装返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-339.25" y="1525" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-149" value="&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;SELECT activity_id, activity_name, activity_desc, begin_date_time, end_date_time,&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;stock_count, stock_surplus_count, take_count, strategy_id, state, creator, create_time, update_time&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;FROM activity&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;WHERE activity_id = #{activityId}&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-699.25" y="1315.5" width="274" height="102" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-150" value="&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;SELECT total_count, left_count&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;FROM user_take_activity_count&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;WHERE u_id = #{uId} AND activity_id = #{activityId}&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-701.25" y="1442" width="279" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-151" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;扣减个人已参与次数 插入或更新user_take_activity_count&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;1.如果剩余领取次数是null是当前用户第一次抽奖插入user_take_activity_count(用户id、活动id、总个人领取次数、剩余领取次数)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;2.已经领取过更新user_take_activity_count 的leftCount-1&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1597.25" y="59" width="386" height="87" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-152" value="&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;2 新增user_take_activity&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 用户id、活动领取时间 从请求参数PartakeReq取&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 任务id:使用雪花算法产生&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 活动id、活动名称、每人可领取次数、剩余领取次数 字段从 ActivityBillVO活动账单取&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 已领取次数：每人可领取次数 - 剩余领取次数 + 1；剩余领取次数为null时是第一次领取&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; uuid：用户id + &quot;_&quot; + 活动id + &quot;_&quot; + 已领取次数&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1608" y="374" width="386" height="112" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-153" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.037;exitY=-0.047;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;exitPerimeter=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-124" target="-ESRot9jT2_2dOsZ1LsP-151" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-154" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=#FF0000;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-42" target="-ESRot9jT2_2dOsZ1LsP-78" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1641" y="728.2155816435431" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-155" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-157" target="-ESRot9jT2_2dOsZ1LsP-84" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-156" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-157" target="-ESRot9jT2_2dOsZ1LsP-158" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-157" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1. 查询是否存在未执行抽奖领取活动单&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1021" y="1182" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-158" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;SELECT activity_id, take_id, strategy_id, state&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;FROM user_take_activity&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;WHERE u_id = #{uId} AND activity_id = #{activityId} AND state = 0&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;ORDER BY id DESC&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;LIMIT 1&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1521" y="1147" width="319" height="111" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-159" value="&lt;font style=&quot;font-size: 16px&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;执行抽奖领域&lt;/b&gt;&lt;/font&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;strokeColor=#007FFF;fillColor=none;width=113;height=39;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2542.25" y="1901" width="3205" height="756" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-160" value="&lt;span style=&quot;background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;IStrategyRepository&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="306.75" y="2019.5" width="257" height="152.5" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-161" value="doDrawExec流程" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-561.25" y="1999" width="356" height="631" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-162" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;DrawExecImpl&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fillColor=none;verticalAlign=top;gradientColor=none;html=1;strokeColor=#007FFF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1644.25" y="2004" width="460" height="309" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-163" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.474;entryY=-0.003;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-166" target="-ESRot9jT2_2dOsZ1LsP-173" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-164" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-166" target="-ESRot9jT2_2dOsZ1LsP-168" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-165" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.012;entryY=0.418;entryDx=0;entryDy=0;entryPerimeter=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-166" target="-ESRot9jT2_2dOsZ1LsP-215" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1028.25" y="2089" as="sourcePoint" />
            <mxPoint x="-1130.25" y="2084" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-166" value="doDrawExec()" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1509.25" y="2245" width="231" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-167" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;start:执行抽奖&lt;/font&gt;&lt;/b&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1512.25" y="2212" width="127" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-168" value="DrawResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#3399FF;swimlaneLine=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1672.25" y="2381" width="252" height="130" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-169" value="- uId: String  //用户id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="-ESRot9jT2_2dOsZ1LsP-168" vertex="1">
          <mxGeometry y="26" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-170" value="- strategyId: Long //策略id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="-ESRot9jT2_2dOsZ1LsP-168" vertex="1">
          <mxGeometry y="52" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-171" value="- drawState: Integer //中奖状态" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="-ESRot9jT2_2dOsZ1LsP-168" vertex="1">
          <mxGeometry y="78" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-172" value="- drawAwardInfo : DrawAwardInfo" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="-ESRot9jT2_2dOsZ1LsP-168" vertex="1">
          <mxGeometry y="104" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-173" value="DrawReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#3399FF;swimlaneLine=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1374.25" y="2392" width="252" height="78" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-174" value="- uId: String  // 用户id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="-ESRot9jT2_2dOsZ1LsP-173" vertex="1">
          <mxGeometry y="26" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-175" value="- strategyId: Long  //策略id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="-ESRot9jT2_2dOsZ1LsP-173" vertex="1">
          <mxGeometry y="52" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-176" value="入参" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1216.25" y="2362" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-177" value="返回值" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1672.25" y="2351" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-178" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-179" target="-ESRot9jT2_2dOsZ1LsP-181" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-179" value="&amp;nbsp;1.根据抽奖策略id查询抽奖聚合信息" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-527.25" y="2058" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-180" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-181" target="-ESRot9jT2_2dOsZ1LsP-188" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-402.25" y="2284" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-181" value="2.初始化和校验数据" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-527.25" y="2172" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-182" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-183" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-398.25000000000045" y="2523" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-183" value="4.执行抽奖策略" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-527.25" y="2404" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-184" value="&lt;b&gt;DrawStrategySupport&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-71.25" y="2026" width="277" height="159" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-185" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-186" target="-ESRot9jT2_2dOsZ1LsP-179" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-186" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&amp;nbsp;queryStrategyRich(Long strategyId&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-52.75" y="2072" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-187" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-188" target="-ESRot9jT2_2dOsZ1LsP-183" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-188" value="3.获取不在抽奖范围内的列表" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-527.25" y="2288" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-189" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;chechAndInitRateData流程&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-652.25" y="2821" width="295" height="516" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-190" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-191" target="-ESRot9jT2_2dOsZ1LsP-193" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-191" value="&amp;nbsp; &amp;nbsp; 1.从抽奖策略组中获取具体抽奖策略算法，若为null，直接返回" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-640.25" y="2876" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-192" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-193" target="-ESRot9jT2_2dOsZ1LsP-194" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-193" value="2.判断当前抽奖策略算法是否已经初始化当前抽奖策略" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-640.25" y="3055" width="261.5" height="52" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-194" value="3.未初始化则进行初始化" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-642.75" y="3234" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-195" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-196" target="-ESRot9jT2_2dOsZ1LsP-241" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-196" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&lt;span&gt;&#x9;&lt;/span&gt; queryAwardInfo(String awardId)&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="325.25" y="2131" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-197" value="&lt;b&gt;BaseAlgorithm&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1058.25" y="2839" width="257" height="182" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-198" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-199" target="-ESRot9jT2_2dOsZ1LsP-191" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-721.25" y="2905.9999999999995" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-199" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;isExistRateTuple(Long strategyId)&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1033.25" y="2882" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-200" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-202" target="-ESRot9jT2_2dOsZ1LsP-194" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-923.25" y="3260" />
            </Array>
            <mxPoint x="-379.25" y="2879" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-201" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=1.001;entryY=0.324;entryDx=0;entryDy=0;entryPerimeter=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-202" target="-ESRot9jT2_2dOsZ1LsP-203" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-79.25" y="3127" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-202" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;initRateTuple()&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1033.25" y="2971" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-203" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;initRateTuple()流程&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1487.25" y="2839" width="336" height="468" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-204" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.508;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-205" target="-ESRot9jT2_2dOsZ1LsP-207" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-205" value="&amp;nbsp;1.存放策略id、奖品信息的map" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1464.25" y="2886" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-206" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-207" target="-ESRot9jT2_2dOsZ1LsP-209" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-207" value="&amp;nbsp;2.创建策略id、128个奖品id散列数组的map" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1475.25" y="3009" width="284" height="52" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-208" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-209" target="-ESRot9jT2_2dOsZ1LsP-210" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-209" value="&amp;nbsp;3.当前奖品的中奖概率*100，得到rateVal" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1472.25" y="3123" width="284" height="52" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-210" value="&amp;nbsp;4.Hash(概率范围内的每个值),&lt;br&gt;array[hash值] = 当前奖品id" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1469.25" y="3229" width="284" height="52" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-211" value="DrawAwardInfo" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;swimlaneLine=1;fillColor=none;strokeColor=#007FFF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1901.25" y="2563" width="254" height="78" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-212" value="- awardId: String" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="-ESRot9jT2_2dOsZ1LsP-211" vertex="1">
          <mxGeometry y="26" width="254" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-213" value="- awardName : String" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="-ESRot9jT2_2dOsZ1LsP-211" vertex="1">
          <mxGeometry y="52" width="254" height="26" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-214" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-172" target="-ESRot9jT2_2dOsZ1LsP-211" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1401.75" y="2332" as="sourcePoint" />
            <mxPoint x="-1536.25" y="2391" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-215" value="&lt;span style=&quot;font-style: italic ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot; color=&quot;#007fff&quot;&gt;AbstractDrawBase&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fillColor=none;verticalAlign=top;gradientColor=none;html=1;strokeColor=#007FFF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-984.25" y="2000" width="342" height="627" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-216" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-217" target="-ESRot9jT2_2dOsZ1LsP-179" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-217" value="doDrawExec()" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-923.75" y="2070" width="231" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-218" value="模板模式定义抽奖流程" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-918.25" y="2040" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-219" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;endSize=14;startSize=14;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-221" target="-ESRot9jT2_2dOsZ1LsP-181" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-220" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;entryX=0.827;entryY=0.169;entryDx=0;entryDy=0;entryPerimeter=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-221" target="-ESRot9jT2_2dOsZ1LsP-279" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1029.9165649414062" y="2789.8333587646484" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-954.25" y="2191" />
              <mxPoint x="-954.25" y="2758" />
              <mxPoint x="-596.25" y="2758" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-221" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;chechAndInitRateData()&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-925.75" y="2184" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-222" value="5.结果封装返回，若awardId为null未中奖，不为null查询奖品信息" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-534.25" y="2529" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-223" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-224" target="-ESRot9jT2_2dOsZ1LsP-186" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-224" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&amp;nbsp;queryStrategyRich(Long strategyId&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="321.75" y="2072" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-225" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-226" target="-ESRot9jT2_2dOsZ1LsP-188" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-226" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;queryExcludeAwardIds(）&amp;nbsp;&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-928.25" y="2300" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-227" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-228" target="-ESRot9jT2_2dOsZ1LsP-226" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-228" value="&lt;span style=&quot;color: rgb(0 , 127 , 255) ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;queryExcludeAwardIds(）&amp;nbsp;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1518.25" y="2170" width="231" height="34" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-229" value="&lt;span style=&quot;background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;IStrategyRepository&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1974.25" y="2127" width="305" height="141" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-230" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-232" target="-ESRot9jT2_2dOsZ1LsP-228" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-231" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-232" target="-ESRot9jT2_2dOsZ1LsP-281" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-232" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;queryNoStockStrategyAwardList(&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1912.75" y="2173" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-233" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-234" target="-ESRot9jT2_2dOsZ1LsP-183" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-234" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;drawAlgorithm()&lt;br&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-925.75" y="2416" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-235" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-236" target="-ESRot9jT2_2dOsZ1LsP-222" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-236" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;buildDrawResult()&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-928.25" y="2535" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-237" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-239" target="-ESRot9jT2_2dOsZ1LsP-234" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1068.25" y="2101" />
              <mxPoint x="-1068.25" y="2430" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-238" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-239" target="-ESRot9jT2_2dOsZ1LsP-268" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1910.25" y="2101" />
              <mxPoint x="-1910.25" y="2101" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-239" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;drawAlgorithm()&lt;br&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1512.25" y="2087" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-240" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-241" target="-ESRot9jT2_2dOsZ1LsP-222" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-241" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;queryAwardInfoByAwardId()&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-48.25" y="2131" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-242" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;SingleRateRandomDrawAlgorithm&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2535.25" y="2773.5" width="257" height="92" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-243" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-244" target="-ESRot9jT2_2dOsZ1LsP-245" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-244" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2516.75" y="2819.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-245" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)流程&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2530.5" y="2929.5" width="249.75" height="367" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-246" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-247" target="-ESRot9jT2_2dOsZ1LsP-249" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-247" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;1.获取当前策略的元数组&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2516.75" y="2982.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-248" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-249" target="-ESRot9jT2_2dOsZ1LsP-251" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-249" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;2.用SecureRandom生成一个随机数&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2516.75" y="3046.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-250" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-251" target="-ESRot9jT2_2dOsZ1LsP-253" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-251" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;3.生成的随机数获取波那契（Fibonacci）散列法的下标值&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2516.75" y="3110.5" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-252" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-253" target="-ESRot9jT2_2dOsZ1LsP-254" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-253" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;4.通过下标获取奖品id&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2516.75" y="3176.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-254" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;div&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;5.如在奖品排除id中，返回未中奖&amp;nbsp; ， 如不在返回奖品id&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2516.75" y="3240.5" width="220" height="44" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-255" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;DefaultRateRandomDrawAlgorithm&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2222.25" y="2773.5" width="257" height="92" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-256" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-257" target="-ESRot9jT2_2dOsZ1LsP-258" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-257" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2203.75" y="2819.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-258" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)流程&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2218.25" y="2927.5" width="249" height="367" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-259" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-260" target="-ESRot9jT2_2dOsZ1LsP-262" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-260" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;1.获取所有抽奖概率信息与排除的id，重新计算总共的概率&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2203.75" y="2966.5" width="220" height="44" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-261" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-262" target="-ESRot9jT2_2dOsZ1LsP-264" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-262" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;2.若新的抽奖概率信息只剩下0返回&quot;&quot;或者1个直接返回奖品id&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2203.75" y="3040.5" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-263" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-264" target="-ESRot9jT2_2dOsZ1LsP-266" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-264" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;3.生成随机数&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2203.75" y="3110.5" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-265" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-266" target="-ESRot9jT2_2dOsZ1LsP-267" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-266" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;4.重新计算当前奖品的概率&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2203.75" y="3176.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-267" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;div&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;5.比较随机数和当前奖品概率的范围，返回满足的&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2203.75" y="3240.5" width="220" height="44" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-268" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;drawAlgorithm()流程&lt;br&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2436.25" y="2030.75" width="395" height="351.25" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-269" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-272" target="-ESRot9jT2_2dOsZ1LsP-274" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-270" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-272" target="-ESRot9jT2_2dOsZ1LsP-242" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-271" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-272" target="-ESRot9jT2_2dOsZ1LsP-255" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-272" value="&amp;nbsp;1.执行抽奖，为null直接返回" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2361.25" y="2072" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-273" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-274" target="-ESRot9jT2_2dOsZ1LsP-275" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-274" value="&amp;nbsp;2.扣减库存" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2361.25" y="2204" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-275" value="3.扣减成功返回奖品id,失败返回null" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2361.25" y="2310" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-276" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-278" target="-ESRot9jT2_2dOsZ1LsP-274" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-277" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.475;exitY=0.94;exitDx=0;exitDy=0;exitPerimeter=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-278" target="-ESRot9jT2_2dOsZ1LsP-280" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-278" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;deductStock()&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-1916.25" y="2216" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-279" value="&lt;font style=&quot;font-size: 16px&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;抽奖算法领域&lt;/b&gt;&lt;/font&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;strokeColor=#007FFF;fillColor=none;width=113;height=39;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2549.25" y="2718" width="2361" height="662" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-280" value="&lt;div style=&quot;text-align: left; font-size: 14px;&quot;&gt;&lt;div style=&quot;&quot;&gt;UPDATE strategy_detail SET award_surplus_count = award_surplus_count - 1&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;WHERE strategy_id = #{strategyId} AND award_id = #{awardId} AND award_surplus_count &amp;gt; 0&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2013.75" y="2385.5" width="321" height="89" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-281" value="&lt;div style=&quot;font-size: 14px;&quot;&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;SELECT award_id&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; FROM strategy_detail&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; WHERE strategy_id = #{strategyId} AND&amp;nbsp;award_surplus_count&amp;nbsp;= 0&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;align=left;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2012.25" y="1926" width="335" height="102" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-282" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;strokeColor=#FF0000;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-46" target="-ESRot9jT2_2dOsZ1LsP-166" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1600" y="935" />
              <mxPoint x="-1594" y="2259" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-283" value="&lt;font&gt;&lt;b style=&quot;&quot;&gt;发送MQ&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FFD966;verticalAlign=top;fontFamily=Comic Sans MS;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3706" y="871" width="584" height="561" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-284" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ActivityPartakeImpl&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#00FF00;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2880" y="1069" width="468" height="155" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-285" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-287" target="-ESRot9jT2_2dOsZ1LsP-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-286" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fontFamily=Comic Sans MS;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-287" target="-ESRot9jT2_2dOsZ1LsP-288" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-287" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;recordDrawOrder()&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2754" y="1141.25" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-288" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;recordDrawOrder()流程&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;verticalAlign=top;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2808.5" y="1287" width="323" height="595" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-289" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-290" target="-ESRot9jT2_2dOsZ1LsP-292" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-290" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1.启动路由策略&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2744" y="1325.5" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-291" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-292" target="-ESRot9jT2_2dOsZ1LsP-295" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-292" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;2.开始事务&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2740" y="1411" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-293" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-295" target="-ESRot9jT2_2dOsZ1LsP-298" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-294" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-295" target="-ESRot9jT2_2dOsZ1LsP-301" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-295" value="&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;3.&lt;/font&gt;锁定活动领取记录&lt;span style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;; background-color: initial;&quot;&gt;，更新为0直接返回&lt;/span&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2740" y="1507" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-296" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-298" target="-ESRot9jT2_2dOsZ1LsP-300" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-297" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-298" target="-ESRot9jT2_2dOsZ1LsP-302" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-298" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;4.插入领取活动信息&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2740" y="1618" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-299" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-300" target="-ESRot9jT2_2dOsZ1LsP-303" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-300" value="&lt;b&gt;5.事务提交，uId唯一，保证幂等性&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2740" y="1722" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-301" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;UPDATE user_take_activity SET state = 1&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;WHERE u_id = #{uId} AND activity_id = #{activityId} AND state = 0&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3043" y="1479" width="195" height="89" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-302" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;INSERT INTO user_strategy_export&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;(u_id, activity_id, order_id, strategy_id, strategy_mode,&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;grant_type, grant_date, grant_state, award_id, award_type,&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;award_name, award_content, uuid, create_time, update_time)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;VALUES&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;(#{uId},#{activityId},#{orderId},#{strategyId},#{strategyMode},&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;#{grantType},#{grantDate},#{grantState},#{awardId},#{awardType},&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;#{awardName},#{awardContent},#{uuid},now(),now())&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2287" y="1536" width="451" height="208" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-303" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;6.清空路由上下文&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2740" y="1832" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-304" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#FF0000;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-50" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2526" y="1153" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-305" value="" style="edgeStyle=elbowEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-337" target="-ESRot9jT2_2dOsZ1LsP-308" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-3542.5" y="1563" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-306" value="&lt;b&gt;异步接收MQ消息&lt;/b&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="-ESRot9jT2_2dOsZ1LsP-305" vertex="1" connectable="0">
          <mxGeometry x="-0.5091" y="2" relative="1" as="geometry">
            <mxPoint x="-191" y="-6" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-307" value="" style="edgeStyle=elbowEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;fillColor=#d5e8d4;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-308" target="-ESRot9jT2_2dOsZ1LsP-311" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-308" value="&lt;b&gt;触发奖品发货&lt;/b&gt;" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=none;strokeColor=#FFD966;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3735" y="1701.5" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-309" value="" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-311" target="-ESRot9jT2_2dOsZ1LsP-314" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-310" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;strokeColor=#FF6392;fontColor=#5AA9E6;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;exitX=0.5;exitY=1;exitDx=0;exitDy=0;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-311" target="-ESRot9jT2_2dOsZ1LsP-342" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-311" value="&lt;b&gt;获取奖品发货工厂服务(根据奖品类型)&lt;/b&gt;" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=none;strokeColor=#FFD966;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3561" y="1701.5" width="114.75" height="50" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-312" value="" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-314" target="-ESRot9jT2_2dOsZ1LsP-319" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-313" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF6392;fontColor=#5AA9E6;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-314" target="-ESRot9jT2_2dOsZ1LsP-366" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-3314" y="1766.4999999999995" as="sourcePoint" />
            <mxPoint x="-3432.5" y="2277" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-3313" y="2267" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-314" value="&lt;b&gt;执行发货&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=none;strokeColor=#FFD966;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3376" y="1696.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-315" value="" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-319" target="-ESRot9jT2_2dOsZ1LsP-320" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-3096" y="1726.5" />
              <mxPoint x="-3096" y="1831.5" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-316" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="-ESRot9jT2_2dOsZ1LsP-315" vertex="1" connectable="0">
          <mxGeometry x="0.4222" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-317" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-319" target="-ESRot9jT2_2dOsZ1LsP-322" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-318" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="-ESRot9jT2_2dOsZ1LsP-317" vertex="1" connectable="0">
          <mxGeometry x="-0.1467" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-319" value="&lt;b&gt;发货成功&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=none;strokeColor=#FFD966;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3205" y="1686.5" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-320" value="&lt;b&gt;更新库表发货状态&lt;span style=&quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%E6%9B%B4%E6%96%B0%E8%A1%A8%EF%BC%8CMQ%E7%8A%B6%E6%80%81%26lt%3Bbr%26gt%3B%E6%88%90%E5%8A%9F%22%20style%3D%22whiteSpace%3Dwrap%3Bhtml%3D1%3Brounded%3D1%3BstrokeColor%3D%2336393d%3BstrokeWidth%3D2%3BfillColor%3D%23ffcc99%3BarcSize%3D14%3Bsketch%3D1%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22411%22%20y%3D%22755%22%20width%3D%22120%22%20height%3D%2260%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=none;strokeColor=#FFD966;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3046" y="1801.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-321" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-322" target="-ESRot9jT2_2dOsZ1LsP-308" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-2906" y="1726.5" />
              <mxPoint x="-2906" y="1681.5" />
              <mxPoint x="-3685" y="1681.5" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-322" value="&lt;b&gt;MQ 消息重试&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=none;strokeColor=#FFD966;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3046" y="1696.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-325" value="&lt;b&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250);&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;的mq_state = 2&lt;/span&gt;&lt;/b&gt;" style="text;whiteSpace=wrap;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3685" y="1033" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-326" value="&lt;b&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250);&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;的mq_state = 1&lt;/span&gt;&lt;/b&gt;" style="text;whiteSpace=wrap;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3360" y="1250" width="152" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-327" value="&lt;b&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250);&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;的grant_state = 1 发奖完成&lt;/span&gt;&lt;/b&gt;" style="text;whiteSpace=wrap;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3046" y="1766.5" width="154.75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-328" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-329" target="-ESRot9jT2_2dOsZ1LsP-332" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-329" value="&lt;font size=&quot;1&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b style=&quot;font-size: 12px;&quot;&gt;1. 装换成中单发货单对象，发送消息&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FFD966;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3527.5" y="944" width="275" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-330" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-332" target="-ESRot9jT2_2dOsZ1LsP-334" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-331" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-332" target="-ESRot9jT2_2dOsZ1LsP-337" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-332" value="&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;消息是否发送成功&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#FFD966;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3455" y="1054" width="136" height="105" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-333" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-334" target="-ESRot9jT2_2dOsZ1LsP-336" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-334" value="&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;更新表，MQ状态&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;失败&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeColor=#FFD966;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3692.5" y="1076.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-335" value="&lt;b&gt;否&lt;/b&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3527.5" y="1069" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="rfuG7Lr-awBhknbv8MOJ-16" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#000000;fontColor=#5AA9E6;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="-ESRot9jT2_2dOsZ1LsP-1" target="rfuG7Lr-awBhknbv8MOJ-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-4010" y="775" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rfuG7Lr-awBhknbv8MOJ-19" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.01;exitY=0.596;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=#000000;fontFamily=Helvetica;fontSize=11;fontColor=#5AA9E6;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;exitPerimeter=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-336" target="rfuG7Lr-awBhknbv8MOJ-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-4009" y="1107" />
              <mxPoint x="-4013" y="652" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-336" value="&lt;b&gt;Worker 扫描表发送状态进行补偿发送MQ&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeColor=#7F00FF;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3950" y="1073" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-337" value="&lt;b&gt;更新表，MQ状态&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;成功&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeColor=#FFD966;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3453.5" y="1298" width="133" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-338" value="&lt;b&gt;是&lt;/b&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3447" y="1220" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-339" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=none;strokeColor=#FF6392;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-340" target="-ESRot9jT2_2dOsZ1LsP-343" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-340" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;DistributionGoodsFactory&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#FF6392;fillColor=none;verticalAlign=top;html=1;fontColor=#5AA9E6;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3754.5" y="2007" width="349" height="92" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-341" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=none;strokeColor=#FF6392;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-342" target="-ESRot9jT2_2dOsZ1LsP-364" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-342" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font&gt;&amp;nbsp;getDistributionGoodsService()&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3717.5" y="2058" width="283" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-343" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font&gt;GoodsConfig&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#FF6392;fillColor=none;verticalAlign=top;html=1;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontColor=#5AA9E6;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3252.5" y="2009" width="283" height="92" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-344" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=none;strokeColor=#FF6392;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-345" target="-ESRot9jT2_2dOsZ1LsP-346" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-345" value="&lt;font&gt;init()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3173.5" y="2058" width="126" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-346" value="&lt;font&gt;init()流程&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;verticalAlign=top;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3249" y="2203" width="277" height="152" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-347" value="&lt;font&gt;&lt;b style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;IDistributionGoods&lt;/b&gt;注入map&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3199.75" y="2263" width="184.75" height="56" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-348" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-349" target="-ESRot9jT2_2dOsZ1LsP-347" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-349" value="CouponGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=29;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF6392;swimlaneLine=1;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3411.5" y="2486" width="175" height="47" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-350" value="&lt;p style=&quot;font-family: &amp;quot;helvetica&amp;quot; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-349" vertex="1">
          <mxGeometry y="29" width="175" height="18" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-351" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-352" target="-ESRot9jT2_2dOsZ1LsP-347" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-352" value="DescGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=29;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF6392;swimlaneLine=1;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3199.5" y="2486" width="175" height="47" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-353" value="&lt;p style=&quot;font-family: &amp;quot;helvetica&amp;quot; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-352" vertex="1">
          <mxGeometry y="29" width="175" height="18" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-354" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.696;entryY=1.023;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.388;exitY=0.028;exitDx=0;exitDy=0;exitPerimeter=0;labelBackgroundColor=none;strokeColor=#FF6392;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-355" target="-ESRot9jT2_2dOsZ1LsP-347" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-355" value="PhysicalGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=29;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF6392;swimlaneLine=1;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3002.5" y="2486" width="175" height="47" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-356" value="&lt;p style=&quot;font-family: &amp;quot;helvetica&amp;quot; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-355" vertex="1">
          <mxGeometry y="29" width="175" height="18" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-357" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=1;entryDx=0;entryDy=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-358" target="-ESRot9jT2_2dOsZ1LsP-347" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-358" value="RedeemCodeGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=29;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF6392;swimlaneLine=1;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2796" y="2486" width="175" height="47" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-359" value="&lt;p style=&quot;font-family: &amp;quot;helvetica&amp;quot; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-358" vertex="1">
          <mxGeometry y="29" width="175" height="18" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-360" value="优惠券商品" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3416.5" y="2456" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-361" value="描述类商品" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3210.5" y="2453" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-362" value="实物类商品" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2928.5" y="2453" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-363" value="兑换券商品" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-2726" y="2445" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-364" value="&lt;b style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font&gt;IDistributionGoods&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;verticalAlign=top;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3767" y="2219" width="387" height="70" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-365" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-366" target="-ESRot9jT2_2dOsZ1LsP-367" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-366" value="&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot; ; font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font&gt;&amp;nbsp;doDistribution()&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3717.5" y="2253" width="283" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-367" value="&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot; ; font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font&gt;&amp;nbsp;doDistribution()流程&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;verticalAlign=top;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3715.5" y="2338" width="283" height="251" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-368" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-369" target="-ESRot9jT2_2dOsZ1LsP-371" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-369" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font face=&quot;comic sans ms&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;1.模拟发奖&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3683" y="2376" width="214" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-370" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-371" target="-ESRot9jT2_2dOsZ1LsP-372" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-371" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font face=&quot;comic sans ms&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;2.更新用户领奖状态&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3681" y="2458" width="214" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-372" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font face=&quot;comic sans ms&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;3.封装返回结果&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3681" y="2547" width="214" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-373" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="-ESRot9jT2_2dOsZ1LsP-374" target="-ESRot9jT2_2dOsZ1LsP-371" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-3759.5" y="2663" />
              <mxPoint x="-3759.5" y="2472" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-374" value="AwardRepository" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF6392;swimlaneLine=1;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3715.5" y="2627" width="289" height="72" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-375" value="初始化" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3380" y="2014" width="80.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ESRot9jT2_2dOsZ1LsP-376" value="&lt;b&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250);&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;的grant_state = 1&amp;nbsp;&lt;/span&gt;&lt;/b&gt;" style="text;whiteSpace=wrap;html=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3556" y="2416" width="154.75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="rfuG7Lr-awBhknbv8MOJ-1" value="扫描1库" style="whiteSpace=wrap;html=1;rounded=0;strokeWidth=2;arcSize=14;fillColor=none;strokeColor=#7F00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3950" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="rfuG7Lr-awBhknbv8MOJ-3" value="扫描2库" style="whiteSpace=wrap;html=1;rounded=0;strokeWidth=2;arcSize=14;fillColor=none;strokeColor=#7F00FF;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3950" y="745" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="rfuG7Lr-awBhknbv8MOJ-5" value="扫描4张表&lt;br&gt;读取未发送MQ数据" style="whiteSpace=wrap;html=1;rounded=0;strokeColor=#7F00FF;strokeWidth=2;fillColor=none;arcSize=14;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3750" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="rfuG7Lr-awBhknbv8MOJ-0" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="rfuG7Lr-awBhknbv8MOJ-1" target="rfuG7Lr-awBhknbv8MOJ-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rfuG7Lr-awBhknbv8MOJ-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="rfuG7Lr-awBhknbv8MOJ-3" target="rfuG7Lr-awBhknbv8MOJ-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rfuG7Lr-awBhknbv8MOJ-7" value="发送MQ消息" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=none;strokeColor=#7F00FF;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3581" y="645" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="rfuG7Lr-awBhknbv8MOJ-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="rfuG7Lr-awBhknbv8MOJ-5" target="rfuG7Lr-awBhknbv8MOJ-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rfuG7Lr-awBhknbv8MOJ-10" value="发送成功" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#7F00FF;strokeWidth=2;fillColor=none;arcSize=14;sketch=1;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3422" y="630" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="rfuG7Lr-awBhknbv8MOJ-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="rfuG7Lr-awBhknbv8MOJ-7" target="rfuG7Lr-awBhknbv8MOJ-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rfuG7Lr-awBhknbv8MOJ-21" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=#000000;fontFamily=Helvetica;fontSize=11;fontColor=#5AA9E6;endArrow=none;endFill=0;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="rfuG7Lr-awBhknbv8MOJ-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-3394" y="1529" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-3202" y="1529" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="rfuG7Lr-awBhknbv8MOJ-11" value="更新表，MQ状态&lt;br&gt;成功" style="whiteSpace=wrap;html=1;strokeColor=#7F00FF;strokeWidth=2;fillColor=none;arcSize=14;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3251" y="755" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="rfuG7Lr-awBhknbv8MOJ-12" value="更新表，MQ状态&lt;br&gt;失败" style="whiteSpace=wrap;html=1;strokeColor=#7F00FF;strokeWidth=2;fillColor=none;arcSize=14;rounded=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" vertex="1">
          <mxGeometry x="-3251" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="rfuG7Lr-awBhknbv8MOJ-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="rfuG7Lr-awBhknbv8MOJ-10" target="rfuG7Lr-awBhknbv8MOJ-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rfuG7Lr-awBhknbv8MOJ-9" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="rfuG7Lr-awBhknbv8MOJ-8" vertex="1" connectable="0">
          <mxGeometry x="-0.011" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rfuG7Lr-awBhknbv8MOJ-13" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="-ESRot9jT2_2dOsZ1LsP-1" source="rfuG7Lr-awBhknbv8MOJ-10" target="rfuG7Lr-awBhknbv8MOJ-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-3341.5" y="785" />
            </Array>
            <mxPoint x="-3621" y="795" as="sourcePoint" />
            <mxPoint x="-3530" y="910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rfuG7Lr-awBhknbv8MOJ-14" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="rfuG7Lr-awBhknbv8MOJ-13" vertex="1" connectable="0">
          <mxGeometry x="-0.0333" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="j8SvOOobrNDreULU3oeN" name="第18章">
    <mxGraphModel dx="1036" dy="614" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-0" />
        <mxCell id="zl6LglazHRqdnOvQ-VpU-1" parent="zl6LglazHRqdnOvQ-VpU-0" />
        <mxCell id="zl6LglazHRqdnOvQ-VpU-2" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="140" y="188.7500000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-3" value="&lt;font style=&quot;font-size: 17px&quot;&gt;开始&lt;/font&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;sketch=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="90" y="58.75" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-4" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-5" target="zl6LglazHRqdnOvQ-VpU-47" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="430" y="213.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-5" value="领取活动" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="270" y="188.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-6" value="" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-7" target="zl6LglazHRqdnOvQ-VpU-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-7" value="领取完成" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="270" y="318.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-8" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-9" target="zl6LglazHRqdnOvQ-VpU-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-9" value="获取抽奖单信息" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="90" y="428.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-10" value="" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;fillColor=#b1ddf0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="280" y="556" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-11" value="参与抽奖" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="90" y="528.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-12" value="" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-13" target="zl6LglazHRqdnOvQ-VpU-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-13" value="抽奖结果&lt;br&gt;奖品ID🏅" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="101.25" y="750" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;sketch=1;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-15" target="zl6LglazHRqdnOvQ-VpU-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-15" value="奖品落库" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="101.25" y="850.5" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-16" value="" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;dashed=1;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-17" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="141.25" y="1061.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-17" value="奖品落库结束" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#D0CEE2;strokeColor=#56517E;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="91.25" y="971.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-18" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-20" target="zl6LglazHRqdnOvQ-VpU-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-19" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fillColor=#b1ddf0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-20" target="zl6LglazHRqdnOvQ-VpU-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-20" value="抽奖策略" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="450" y="533.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-21" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#b1ddf0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-22" target="zl6LglazHRqdnOvQ-VpU-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-22" value="单项概率" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="630" y="533.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-23" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#b1ddf0;strokeColor=#000000;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-24" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="980" y="559" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-24" value="初始数据&lt;br&gt;斐波那契" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="810" y="533.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-26" target="zl6LglazHRqdnOvQ-VpU-79" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-26" value="执行抽奖" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="460" y="650" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-27" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-28" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="930" y="488.75" />
              <mxPoint x="930" y="558.75" />
            </Array>
            <mxPoint x="980" y="559" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-28" value="总体概率" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="630" y="463.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-29" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-30" target="zl6LglazHRqdnOvQ-VpU-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-30" value="状态校验" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="600" y="188.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-31" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-32" target="zl6LglazHRqdnOvQ-VpU-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-32" value="日期校验" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="780" y="188.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-33" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-34" target="zl6LglazHRqdnOvQ-VpU-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-34" value="库存校验(总)" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="960" y="188.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-35" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-36" target="zl6LglazHRqdnOvQ-VpU-55" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1190" y="313.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-36" value="参与次数" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="1140" y="188.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-37" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;gradientColor=none;rotation=-180;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="200" y="428.75" width="20" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-38" value="&lt;span&gt;takeId、s&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;menlo&amp;#34;&quot;&gt;trategyId&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="225" y="443.75" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-39" value="否" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=horizontal;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-42" target="zl6LglazHRqdnOvQ-VpU-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="190" y="258.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-40" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-42" target="zl6LglazHRqdnOvQ-VpU-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-41" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="zl6LglazHRqdnOvQ-VpU-40" vertex="1" connectable="0">
          <mxGeometry x="0.0054" y="14" relative="1" as="geometry">
            <mxPoint x="-12" y="-14" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-42" value="是否存在&lt;br&gt;未执行&lt;br&gt;抽奖单" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;sketch=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="90" y="183.75" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-43" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;gradientColor=none;rotation=90;dashed=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="911.25" y="-150" width="20" height="640" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-44" value="活动信息校验信息" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="880" y="140" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-45" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;user_take_activity 中存在state = 0&lt;br&gt;领取了但抽奖失败&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="40" y="140" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;sketch=1;strokeColor=#AE4132;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-47" target="zl6LglazHRqdnOvQ-VpU-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-47" value="查询活动账单" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="434" y="188.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-48" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;strokeColor=#9673A6;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-55" target="zl6LglazHRqdnOvQ-VpU-54" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1130" y="341" as="sourcePoint" />
            <mxPoint x="990" y="341" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1135" y="344" />
              <mxPoint x="1055" y="344" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-49" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;font&gt;user_take_activity_count&amp;nbsp; &amp;nbsp; &amp;nbsp;和 activity&lt;/font&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="420" y="143.75" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-50" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;font&gt;activity的stock_surplus_count-1&lt;/font&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="1110" y="360" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;strokeColor=#9673A6;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-54" target="zl6LglazHRqdnOvQ-VpU-53" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="670" y="341.91666666666674" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-52" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;strokeColor=#9673A6;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-53" target="zl6LglazHRqdnOvQ-VpU-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-53" value="插入领取活动信息" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;rounded=1;arcSize=14;strokeWidth=2;sketch=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="560" y="320.63" width="110" height="46.25" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-54" value="扣减个人参与次数" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;rounded=1;arcSize=14;strokeWidth=2;sketch=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="821.25" y="320.63" width="110" height="46.25" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-55" value="扣减活动库存" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;rounded=1;arcSize=14;strokeWidth=2;sketch=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="1135" y="318.75" width="110" height="46.25" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-56" value="&lt;div style=&quot;text-align: center&quot;&gt;插入或更新user_take_activity_count&lt;/div&gt;&lt;span style=&quot;text-align: center&quot;&gt;第一次新增，后面left_count -1&amp;nbsp;&lt;br&gt;&lt;br&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="780" y="280" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-57" value="&lt;div style=&quot;text-align: center&quot;&gt;插入user_take_activity&lt;/div&gt;&lt;span style=&quot;text-align: center&quot;&gt;state = 0(未使用)&amp;nbsp;&lt;br&gt;&lt;br&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="554" y="275" width="146" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-58" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;fontFamily=Comic Sans MS;direction=north;dashed=1;sketch=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="600" y="373.75" width="280" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-59" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;/div&gt;&lt;span style=&quot;text-align: center&quot;&gt;插入领取活动信息&lt;br&gt;&lt;br&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="675.25" y="423.75" width="114.75" height="26.25" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-60" value="&lt;span&gt;返回封装结果takeId、s&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;menlo&amp;#34;&quot;&gt;trategyId&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="225" y="290" width="190" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-61" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;sketch=1;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-62" target="zl6LglazHRqdnOvQ-VpU-64" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-62" value="锁定活动领取表" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="271.25" y="850.5" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-63" style="edgeStyle=orthogonalEdgeStyle;rounded=1;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;endFill=1;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-64" target="zl6LglazHRqdnOvQ-VpU-17" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="301.25" y="1051.75" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-64" value="保存抽奖信息&lt;br&gt;user_strategy_export" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="512.25" y="850.5" width="126" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-65" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;comic sans ms&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;user_take_activity 更新state = 1&lt;/span&gt;&lt;br style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;comic sans ms&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)&quot;&gt;当state = 0时候" style="text;whiteSpace=wrap;html=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="261.25" y="810" width="220" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-66" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-67" target="zl6LglazHRqdnOvQ-VpU-69" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-67" value="策略是否初始化" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="980" y="533.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;strokeColor=#000000;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-69" target="zl6LglazHRqdnOvQ-VpU-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-69" value="获取被排除的抽奖列表" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="1140" y="533.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-70" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;/div&gt;&lt;span style=&quot;text-align: center&quot;&gt;奖品库存为0(策略详情表)或因为风控策略&lt;br&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="1122.6299999999999" y="490" width="134.75" height="51.25" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-71" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;strokeColor=#000000;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-72" target="zl6LglazHRqdnOvQ-VpU-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-72" value="查询抽奖策略&lt;br&gt;聚合信息" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="280" y="533.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-73" value="活动领域" style="html=1;fillColor=#FAD9D5;strokeColor=#b85450;sketch=1;rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="250" y="63.75" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-74" value="抽奖策略领域" style="html=1;fillColor=#B1DDF0;strokeColor=#6c8ebf;sketch=1;rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="390" y="63.75" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-75" value="新增用户策略&lt;br&gt;计算结果信息" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="520" y="63.75" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-76" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;发奖领域&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#f0a30a;strokeColor=#BD7000;fontColor=#000000;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="721.25" y="63.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;sketch=1;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-79" target="zl6LglazHRqdnOvQ-VpU-13" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="330" y="730" />
              <mxPoint x="151" y="730" />
              <mxPoint x="151" y="750" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-79" value="抽奖策略详情&lt;br&gt;库存扣减" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="280" y="650" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-80" value="" style="edgeStyle=elbowEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;dashed=1;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-92" target="zl6LglazHRqdnOvQ-VpU-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-81" value="异步接收MQ消息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-80" vertex="1" connectable="0">
          <mxGeometry x="-0.5091" y="2" relative="1" as="geometry">
            <mxPoint x="-102" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-82" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-83" target="zl6LglazHRqdnOvQ-VpU-91" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-83" value="发送MQ消息" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="87.5" y="1065" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-84" value="" style="edgeStyle=elbowEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;fillColor=#d5e8d4;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-85" target="zl6LglazHRqdnOvQ-VpU-87" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-85" value="触发奖品发货" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="87.5" y="1335" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-86" value="" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-87" target="zl6LglazHRqdnOvQ-VpU-97" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-87" value="获取奖品发货工厂服务(根据奖品类型)" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="261.5" y="1335" width="114.75" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-88" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-91" target="zl6LglazHRqdnOvQ-VpU-92" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="356.5" y="1090" />
              <mxPoint x="356.5" y="1205" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-89" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-88" vertex="1" connectable="0">
          <mxGeometry x="-0.0333" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-90" value="否" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-91" target="zl6LglazHRqdnOvQ-VpU-94" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-91" value="发送成功" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#36393d;strokeWidth=2;fillColor=#ffcc99;arcSize=14;sketch=1;rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="246.5" y="1050" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-92" value="更新表，MQ状态&lt;br&gt;成功" style="whiteSpace=wrap;html=1;strokeColor=#36393d;strokeWidth=2;fillColor=#ffcc99;arcSize=14;sketch=1;rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="417.5" y="1175" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-93" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-94" target="zl6LglazHRqdnOvQ-VpU-95" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-94" value="更新表，MQ状态&lt;br&gt;失败" style="whiteSpace=wrap;html=1;strokeColor=#36393d;strokeWidth=2;fillColor=#ffcc99;arcSize=14;sketch=1;rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="417.5" y="1060" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-95" value="Worker 扫描表发送状态进行补偿发送MQ" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="627.5" y="1060" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-96" value="" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-97" target="zl6LglazHRqdnOvQ-VpU-102" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-97" value="执行发货" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="446.5" y="1330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-98" value="" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-102" target="zl6LglazHRqdnOvQ-VpU-104" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="726.5" y="1360" />
              <mxPoint x="726.5" y="1465" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-99" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-98" vertex="1" connectable="0">
          <mxGeometry x="0.4222" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-100" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-102" target="zl6LglazHRqdnOvQ-VpU-106" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-101" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-100" vertex="1" connectable="0">
          <mxGeometry x="-0.1467" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-102" value="发货成功" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="617.5" y="1320" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-103" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-104" target="zl6LglazHRqdnOvQ-VpU-107" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-104" value="更新库表发货状态&lt;span style=&quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%E6%9B%B4%E6%96%B0%E8%A1%A8%EF%BC%8CMQ%E7%8A%B6%E6%80%81%26lt%3Bbr%26gt%3B%E6%88%90%E5%8A%9F%22%20style%3D%22whiteSpace%3Dwrap%3Bhtml%3D1%3Brounded%3D1%3BstrokeColor%3D%2336393d%3BstrokeWidth%3D2%3BfillColor%3D%23ffcc99%3BarcSize%3D14%3Bsketch%3D1%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22411%22%20y%3D%22755%22%20width%3D%22120%22%20height%3D%2260%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="776.5" y="1435" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-105" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="zl6LglazHRqdnOvQ-VpU-1" source="zl6LglazHRqdnOvQ-VpU-106" target="zl6LglazHRqdnOvQ-VpU-85" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="916.5" y="1360" />
              <mxPoint x="916.5" y="1315" />
              <mxPoint x="137.5" y="1315" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-106" value="MQ 消息重试" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="776.5" y="1330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-107" value="返回用户抽奖结果" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#e1d5e7;strokeColor=#9673a6;rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="87.5" y="1545" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-110" value="&lt;span&gt;user_strategy_export&lt;br&gt;的mq_state = 0&lt;br&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="191.25" y="981.75" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-111" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;的mq_state = 2&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="417.5" y="1025" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-112" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;的mq_state = 1&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="417.5" y="1140" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-113" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;的grant_state = 1 发奖完成&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="776.5" y="1400" width="154.75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-114" value="查询strategy、strategy_detail" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="250" y="505.63" width="170" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zl6LglazHRqdnOvQ-VpU-115" value="查询award" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="201.25" y="770" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Gyh17LPx9LKkHN_kh5PN-0" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="zl6LglazHRqdnOvQ-VpU-1" target="Gyh17LPx9LKkHN_kh5PN-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="747.5" y="1090" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Gyh17LPx9LKkHN_kh5PN-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="zl6LglazHRqdnOvQ-VpU-1" target="Gyh17LPx9LKkHN_kh5PN-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="747.5" y="1090" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Gyh17LPx9LKkHN_kh5PN-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="zl6LglazHRqdnOvQ-VpU-1" source="Gyh17LPx9LKkHN_kh5PN-3" target="Gyh17LPx9LKkHN_kh5PN-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gyh17LPx9LKkHN_kh5PN-3" value="扫描1库" style="whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="827.5" y="1060" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Gyh17LPx9LKkHN_kh5PN-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="Gyh17LPx9LKkHN_kh5PN-5" target="Gyh17LPx9LKkHN_kh5PN-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gyh17LPx9LKkHN_kh5PN-5" value="扫描2库" style="whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="827.5" y="1165" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Gyh17LPx9LKkHN_kh5PN-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="Gyh17LPx9LKkHN_kh5PN-7" target="Gyh17LPx9LKkHN_kh5PN-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gyh17LPx9LKkHN_kh5PN-7" value="扫描4张表&lt;br&gt;读取未发送MQ数据" style="whiteSpace=wrap;html=1;rounded=1;strokeColor=#0e8088;strokeWidth=2;fillColor=#b0e3e6;arcSize=14;sketch=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="1027.5" y="1060" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Gyh17LPx9LKkHN_kh5PN-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="Gyh17LPx9LKkHN_kh5PN-9" target="Gyh17LPx9LKkHN_kh5PN-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gyh17LPx9LKkHN_kh5PN-9" value="发送MQ消息" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b0e3e6;strokeColor=#0e8088;rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="1196.5" y="1065" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Gyh17LPx9LKkHN_kh5PN-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="Gyh17LPx9LKkHN_kh5PN-12" target="Gyh17LPx9LKkHN_kh5PN-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gyh17LPx9LKkHN_kh5PN-11" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="Gyh17LPx9LKkHN_kh5PN-10" vertex="1" connectable="0">
          <mxGeometry x="-0.011" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Gyh17LPx9LKkHN_kh5PN-12" value="发送成功" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#0e8088;strokeWidth=2;fillColor=#b0e3e6;arcSize=14;sketch=1;rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="1355.5" y="1050" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Gyh17LPx9LKkHN_kh5PN-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;fontSize=12;dashed=1;endArrow=none;endFill=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="Gyh17LPx9LKkHN_kh5PN-13" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="475" y="1280" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1586" y="1280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Gyh17LPx9LKkHN_kh5PN-13" value="更新表，MQ状态&lt;br&gt;成功" style="whiteSpace=wrap;html=1;strokeColor=#0e8088;strokeWidth=2;fillColor=#b0e3e6;arcSize=14;sketch=1;rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="1526.5" y="1175" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Gyh17LPx9LKkHN_kh5PN-14" value="更新表，MQ状态&lt;br&gt;失败" style="whiteSpace=wrap;html=1;strokeColor=#0e8088;strokeWidth=2;fillColor=#b0e3e6;arcSize=14;sketch=1;rounded=1;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="1526.5" y="1060" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Gyh17LPx9LKkHN_kh5PN-15" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="zl6LglazHRqdnOvQ-VpU-1" source="Gyh17LPx9LKkHN_kh5PN-12" target="Gyh17LPx9LKkHN_kh5PN-13" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1436" y="1205" />
            </Array>
            <mxPoint x="1156.5" y="1215" as="sourcePoint" />
            <mxPoint x="1247.5" y="1330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Gyh17LPx9LKkHN_kh5PN-16" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="Gyh17LPx9LKkHN_kh5PN-15" vertex="1" connectable="0">
          <mxGeometry x="-0.0333" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Gyh17LPx9LKkHN_kh5PN-18" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;MQ失败补偿&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="zl6LglazHRqdnOvQ-VpU-1" vertex="1">
          <mxGeometry x="880" y="63.75" width="100" height="50" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="4SNSvRI35rz61V3D_TTq" name="第19章">
    <mxGraphModel dx="1843" dy="899" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="KMgdpvSES9YJlYaH_BTj-0" />
        <mxCell id="KMgdpvSES9YJlYaH_BTj-1" parent="KMgdpvSES9YJlYaH_BTj-0" />
        <mxCell id="momGROa9FpEzA1QPdoei-0" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-1" target="5ba4KEZYyaADDjMjkt5e-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="140" y="110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-1" value="&lt;font style=&quot;font-size: 17px&quot;&gt;开始&lt;br&gt;&lt;/font&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;sketch=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="80" y="10" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-2" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-3" target="momGROa9FpEzA1QPdoei-45" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="420" y="323.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-3" value="领取活动" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="260" y="298.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-4" value="" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-5" target="momGROa9FpEzA1QPdoei-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5ba4KEZYyaADDjMjkt5e-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;dashed=1;endSize=10;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-5" target="5ba4KEZYyaADDjMjkt5e-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-5" value="领取完成" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="236.5" y="428.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-6" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-7" target="momGROa9FpEzA1QPdoei-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-7" value="获取抽奖单信息" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="80" y="538.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-8" value="" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;fillColor=#b1ddf0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="269.9999999999998" y="666" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-9" value="参与抽奖" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="80" y="638.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-10" value="" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-11" target="momGROa9FpEzA1QPdoei-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-11" value="抽奖结果&lt;br&gt;奖品ID🏅" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="91.25" y="860" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;sketch=1;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-13" target="momGROa9FpEzA1QPdoei-60" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-13" value="奖品落库" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="91.25" y="960.5" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-14" value="" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;dashed=1;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-15" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="131.24999999999977" y="1171.7499999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-15" value="奖品落库结束" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#D0CEE2;strokeColor=#56517E;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="81.25" y="1081.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-16" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-18" target="momGROa9FpEzA1QPdoei-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-17" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fillColor=#b1ddf0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-18" target="momGROa9FpEzA1QPdoei-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-18" value="抽奖策略" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="440" y="643.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-19" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#b1ddf0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-20" target="momGROa9FpEzA1QPdoei-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-20" value="单项概率" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="620" y="643.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-21" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#b1ddf0;strokeColor=#000000;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-22" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="970" y="669" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-22" value="初始数据&lt;br&gt;斐波那契" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="800" y="643.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-24" target="momGROa9FpEzA1QPdoei-77" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-24" value="执行抽奖" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="450" y="760" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-25" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-26" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="920" y="598.75" />
              <mxPoint x="920" y="668.75" />
            </Array>
            <mxPoint x="970" y="669" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-26" value="总体概率" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="620" y="573.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-27" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-28" target="momGROa9FpEzA1QPdoei-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-28" value="状态校验" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="590" y="298.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-29" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-30" target="momGROa9FpEzA1QPdoei-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-30" value="日期校验" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="770" y="298.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-31" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-32" target="momGROa9FpEzA1QPdoei-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-32" value="库存校验(总)" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="950" y="298.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="5ba4KEZYyaADDjMjkt5e-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-34" target="momGROa9FpEzA1QPdoei-53" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1320" y="323.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-34" value="参与次数" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="1130" y="298.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-35" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;gradientColor=none;rotation=-180;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="190" y="538.75" width="20" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-36" value="&lt;span&gt;takeId、s&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;menlo&amp;#34;&quot;&gt;trategyId&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="215" y="553.75" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-37" value="否" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=horizontal;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-40" target="momGROa9FpEzA1QPdoei-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="180" y="368.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-38" style="edgeStyle=elbowEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-40" target="momGROa9FpEzA1QPdoei-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-39" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="momGROa9FpEzA1QPdoei-38" vertex="1" connectable="0">
          <mxGeometry x="0.0054" y="14" relative="1" as="geometry">
            <mxPoint x="-12" y="-14" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-40" value="是否存在&lt;br&gt;未执行&lt;br&gt;抽奖单" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;sketch=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="80" y="293.75" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-41" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;sketch=1;gradientColor=none;rotation=90;dashed=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="901.25" y="-40" width="20" height="640" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-42" value="活动信息校验信息" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="870" y="250" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-43" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;user_take_activity &lt;br&gt;(uId、activityId、state = 0）&lt;br&gt;领取了但抽奖失败&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="45" y="245" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;sketch=1;strokeColor=#AE4132;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-45" target="momGROa9FpEzA1QPdoei-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-45" value="查询活动账单" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="424" y="298.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-47" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;font&gt;user_take_activity_count(uId、activityId)&amp;nbsp; &amp;nbsp; 和 activity(activityId)&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: center&quot;&gt;其中使用库存直接查询redis，&lt;/div&gt;&lt;div style=&quot;text-align: center&quot;&gt;剩余库存=总库存-使用库存&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="359" y="231.25" width="230" height="67.5" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-48" value="&lt;div style=&quot;text-align: center&quot;&gt;update&amp;nbsp; activity (activityId,stock_surplus_count &amp;gt;stockSurplusCount)set stock_surplus_count =stockSurplusCount&amp;nbsp;&lt;br&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="311.25" y="130" width="471" height="60" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-49" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;strokeColor=#9673A6;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-52" target="momGROa9FpEzA1QPdoei-51" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="660" y="451.91666666666674" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-50" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;endArrow=classic;endFill=1;strokeColor=#9673A6;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="5ba4KEZYyaADDjMjkt5e-20" target="momGROa9FpEzA1QPdoei-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="440" y="454" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5ba4KEZYyaADDjMjkt5e-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-51" target="5ba4KEZYyaADDjMjkt5e-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-51" value="插入领取活动信息" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;rounded=1;arcSize=14;strokeWidth=2;sketch=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="600" y="430.63" width="110" height="46.25" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-52" value="扣减个人参与次数" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;rounded=1;arcSize=14;strokeWidth=2;sketch=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="774" y="430.64" width="112.5" height="46.25" as="geometry" />
        </mxCell>
        <mxCell id="5ba4KEZYyaADDjMjkt5e-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-53" target="5ba4KEZYyaADDjMjkt5e-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-53" value="redis扣减活动库存" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;rounded=1;arcSize=14;strokeWidth=2;sketch=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="1352.5" y="300.63" width="110" height="46.25" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-54" value="&lt;div style=&quot;text-align: center&quot;&gt;插入或更新user_take_activity_count&lt;/div&gt;&lt;span style=&quot;text-align: center&quot;&gt;第一次新增，后面left_count -1&amp;nbsp;&lt;br&gt;&lt;br&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="737.5" y="385" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-55" value="&lt;div style=&quot;text-align: center&quot;&gt;插入user_take_activity&lt;/div&gt;&lt;span style=&quot;text-align: center&quot;&gt;state = 0(未使用)&amp;nbsp;&lt;br&gt;&lt;br&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="582" y="385" width="146" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-56" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;fontFamily=Comic Sans MS;direction=north;dashed=1;sketch=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="600" y="480" width="280" height="48.75" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-57" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;/div&gt;&lt;span style=&quot;text-align: center&quot;&gt;插入领取活动信息&lt;br&gt;&lt;br&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="695.25" y="528.75" width="114.75" height="26.25" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-58" value="&lt;span&gt;返回封装结果takeId(雪花算法生成)、s&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;menlo&amp;#34;&quot;&gt;trategyId&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="129" y="400" width="270" height="20" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-59" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;sketch=1;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-60" target="momGROa9FpEzA1QPdoei-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-60" value="锁定活动领取表" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="261.25" y="960.5" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-61" style="edgeStyle=orthogonalEdgeStyle;rounded=1;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;endFill=1;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-62" target="momGROa9FpEzA1QPdoei-15" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="291.25" y="1161.75" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-62" value="保存抽奖信息&lt;br&gt;user_strategy_export" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="502.25" y="960.5" width="126" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-63" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;comic sans ms&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;user_take_activity 更新state = 1&lt;/span&gt;&lt;br style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;comic sans ms&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)&quot;&gt;当state = 0时候" style="text;whiteSpace=wrap;html=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="251.25" y="920" width="220" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-64" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-65" target="momGROa9FpEzA1QPdoei-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-65" value="策略是否初始化" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="970" y="643.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;strokeColor=#000000;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-67" target="momGROa9FpEzA1QPdoei-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-67" value="获取被排除的抽奖列表" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="1130" y="643.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-68" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;/div&gt;&lt;span style=&quot;text-align: center&quot;&gt;奖品库存为0(策略详情表)或因为风控策略&lt;br&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="1112.6299999999999" y="600" width="134.75" height="51.25" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-69" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;strokeColor=#000000;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-70" target="momGROa9FpEzA1QPdoei-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-70" value="查询抽奖策略&lt;br&gt;聚合信息" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="270" y="643.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-71" value="活动领域" style="html=1;fillColor=#FAD9D5;strokeColor=#b85450;sketch=1;rounded=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="250" y="63.75" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-72" value="抽奖策略领域" style="html=1;fillColor=#B1DDF0;strokeColor=#6c8ebf;sketch=1;rounded=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="390" y="63.75" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-73" value="新增用户策略&lt;br&gt;计算结果信息" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="520" y="63.75" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-74" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;发奖领域&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#f0a30a;strokeColor=#BD7000;fontColor=#000000;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="700" y="63.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;sketch=1;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-77" target="momGROa9FpEzA1QPdoei-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="320" y="840" />
              <mxPoint x="141" y="840" />
              <mxPoint x="141" y="860" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-77" value="抽奖策略详情&lt;br&gt;库存扣减" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="270" y="760" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-78" value="" style="edgeStyle=elbowEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;dashed=1;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-90" target="momGROa9FpEzA1QPdoei-83" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-79" value="异步接收MQ消息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="momGROa9FpEzA1QPdoei-78" vertex="1" connectable="0">
          <mxGeometry x="-0.5091" y="2" relative="1" as="geometry">
            <mxPoint x="-102" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-80" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-81" target="momGROa9FpEzA1QPdoei-89" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-81" value="发送MQ消息" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="77.5" y="1175" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-82" value="" style="edgeStyle=elbowEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;fillColor=#d5e8d4;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-83" target="momGROa9FpEzA1QPdoei-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-83" value="触发奖品发货" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="77.5" y="1445" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-84" value="" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-85" target="momGROa9FpEzA1QPdoei-95" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-85" value="获取奖品发货工厂服务(根据奖品类型)" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="251.5" y="1445" width="114.75" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-86" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-89" target="momGROa9FpEzA1QPdoei-90" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="346.5" y="1200" />
              <mxPoint x="346.5" y="1315" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-87" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="momGROa9FpEzA1QPdoei-86" vertex="1" connectable="0">
          <mxGeometry x="-0.0333" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-88" value="否" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-89" target="momGROa9FpEzA1QPdoei-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-89" value="发送成功" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#36393d;strokeWidth=2;fillColor=#ffcc99;arcSize=14;sketch=1;rounded=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="236.5" y="1160" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-90" value="更新表，MQ状态&lt;br&gt;成功" style="whiteSpace=wrap;html=1;strokeColor=#36393d;strokeWidth=2;fillColor=#ffcc99;arcSize=14;sketch=1;rounded=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="407.5" y="1285" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-91" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-92" target="momGROa9FpEzA1QPdoei-93" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-92" value="更新表，MQ状态&lt;br&gt;失败" style="whiteSpace=wrap;html=1;strokeColor=#36393d;strokeWidth=2;fillColor=#ffcc99;arcSize=14;sketch=1;rounded=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="407.5" y="1170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-93" value="Worker 扫描表发送状态进行补偿发送MQ" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;rounded=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="617.5" y="1170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-94" value="" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-95" target="momGROa9FpEzA1QPdoei-100" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-95" value="执行发货" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="436.5" y="1440" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-96" value="" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-100" target="momGROa9FpEzA1QPdoei-102" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="716.5" y="1470" />
              <mxPoint x="716.5" y="1575" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-97" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="momGROa9FpEzA1QPdoei-96" vertex="1" connectable="0">
          <mxGeometry x="0.4222" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-98" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-100" target="momGROa9FpEzA1QPdoei-104" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-99" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="momGROa9FpEzA1QPdoei-98" vertex="1" connectable="0">
          <mxGeometry x="-0.1467" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-100" value="发货成功" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="607.5" y="1430" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-101" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-102" target="momGROa9FpEzA1QPdoei-105" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-102" value="更新库表发货状态&lt;span style=&quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%E6%9B%B4%E6%96%B0%E8%A1%A8%EF%BC%8CMQ%E7%8A%B6%E6%80%81%26lt%3Bbr%26gt%3B%E6%88%90%E5%8A%9F%22%20style%3D%22whiteSpace%3Dwrap%3Bhtml%3D1%3Brounded%3D1%3BstrokeColor%3D%2336393d%3BstrokeWidth%3D2%3BfillColor%3D%23ffcc99%3BarcSize%3D14%3Bsketch%3D1%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22411%22%20y%3D%22755%22%20width%3D%22120%22%20height%3D%2260%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="766.5" y="1545" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-103" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-104" target="momGROa9FpEzA1QPdoei-83" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="906.5" y="1470" />
              <mxPoint x="906.5" y="1425" />
              <mxPoint x="127.5" y="1425" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-104" value="MQ 消息重试" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=#ffcc99;strokeColor=#36393d;rounded=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="766.5" y="1440" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-105" value="返回用户抽奖结果" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#e1d5e7;strokeColor=#9673a6;rounded=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="77.5" y="1655" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-106" value="&lt;span&gt;user_strategy_export&lt;br&gt;的mq_state = 0&lt;br&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="181.25" y="1091.75" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-107" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;的mq_state = 2&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="407.5" y="1135" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-108" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;的mq_state = 1&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="407.5" y="1250" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-109" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;的grant_state = 1 发奖完成&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="766.5" y="1510" width="154.75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-110" value="查询strategy、strategy_detail" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="240" y="615.63" width="170" height="20" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-111" value="查询award" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="191.25" y="880" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-112" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="KMgdpvSES9YJlYaH_BTj-1" target="momGROa9FpEzA1QPdoei-115" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="737.5" y="1200.0000000000002" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-113" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" target="momGROa9FpEzA1QPdoei-117" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="737.5" y="1200.0000000000002" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-114" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-115" target="momGROa9FpEzA1QPdoei-119" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-115" value="扫描1库" style="whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="817.5" y="1170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-116" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-117" target="momGROa9FpEzA1QPdoei-119" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-117" value="扫描2库" style="whiteSpace=wrap;html=1;rounded=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="817.5" y="1275" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-118" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-119" target="momGROa9FpEzA1QPdoei-121" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-119" value="扫描4张表&lt;br&gt;读取未发送MQ数据" style="whiteSpace=wrap;html=1;rounded=1;strokeColor=#0e8088;strokeWidth=2;fillColor=#b0e3e6;arcSize=14;sketch=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="1017.5" y="1170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-120" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-121" target="momGROa9FpEzA1QPdoei-124" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-121" value="发送MQ消息" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b0e3e6;strokeColor=#0e8088;rounded=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="1186.5" y="1175" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-122" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-124" target="momGROa9FpEzA1QPdoei-127" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-123" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="momGROa9FpEzA1QPdoei-122" vertex="1" connectable="0">
          <mxGeometry x="-0.011" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-124" value="发送成功" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#0e8088;strokeWidth=2;fillColor=#b0e3e6;arcSize=14;sketch=1;rounded=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="1345.5" y="1160" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-125" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;fontSize=12;dashed=1;endArrow=none;endFill=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-126" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="464.9999999999998" y="1390" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1576" y="1390" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-126" value="更新表，MQ状态&lt;br&gt;成功" style="whiteSpace=wrap;html=1;strokeColor=#0e8088;strokeWidth=2;fillColor=#b0e3e6;arcSize=14;sketch=1;rounded=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="1516.5" y="1285" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-127" value="更新表，MQ状态&lt;br&gt;失败" style="whiteSpace=wrap;html=1;strokeColor=#0e8088;strokeWidth=2;fillColor=#b0e3e6;arcSize=14;sketch=1;rounded=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="1516.5" y="1170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-128" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="momGROa9FpEzA1QPdoei-124" target="momGROa9FpEzA1QPdoei-126" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1426" y="1315" />
            </Array>
            <mxPoint x="1146.5" y="1325" as="sourcePoint" />
            <mxPoint x="1237.5" y="1440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-129" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="momGROa9FpEzA1QPdoei-128" vertex="1" connectable="0">
          <mxGeometry x="-0.0333" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="momGROa9FpEzA1QPdoei-130" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;MQ失败补偿&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="831.25" y="63.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="5ba4KEZYyaADDjMjkt5e-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;sketch=1;" parent="KMgdpvSES9YJlYaH_BTj-1" source="5ba4KEZYyaADDjMjkt5e-2" target="momGROa9FpEzA1QPdoei-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5ba4KEZYyaADDjMjkt5e-2" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;入参:（uId、&lt;br&gt;activityId）&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="80" y="150" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="5ba4KEZYyaADDjMjkt5e-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;" parent="KMgdpvSES9YJlYaH_BTj-1" source="5ba4KEZYyaADDjMjkt5e-6" target="5ba4KEZYyaADDjMjkt5e-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5ba4KEZYyaADDjMjkt5e-6" value="当前活动库存使用数+1" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;rounded=1;arcSize=14;strokeWidth=2;sketch=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="1360" y="430.63" width="95" height="46.25" as="geometry" />
        </mxCell>
        <mxCell id="5ba4KEZYyaADDjMjkt5e-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;" parent="KMgdpvSES9YJlYaH_BTj-1" source="5ba4KEZYyaADDjMjkt5e-10" target="5ba4KEZYyaADDjMjkt5e-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5ba4KEZYyaADDjMjkt5e-16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;" parent="KMgdpvSES9YJlYaH_BTj-1" source="5ba4KEZYyaADDjMjkt5e-10" target="5ba4KEZYyaADDjMjkt5e-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5ba4KEZYyaADDjMjkt5e-10" value="是否超库" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;sketch=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="1191" y="423.76" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5ba4KEZYyaADDjMjkt5e-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="5ba4KEZYyaADDjMjkt5e-12" target="momGROa9FpEzA1QPdoei-52" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="882.6300000000001" y="453.765" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5ba4KEZYyaADDjMjkt5e-12" value="加锁(key:常量_activityId_当前活动使用库存)" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;rounded=1;arcSize=14;strokeWidth=2;sketch=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="962.63" y="430.64" width="150" height="46.25" as="geometry" />
        </mxCell>
        <mxCell id="5ba4KEZYyaADDjMjkt5e-14" value="否" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Comic Sans MS;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="1126.5" y="423.76" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="5ba4KEZYyaADDjMjkt5e-15" value="恢复使用库存，返回异常" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;strokeWidth=2;sketch=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="1171.5" y="528.75" width="139" height="45" as="geometry" />
        </mxCell>
        <mxCell id="5ba4KEZYyaADDjMjkt5e-17" value="是" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Comic Sans MS;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="1226.5" y="483.76" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="5ba4KEZYyaADDjMjkt5e-20" value="删除库存锁 Key" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=#fad9d5;strokeColor=#ae4132;rounded=1;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="427.5" y="428.75" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="5ba4KEZYyaADDjMjkt5e-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="KMgdpvSES9YJlYaH_BTj-1" source="5ba4KEZYyaADDjMjkt5e-23" target="5ba4KEZYyaADDjMjkt5e-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5ba4KEZYyaADDjMjkt5e-23" value="发送领取记录MQ" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="240" y="170" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="5ba4KEZYyaADDjMjkt5e-24" value="异步更新库存" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="399" y="170" width="101" height="50" as="geometry" />
        </mxCell>
        <mxCell id="PwOq2ZUCqk1k8xr_WjDw-0" value="异步更新库存" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="KMgdpvSES9YJlYaH_BTj-1" vertex="1">
          <mxGeometry x="980" y="63.75" width="101" height="50" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第19章流程" id="wFJZxRrP0qMWN8k0BT0r">
    <mxGraphModel dx="10143" dy="2652" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="HOcqEMtczb753Gg_NuFn-0" />
        <mxCell id="HOcqEMtczb753Gg_NuFn-1" parent="HOcqEMtczb753Gg_NuFn-0" />
        <mxCell id="HOcqEMtczb753Gg_NuFn-2" value="&lt;b&gt;Worker 扫描表发送状态进行补偿发送MQ&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeColor=#7F00FF;rounded=0;verticalAlign=top;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-4032" y="591" width="930" height="259" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-3" value="发奖领域" style="shape=umlFrame;whiteSpace=wrap;html=1;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;strokeColor=#FF6392;width=109;height=30;labelBackgroundColor=none;fillColor=#FFE45E;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3775" y="1946" width="1159" height="793" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-4" value="&lt;font&gt;&lt;b style=&quot;&quot;&gt;消费MQ&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FFD966;verticalAlign=top;fontFamily=Comic Sans MS;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3795" y="1648" width="941" height="246" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-5" value="&lt;font style=&quot;font-size: 16px&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;领取活动领域&lt;/b&gt;&lt;/font&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;strokeColor=#FF00FF;fillColor=none;width=118;height=49;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1654" y="5" width="2131" height="1830" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-6" value="DrawProcessReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#00FF00;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2391.5" y="575" width="177" height="78" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-7" value="- uId: String  //用户id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-6" vertex="1">
          <mxGeometry y="26" width="177" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-8" value="- activityId: Long //活动id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-6" vertex="1">
          <mxGeometry y="52" width="177" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-9" style="edgeStyle=none;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.481;entryY=0.962;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-10" target="HOcqEMtczb753Gg_NuFn-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-10" value="DrawProcessResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#00FF00;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2410" y="308" width="217.5" height="104" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-11" value="- drawAwardInfo: DrawAwardInfo" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-10" vertex="1">
          <mxGeometry y="26" width="217.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-12" value="- code: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-10" vertex="1">
          <mxGeometry y="52" width="217.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-13" value="- info: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-10" vertex="1">
          <mxGeometry y="78" width="217.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-14" value=" DrawAwardInfo" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#00FF00;swimlaneLine=1;fontColor=#000000;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2402" y="52" width="198" height="208" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-15" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="HOcqEMtczb753Gg_NuFn-14" vertex="1">
          <mxGeometry y="26" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-16" value="- awardName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="HOcqEMtczb753Gg_NuFn-14" vertex="1">
          <mxGeometry y="52" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-17" value="- awardType : Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="HOcqEMtczb753Gg_NuFn-14" vertex="1">
          <mxGeometry y="78" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-18" value="- awardContent: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="HOcqEMtczb753Gg_NuFn-14" vertex="1">
          <mxGeometry y="104" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-19" value="-strategyMode: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="HOcqEMtczb753Gg_NuFn-14" vertex="1">
          <mxGeometry y="130" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-20" value="- grantType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="HOcqEMtczb753Gg_NuFn-14" vertex="1">
          <mxGeometry y="156" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-21" value="- grantDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="HOcqEMtczb753Gg_NuFn-14" vertex="1">
          <mxGeometry y="182" width="198" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-22" value="DrawOrderVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#00FF00;swimlaneLine=1;fontColor=#000000;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2762" y="646" width="222" height="364" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-23" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="HOcqEMtczb753Gg_NuFn-22" vertex="1">
          <mxGeometry y="26" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-24" value="- taskId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-22" vertex="1">
          <mxGeometry y="52" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-25" value="- acvitityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="HOcqEMtczb753Gg_NuFn-22" vertex="1">
          <mxGeometry y="78" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-26" value="- orderId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-22" vertex="1">
          <mxGeometry y="104" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-27" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-22" vertex="1">
          <mxGeometry y="130" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-28" value="-strategyMode: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="HOcqEMtczb753Gg_NuFn-22" vertex="1">
          <mxGeometry y="156" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-29" value="- grantType: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="HOcqEMtczb753Gg_NuFn-22" vertex="1">
          <mxGeometry y="182" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-30" value="- grantDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="HOcqEMtczb753Gg_NuFn-22" vertex="1">
          <mxGeometry y="208" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-31" value="- grantState: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-22" vertex="1">
          <mxGeometry y="234" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-32" value="- awardId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="HOcqEMtczb753Gg_NuFn-22" vertex="1">
          <mxGeometry y="260" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-33" value="- awardName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;" parent="HOcqEMtczb753Gg_NuFn-22" vertex="1">
          <mxGeometry y="286" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-34" value="- awardType : Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="HOcqEMtczb753Gg_NuFn-22" vertex="1">
          <mxGeometry y="312" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-35" value="- awardContent: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;sketch=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#000000;" parent="HOcqEMtczb753Gg_NuFn-22" vertex="1">
          <mxGeometry y="338" width="222" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-36" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ActivityProcessImpl&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2204" y="448" width="468" height="115" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-37" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fontFamily=Comic Sans MS;sketch=1;curveFitting=1;jiggle=2;endFill=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-38" target="HOcqEMtczb753Gg_NuFn-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-38" value="&lt;font size=&quot;1&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b style=&quot;font-size: 16px;&quot;&gt;doDrawProcess()&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2082" y="497" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-39" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;sketch=1;curveFitting=1;jiggle=2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-38" target="HOcqEMtczb753Gg_NuFn-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1978.498" y="445.7619999999997" as="sourcePoint" />
            <mxPoint x="-2233" y="566" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-40" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.497;entryY=0.995;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="HOcqEMtczb753Gg_NuFn-1" target="HOcqEMtczb753Gg_NuFn-13" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2083" y="516" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-41" value="&lt;font color=&quot;#00ff00&quot; face=&quot;Comic Sans MS&quot;&gt;doDrawProcess()流程&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;verticalAlign=top;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2205" y="663" width="446.5" height="821" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-42" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-43" target="HOcqEMtczb753Gg_NuFn-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-43" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1. 领取活动&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2078.5" y="709" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-44" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-45" target="HOcqEMtczb753Gg_NuFn-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-45" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1.1 领取失败直接封装返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2078.5" y="815" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-46" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-47" target="HOcqEMtczb753Gg_NuFn-49" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-47" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;1.2发送领取记录MQ&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2078.5" y="913" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-48" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-49" target="HOcqEMtczb753Gg_NuFn-51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-49" value="&lt;b style=&quot;border-color: var(--border-color); font-family: &amp;quot;Comic Sans MS&amp;quot;;&quot;&gt;2. 执行抽奖&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2082" y="1017" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-50" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-51" target="HOcqEMtczb753Gg_NuFn-54" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-51" value="&lt;b style=&quot;border-color: var(--border-color); font-family: &amp;quot;Comic Sans MS&amp;quot;;&quot;&gt;2.1 未中奖直接封装返回&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2082" y="1130.5" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-52" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-54" target="HOcqEMtczb753Gg_NuFn-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-53" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#FF0000;endFill=1;sketch=1;curveFitting=1;jiggle=2;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-55" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-3120" y="1250" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-2302" y="1348" />
              <mxPoint x="-2302" y="1263" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-54" value="&lt;b style=&quot;border-color: var(--border-color); font-family: &amp;quot;Comic Sans MS&amp;quot;;&quot;&gt;3.保存抽奖信息，失败直接返回&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2082" y="1228" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="AidTqo3kumimTJJXFDf7-8" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=#000000;fontFamily=Helvetica;fontSize=11;fontColor=#5AA9E6;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-55" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1979" y="1434" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-55" value="&lt;b style=&quot;border-color: var(--border-color); font-family: &amp;quot;Comic Sans MS&amp;quot;;&quot;&gt;4. 发送MQ，触发发奖流程&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2082" y="1334" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-56" value="PartakeReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#FF00FF;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1438" y="547" width="140" height="104" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-57" value="- partakeDate: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-56" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-58" value="- uId: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-56" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-59" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-56" vertex="1">
          <mxGeometry y="78" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-60" value="PartakeResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fontFamily=Comic Sans MS;strokeColor=#FF00FF;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1446" y="785.25" width="140" height="104" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-61" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-60" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-62" value="- code: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-60" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-63" value="- info: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Comic Sans MS;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-60" vertex="1">
          <mxGeometry y="78" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-64" value="ActivityBillVO" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-510.25" y="504" width="207" height="286" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-65" value="- uId : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;" parent="HOcqEMtczb753Gg_NuFn-64" vertex="1">
          <mxGeometry y="26" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-66" value="- activityId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="HOcqEMtczb753Gg_NuFn-64" vertex="1">
          <mxGeometry y="52" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-67" value="- activityName: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="HOcqEMtczb753Gg_NuFn-64" vertex="1">
          <mxGeometry y="78" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-68" value="- beginDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="HOcqEMtczb753Gg_NuFn-64" vertex="1">
          <mxGeometry y="104" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-69" value="- endDateTime: Date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="HOcqEMtczb753Gg_NuFn-64" vertex="1">
          <mxGeometry y="130" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-70" value="- stockSurplusCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="HOcqEMtczb753Gg_NuFn-64" vertex="1">
          <mxGeometry y="156" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-71" value="- state: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="HOcqEMtczb753Gg_NuFn-64" vertex="1">
          <mxGeometry y="182" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-72" value="- strategyId: Long" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;" parent="HOcqEMtczb753Gg_NuFn-64" vertex="1">
          <mxGeometry y="208" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-73" value="- takeCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="HOcqEMtczb753Gg_NuFn-64" vertex="1">
          <mxGeometry y="234" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-74" value="- userTakeLeftCount: Integer" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;fontFamily=Comic Sans MS;fontSize=12;" parent="HOcqEMtczb753Gg_NuFn-64" vertex="1">
          <mxGeometry y="260" width="207" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-75" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ActivityPartakeImpl&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1112.25" y="664" width="468" height="207" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-76" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;i style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BaseActivityPartake&lt;/font&gt;&lt;/i&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1106.25" y="926" width="192" height="131" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-77" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.45;exitY=1;exitDx=0;exitDy=0;sketch=1;curveFitting=1;jiggle=2;endFill=1;exitPerimeter=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-79" target="HOcqEMtczb753Gg_NuFn-81" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-78" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.986;entryY=0.919;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=1;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-79" target="HOcqEMtczb753Gg_NuFn-61" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-79" value="&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;doPartake()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1091.25" y="712" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-80" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.272;entryY=0.007;entryDx=0;entryDy=0;entryPerimeter=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-81" target="HOcqEMtczb753Gg_NuFn-83" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1056.107142857143" y="1073" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-81" value="&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;doPartake()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1098.25" y="982" width="162" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-82" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-79" target="HOcqEMtczb753Gg_NuFn-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-83" value="&lt;font color=&quot;#ff00ff&quot; style=&quot;font-size: 14px;&quot;&gt;doPartake()流程&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;verticalAlign=top;fillColor=none;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1106.25" y="1107" width="326" height="710" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-84" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-85" target="HOcqEMtczb753Gg_NuFn-87" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-85" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;2.查询活动账单&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1017.75" y="1281" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-86" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-87" target="HOcqEMtczb753Gg_NuFn-89" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-87" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;3.活动信息校验处理【活动库存、状态、日期、个人参与次数，若失败直接返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1049" y="1380" width="222.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-88" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-89" target="HOcqEMtczb753Gg_NuFn-91" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-89" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;4.扣减活动库存,优化成redis(若失败直接返回)&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1043" y="1464" width="210.5" height="61" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-90" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-91" target="HOcqEMtczb753Gg_NuFn-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-91" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;5.领取活动信息【个人用户把活动信息写入到用户表】(若失败直接返回)&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1034.75" y="1579" width="200.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="AidTqo3kumimTJJXFDf7-11" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=#000000;fontFamily=Helvetica;fontSize=11;fontColor=#5AA9E6;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-92" target="AidTqo3kumimTJJXFDf7-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-92" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;6.删除redis的锁的key&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1014.37" y="1672" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-93" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ActivityPartakeSupport&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-726.25" y="1111" width="237" height="83" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-94" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;queryActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-685.25" y="1147" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-95" value="&lt;b style=&quot;border-color: var(--border-color); font-family: &amp;quot;comic sans ms&amp;quot;; text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;ActivityRepository&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-388.25" y="1054" width="338" height="150" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-96" value="" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-97" target="HOcqEMtczb753Gg_NuFn-142" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-97" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;queryActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-352.25" y="1141" width="208" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-98" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-85" target="HOcqEMtczb753Gg_NuFn-94" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-600" y="1291" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-99" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-94" target="HOcqEMtczb753Gg_NuFn-97" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-100" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-103" target="HOcqEMtczb753Gg_NuFn-69" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-101" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-103" target="HOcqEMtczb753Gg_NuFn-87" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-741.25" y="783" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="-736" y="1394" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-102" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-103" target="HOcqEMtczb753Gg_NuFn-107" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-103" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;checkActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-818.25" y="719" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-104" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;参数&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Comic Sans MS;fontColor=default;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-595.25" y="703" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-105" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=0.466;entryY=1.077;entryDx=0;entryDy=0;entryPerimeter=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-97" target="HOcqEMtczb753Gg_NuFn-74" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-651.25" y="766" as="sourcePoint" />
            <mxPoint x="-512.25" y="766" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-106" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;返回值&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Comic Sans MS;fontColor=default;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-448.25" y="986" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-107" value="&lt;font color=&quot;#ff00ff&quot;&gt;checkActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()流程&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;verticalAlign=top;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-856.25" y="204" width="227" height="339" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-108" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-109" target="HOcqEMtczb753Gg_NuFn-111" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-109" value="&lt;b&gt;1.校验活动状态(是否为运行中)&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-828" y="236" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-110" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-111" target="HOcqEMtczb753Gg_NuFn-113" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-111" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;2&lt;font style=&quot;border-color: var(--border-color); font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;.校验&lt;/font&gt;活动日期&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-824.75" y="322" width="163.25" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-112" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-113" target="HOcqEMtczb753Gg_NuFn-114" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-113" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;3.校验&lt;/font&gt;活动库存&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-827.25" y="414" width="168.25" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-114" value="&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;4.校验个人参与次数&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-828" y="501" width="169.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-115" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-117" target="HOcqEMtczb753Gg_NuFn-91" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1132.25" y="791" />
              <mxPoint x="-1125" y="1598" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-116" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-117" target="HOcqEMtczb753Gg_NuFn-128" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-117" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;grabActivity&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-958.25" y="769" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-118" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.993;exitY=0.723;exitDx=0;exitDy=0;exitPerimeter=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-119" target="HOcqEMtczb753Gg_NuFn-89" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-796.25" y="839.9999999999998" as="sourcePoint" />
            <mxPoint x="-824.75" y="1366.5" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-791.25" y="846" />
              <mxPoint x="-786" y="1491" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-119" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;subtractionActivityStockByRedis()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-998" y="819" width="197.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-120" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-122" target="HOcqEMtczb753Gg_NuFn-119" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-295.25" y="825" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="UJDuXmd2sH9eCnYNbiot-1" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=#000000;fontFamily=Helvetica;fontSize=11;fontColor=#5AA9E6;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-122" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-8" y="1109" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-122" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;font style=&quot;&quot;&gt;subtractionActivityStockByRedis()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-342.75" y="1090" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-124" value="&lt;b style=&quot;border-color: var(--border-color); text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;UserTakeActivityRepository&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1559.25" y="179" width="316" height="150" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-125" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;subtractionLeftCount&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1515.25" y="217" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-126" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-127" target="HOcqEMtczb753Gg_NuFn-153" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1615.25" y="266" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-127" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;takeActivity&lt;font style=&quot;font-size: 14px;&quot;&gt;()&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1517.75" y="270" width="203" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-128" value="&lt;font color=&quot;#ff00ff&quot; face=&quot;Comic Sans MS&quot;&gt;grabActivity&lt;font style=&quot;font-size: 14px;&quot;&gt;()流程&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;fillColor=default;verticalAlign=top;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1085.25" y="101" width="209" height="494" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-129" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-130" target="HOcqEMtczb753Gg_NuFn-132" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-130" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1.启动路由策略&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1060.25" y="144" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-131" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-132" target="HOcqEMtczb753Gg_NuFn-134" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-132" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;2.开始事务&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1060.25" y="225" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-133" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-134" target="HOcqEMtczb753Gg_NuFn-136" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-134" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;3.扣减个人已参与次数，错误直接返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1060.25" y="309" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-135" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-136" target="HOcqEMtczb753Gg_NuFn-138" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-136" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;4.插入领取活动信息&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1060.25" y="393" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-137" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-138" target="HOcqEMtczb753Gg_NuFn-139" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-138" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;5.事务提交，uId唯一，保证幂等性&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1056.25" y="473" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-139" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;6.清空路由上下文&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1056.25" y="550" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-140" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-125" target="HOcqEMtczb753Gg_NuFn-134" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-141" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-127" target="HOcqEMtczb753Gg_NuFn-136" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-142" value="&lt;font color=&quot;#ff00ff&quot;&gt;queryActivityBill&lt;font style=&quot;font-size: 14px;&quot;&gt;()流程&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#000000;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-384.25" y="1298" width="290.5" height="303" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-143" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-145" target="HOcqEMtczb753Gg_NuFn-148" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-144" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-145" target="HOcqEMtczb753Gg_NuFn-150" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-145" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1.活动相关信息&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-339.25" y="1353" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-146" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;endFill=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-148" target="HOcqEMtczb753Gg_NuFn-149" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-147" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-148" target="HOcqEMtczb753Gg_NuFn-151" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-148" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;2.个人领取次数&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-339.25" y="1442" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-149" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;3.封装返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-339.25" y="1525" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-150" value="&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;SELECT activity_id, activity_name, activity_desc, begin_date_time, end_date_time,&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;stock_count, stock_surplus_count, take_count, strategy_id, state, creator, create_time, update_time&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;FROM activity&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;WHERE activity_id = #{activityId}&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-699.25" y="1315.5" width="274" height="102" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-151" value="&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;SELECT total_count, left_count&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;FROM user_take_activity_count&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;WHERE u_id = #{uId} AND activity_id = #{activityId}&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-701.25" y="1442" width="279" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-152" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;扣减个人已参与次数 插入或更新user_take_activity_count&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;1.如果剩余领取次数是null是当前用户第一次抽奖插入user_take_activity_count(用户id、活动id、总个人领取次数、剩余领取次数)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;2.已经领取过更新user_take_activity_count 的leftCount-1&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1597.25" y="59" width="386" height="87" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-153" value="&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;2 新增user_take_activity&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 用户id、活动领取时间 从请求参数PartakeReq取&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 任务id:使用雪花算法产生&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 活动id、活动名称、每人可领取次数、剩余领取次数 字段从 ActivityBillVO活动账单取&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 已领取次数：每人可领取次数 - 剩余领取次数 + 1；剩余领取次数为null时是第一次领取&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; uuid：用户id + &quot;_&quot; + 活动id + &quot;_&quot; + 已领取次数&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1608" y="374" width="386" height="112" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-154" value="" style="edgeStyle=none;shape=connector;curved=1;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.037;exitY=-0.047;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;exitPerimeter=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-125" target="HOcqEMtczb753Gg_NuFn-152" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-155" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=#FF0000;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-43" target="HOcqEMtczb753Gg_NuFn-79" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1641" y="728.2155816435431" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-156" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-158" target="HOcqEMtczb753Gg_NuFn-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-157" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-158" target="HOcqEMtczb753Gg_NuFn-159" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-158" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1. 查询是否存在未执行抽奖领取活动单&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1021" y="1182" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-159" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;SELECT activity_id, take_id, strategy_id, state&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;FROM user_take_activity&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;WHERE u_id = #{uId} AND activity_id = #{activityId} AND state = 0&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;ORDER BY id DESC&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;LIMIT 1&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1521" y="1147" width="319" height="111" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-160" value="&lt;font style=&quot;font-size: 16px&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;执行抽奖领域&lt;/b&gt;&lt;/font&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;strokeColor=#007FFF;fillColor=none;width=113;height=39;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2542.25" y="1901" width="3205" height="756" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-161" value="&lt;span style=&quot;background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;IStrategyRepository&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="306.75" y="2019.5" width="257" height="152.5" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-162" value="doDrawExec流程" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-561.25" y="1999" width="356" height="631" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-163" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;DrawExecImpl&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fillColor=none;verticalAlign=top;gradientColor=none;html=1;strokeColor=#007FFF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1644.25" y="2004" width="460" height="309" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-164" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.474;entryY=-0.003;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-167" target="HOcqEMtczb753Gg_NuFn-174" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-165" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-167" target="HOcqEMtczb753Gg_NuFn-169" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-166" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.012;entryY=0.418;entryDx=0;entryDy=0;entryPerimeter=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-167" target="HOcqEMtczb753Gg_NuFn-216" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1028.25" y="2089" as="sourcePoint" />
            <mxPoint x="-1130.25" y="2084" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-167" value="doDrawExec()" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1509.25" y="2245" width="231" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-168" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;start:执行抽奖&lt;/font&gt;&lt;/b&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1512.25" y="2212" width="127" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-169" value="DrawResult" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#3399FF;swimlaneLine=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1672.25" y="2381" width="252" height="130" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-170" value="- uId: String  //用户id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="HOcqEMtczb753Gg_NuFn-169" vertex="1">
          <mxGeometry y="26" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-171" value="- strategyId: Long //策略id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="HOcqEMtczb753Gg_NuFn-169" vertex="1">
          <mxGeometry y="52" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-172" value="- drawState: Integer //中奖状态" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="HOcqEMtczb753Gg_NuFn-169" vertex="1">
          <mxGeometry y="78" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-173" value="- drawAwardInfo : DrawAwardInfo" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="HOcqEMtczb753Gg_NuFn-169" vertex="1">
          <mxGeometry y="104" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-174" value="DrawReq" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;strokeColor=#3399FF;swimlaneLine=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1374.25" y="2392" width="252" height="78" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-175" value="- uId: String  // 用户id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="HOcqEMtczb753Gg_NuFn-174" vertex="1">
          <mxGeometry y="26" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-176" value="- strategyId: Long  //策略id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="HOcqEMtczb753Gg_NuFn-174" vertex="1">
          <mxGeometry y="52" width="252" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-177" value="入参" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1216.25" y="2362" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-178" value="返回值" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1672.25" y="2351" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-179" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-180" target="HOcqEMtczb753Gg_NuFn-182" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-180" value="&amp;nbsp;1.根据抽奖策略id查询抽奖聚合信息" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-527.25" y="2058" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-181" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-182" target="HOcqEMtczb753Gg_NuFn-189" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-402.25" y="2284" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-182" value="2.初始化和校验数据" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-527.25" y="2172" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-183" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-184" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-398.25000000000045" y="2523" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-184" value="4.执行抽奖策略" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-527.25" y="2404" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-185" value="&lt;b&gt;DrawStrategySupport&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-71.25" y="2026" width="277" height="159" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-186" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-187" target="HOcqEMtczb753Gg_NuFn-180" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-187" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&amp;nbsp;queryStrategyRich(Long strategyId&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-52.75" y="2072" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-188" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-189" target="HOcqEMtczb753Gg_NuFn-184" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-189" value="3.获取不在抽奖范围内的列表" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-527.25" y="2288" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-190" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;chechAndInitRateData流程&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-652.25" y="2821" width="295" height="516" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-191" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-192" target="HOcqEMtczb753Gg_NuFn-194" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-192" value="&amp;nbsp; &amp;nbsp; 1.从抽奖策略组中获取具体抽奖策略算法，若为null，直接返回" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-640.25" y="2876" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-193" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-194" target="HOcqEMtczb753Gg_NuFn-195" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-194" value="2.判断当前抽奖策略算法是否已经初始化当前抽奖策略" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-640.25" y="3055" width="261.5" height="52" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-195" value="3.未初始化则进行初始化" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-642.75" y="3234" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-196" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-197" target="HOcqEMtczb753Gg_NuFn-242" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-197" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&lt;span&gt;&#x9;&lt;/span&gt; queryAwardInfo(String awardId)&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="325.25" y="2131" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-198" value="&lt;b&gt;BaseAlgorithm&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1058.25" y="2839" width="257" height="182" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-199" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-200" target="HOcqEMtczb753Gg_NuFn-192" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-721.25" y="2905.9999999999995" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-200" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;isExistRateTuple(Long strategyId)&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1033.25" y="2882" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-201" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-203" target="HOcqEMtczb753Gg_NuFn-195" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-923.25" y="3260" />
            </Array>
            <mxPoint x="-379.25" y="2879" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-202" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=1.001;entryY=0.324;entryDx=0;entryDy=0;entryPerimeter=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-203" target="HOcqEMtczb753Gg_NuFn-204" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-79.25" y="3127" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-203" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;initRateTuple()&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1033.25" y="2971" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-204" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;initRateTuple()流程&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1487.25" y="2839" width="336" height="468" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-205" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.508;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-206" target="HOcqEMtczb753Gg_NuFn-208" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-206" value="&amp;nbsp;1.存放策略id、奖品信息的map" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1464.25" y="2886" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-207" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-208" target="HOcqEMtczb753Gg_NuFn-210" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-208" value="&amp;nbsp;2.创建策略id、128个奖品id散列数组的map" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1475.25" y="3009" width="284" height="52" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-209" value="" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;fontColor=#000000;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-210" target="HOcqEMtczb753Gg_NuFn-211" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-210" value="&amp;nbsp;3.当前奖品的中奖概率*100，得到rateVal" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1472.25" y="3123" width="284" height="52" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-211" value="&amp;nbsp;4.Hash(概率范围内的每个值),&lt;br&gt;array[hash值] = 当前奖品id" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1469.25" y="3229" width="284" height="52" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-212" value="DrawAwardInfo" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;sketch=1;fontFamily=Comic Sans MS;fontSize=10;swimlaneLine=1;fillColor=none;strokeColor=#007FFF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1901.25" y="2563" width="254" height="78" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-213" value="- awardId: String" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="HOcqEMtczb753Gg_NuFn-212" vertex="1">
          <mxGeometry y="26" width="254" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-214" value="- awardName : String" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;fontFamily=Comic Sans MS;fontSize=10;" parent="HOcqEMtczb753Gg_NuFn-212" vertex="1">
          <mxGeometry y="52" width="254" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-215" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;fontColor=#00FF00;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-173" target="HOcqEMtczb753Gg_NuFn-212" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1401.75" y="2332" as="sourcePoint" />
            <mxPoint x="-1536.25" y="2391" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-216" value="&lt;span style=&quot;font-style: italic ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot; color=&quot;#007fff&quot;&gt;AbstractDrawBase&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fillColor=none;verticalAlign=top;gradientColor=none;html=1;strokeColor=#007FFF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-984.25" y="2000" width="342" height="627" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-217" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-218" target="HOcqEMtczb753Gg_NuFn-180" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-218" value="doDrawExec()" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-923.75" y="2070" width="231" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-219" value="模板模式定义抽奖流程" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=12;fontColor=#3399FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-918.25" y="2040" width="131" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-220" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;endFill=1;endSize=14;startSize=14;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-222" target="HOcqEMtczb753Gg_NuFn-182" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-221" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;entryX=0.827;entryY=0.169;entryDx=0;entryDy=0;entryPerimeter=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-222" target="HOcqEMtczb753Gg_NuFn-280" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1029.9165649414062" y="2789.8333587646484" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-954.25" y="2191" />
              <mxPoint x="-954.25" y="2758" />
              <mxPoint x="-596.25" y="2758" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-222" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;chechAndInitRateData()&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-925.75" y="2184" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-223" value="5.结果封装返回，若awardId为null未中奖，不为null查询奖品信息" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-534.25" y="2529" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-224" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-225" target="HOcqEMtczb753Gg_NuFn-187" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-225" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&amp;nbsp;queryStrategyRich(Long strategyId&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="321.75" y="2072" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-226" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-227" target="HOcqEMtczb753Gg_NuFn-189" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-227" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;queryExcludeAwardIds(）&amp;nbsp;&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-928.25" y="2300" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-228" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-229" target="HOcqEMtczb753Gg_NuFn-227" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-229" value="&lt;span style=&quot;color: rgb(0 , 127 , 255) ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;queryExcludeAwardIds(）&amp;nbsp;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1518.25" y="2170" width="231" height="34" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-230" value="&lt;span style=&quot;background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;b&gt;IStrategyRepository&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1974.25" y="2127" width="305" height="141" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-231" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-233" target="HOcqEMtczb753Gg_NuFn-229" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-232" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-233" target="HOcqEMtczb753Gg_NuFn-282" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-233" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;queryNoStockStrategyAwardList(&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1912.75" y="2173" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-234" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-235" target="HOcqEMtczb753Gg_NuFn-184" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-235" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;drawAlgorithm()&lt;br&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-925.75" y="2416" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-236" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-237" target="HOcqEMtczb753Gg_NuFn-223" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-237" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;buildDrawResult()&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-928.25" y="2535" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-238" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-240" target="HOcqEMtczb753Gg_NuFn-235" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1068.25" y="2101" />
              <mxPoint x="-1068.25" y="2430" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-239" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-240" target="HOcqEMtczb753Gg_NuFn-269" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1910.25" y="2101" />
              <mxPoint x="-1910.25" y="2101" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-240" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;drawAlgorithm()&lt;br&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1512.25" y="2087" width="225" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-241" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-242" target="HOcqEMtczb753Gg_NuFn-223" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-242" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;queryAwardInfoByAwardId()&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-48.25" y="2131" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-243" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;SingleRateRandomDrawAlgorithm&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2535.25" y="2773.5" width="257" height="92" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-244" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-245" target="HOcqEMtczb753Gg_NuFn-246" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-245" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2516.75" y="2819.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-246" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)流程&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2530.5" y="2929.5" width="249.75" height="367" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-247" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-248" target="HOcqEMtczb753Gg_NuFn-250" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-248" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;1.获取当前策略的元数组&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2516.75" y="2982.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-249" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-250" target="HOcqEMtczb753Gg_NuFn-252" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-250" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;2.用SecureRandom生成一个随机数&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2516.75" y="3046.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-251" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-252" target="HOcqEMtczb753Gg_NuFn-254" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-252" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;3.生成的随机数获取波那契（Fibonacci）散列法的下标值&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2516.75" y="3110.5" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-253" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-254" target="HOcqEMtczb753Gg_NuFn-255" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-254" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;4.通过下标获取奖品id&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2516.75" y="3176.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-255" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;div&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;5.如在奖品排除id中，返回未中奖&amp;nbsp; ， 如不在返回奖品id&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2516.75" y="3240.5" width="220" height="44" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-256" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;DefaultRateRandomDrawAlgorithm&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#3399FF;fillColor=none;verticalAlign=top;gradientColor=none;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2222.25" y="2773.5" width="257" height="92" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-257" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-258" target="HOcqEMtczb753Gg_NuFn-259" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-258" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2203.75" y="2819.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-259" value="&lt;span style=&quot;text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;randomDraw(&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;)流程&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2218.25" y="2927.5" width="249" height="367" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-260" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-261" target="HOcqEMtczb753Gg_NuFn-263" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-261" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;1.获取所有抽奖概率信息与排除的id，重新计算总共的概率&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2203.75" y="2966.5" width="220" height="44" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-262" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-263" target="HOcqEMtczb753Gg_NuFn-265" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-263" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;2.若新的抽奖概率信息只剩下0返回&quot;&quot;或者1个直接返回奖品id&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2203.75" y="3040.5" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-264" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-265" target="HOcqEMtczb753Gg_NuFn-267" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-265" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;3.生成随机数&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2203.75" y="3110.5" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-266" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-267" target="HOcqEMtczb753Gg_NuFn-268" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-267" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&amp;nbsp;4.重新计算当前奖品的概率&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2203.75" y="3176.5" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-268" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;div&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;5.比较随机数和当前奖品概率的范围，返回满足的&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2203.75" y="3240.5" width="220" height="44" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-269" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;drawAlgorithm()流程&lt;br&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;verticalAlign=top;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2436.25" y="2030.75" width="395" height="351.25" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-270" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-273" target="HOcqEMtczb753Gg_NuFn-275" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-271" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-273" target="HOcqEMtczb753Gg_NuFn-243" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-272" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-273" target="HOcqEMtczb753Gg_NuFn-256" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-273" value="&amp;nbsp;1.执行抽奖，为null直接返回" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2361.25" y="2072" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-274" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-275" target="HOcqEMtczb753Gg_NuFn-276" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-275" value="&amp;nbsp;2.扣减库存" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2361.25" y="2204" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-276" value="3.扣减成功返回奖品id,失败返回null" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2361.25" y="2310" width="258" height="52" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-277" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startSize=14;endArrow=classic;endFill=1;endSize=14;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-279" target="HOcqEMtczb753Gg_NuFn-275" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-278" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.475;exitY=0.94;exitDx=0;exitDy=0;exitPerimeter=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-279" target="HOcqEMtczb753Gg_NuFn-281" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-279" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;deductStock()&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1916.25" y="2216" width="220" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-280" value="&lt;font style=&quot;font-size: 16px&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;抽奖算法领域&lt;/b&gt;&lt;/font&gt;" style="shape=umlFrame;whiteSpace=wrap;html=1;strokeColor=#007FFF;fillColor=none;width=113;height=39;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2549.25" y="2718" width="2361" height="662" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-281" value="&lt;div style=&quot;text-align: left; font-size: 14px;&quot;&gt;&lt;div style=&quot;&quot;&gt;UPDATE strategy_detail SET award_surplus_count = award_surplus_count - 1&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;WHERE strategy_id = #{strategyId} AND award_id = #{awardId} AND award_surplus_count &amp;gt; 0&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2013.75" y="2385.5" width="321" height="89" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-282" value="&lt;div style=&quot;font-size: 14px;&quot;&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;SELECT award_id&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; FROM strategy_detail&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; WHERE strategy_id = #{strategyId} AND&amp;nbsp;award_surplus_count&amp;nbsp;= 0&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#3399FF;strokeColor=#3399FF;fillColor=none;gradientColor=none;align=left;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2012.25" y="1926" width="335" height="102" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-283" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;strokeColor=#FF0000;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-49" target="HOcqEMtczb753Gg_NuFn-167" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1606" y="1039" />
              <mxPoint x="-1594" y="2259" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-284" value="&lt;font&gt;&lt;b style=&quot;&quot;&gt;发送MQ&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FFD966;verticalAlign=top;fontFamily=Comic Sans MS;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3706" y="871" width="584" height="561" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-285" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ActivityPartakeImpl&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fontFamily=Comic Sans MS;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2880" y="1069" width="468" height="155" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-286" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-288" target="HOcqEMtczb753Gg_NuFn-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-287" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fontFamily=Comic Sans MS;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-288" target="HOcqEMtczb753Gg_NuFn-289" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-288" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;recordDrawOrder()&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2754" y="1141.25" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-289" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;recordDrawOrder()流程&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;verticalAlign=top;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2808.5" y="1287" width="323" height="595" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-290" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-291" target="HOcqEMtczb753Gg_NuFn-293" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-291" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1.启动路由策略&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2744" y="1325.5" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-292" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-293" target="HOcqEMtczb753Gg_NuFn-296" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-293" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;2.开始事务&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2740" y="1411" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-294" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-296" target="HOcqEMtczb753Gg_NuFn-299" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-295" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-296" target="HOcqEMtczb753Gg_NuFn-302" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-296" value="&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;3.&lt;/font&gt;锁定活动领取记录&lt;span style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;; background-color: initial;&quot;&gt;，更新为0直接返回&lt;/span&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2740" y="1507" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-297" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-299" target="HOcqEMtczb753Gg_NuFn-301" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-298" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-299" target="HOcqEMtczb753Gg_NuFn-303" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-299" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;4.插入领取活动信息&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2740" y="1618" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-300" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Comic Sans MS;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-301" target="HOcqEMtczb753Gg_NuFn-304" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-301" value="&lt;b&gt;5.事务提交，uId唯一，保证幂等性&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2740" y="1722" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-302" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;UPDATE user_take_activity SET state = 1&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;WHERE u_id = #{uId} AND activity_id = #{activityId} AND state = 0&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3043" y="1479" width="195" height="89" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-303" value="&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;INSERT INTO user_strategy_export&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;(u_id, activity_id, order_id, strategy_id, strategy_mode,&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;grant_type, grant_date, grant_state, award_id, award_type,&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;award_name, award_content, uuid, create_time, update_time)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;VALUES&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;(#{uId},#{activityId},#{orderId},#{strategyId},#{strategyMode},&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;#{grantType},#{grantDate},#{grantState},#{awardId},#{awardType},&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&amp;nbsp;#{awardName},#{awardContent},#{uuid},now(),now())&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2287" y="1536" width="451" height="208" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-304" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;6.清空路由上下文&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2740" y="1832" width="168.75" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-305" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;strokeColor=#FF0000;sketch=1;curveFitting=1;jiggle=2;endFill=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-54" target="HOcqEMtczb753Gg_NuFn-288" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2526" y="1153" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-2240" y="1250" />
              <mxPoint x="-2234" y="1164" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-306" value="" style="edgeStyle=elbowEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-338" target="HOcqEMtczb753Gg_NuFn-309" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-3542.5" y="1563" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-307" value="&lt;b&gt;异步接收MQ消息&lt;/b&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="HOcqEMtczb753Gg_NuFn-306" vertex="1" connectable="0">
          <mxGeometry x="-0.5091" y="2" relative="1" as="geometry">
            <mxPoint x="-191" y="-6" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-308" value="" style="edgeStyle=elbowEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;elbow=vertical;html=1;fillColor=#d5e8d4;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-309" target="HOcqEMtczb753Gg_NuFn-312" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-309" value="&lt;b&gt;触发奖品发货&lt;/b&gt;" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=none;strokeColor=#FFD966;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3735" y="1701.5" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-310" value="" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-312" target="HOcqEMtczb753Gg_NuFn-315" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-311" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;strokeColor=#FF6392;fontColor=#5AA9E6;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;exitX=0.5;exitY=1;exitDx=0;exitDy=0;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-312" target="HOcqEMtczb753Gg_NuFn-343" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-312" value="&lt;b&gt;获取奖品发货工厂服务(根据奖品类型)&lt;/b&gt;" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;sketch=1;fillColor=none;strokeColor=#FFD966;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3561" y="1701.5" width="114.75" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-313" value="" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-315" target="HOcqEMtczb753Gg_NuFn-320" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-314" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF6392;fontColor=#5AA9E6;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-315" target="HOcqEMtczb753Gg_NuFn-367" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-3314" y="1766.4999999999995" as="sourcePoint" />
            <mxPoint x="-3432.5" y="2277" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-3313" y="2267" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-315" value="&lt;b&gt;执行发货&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=none;strokeColor=#FFD966;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3376" y="1696.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-316" value="" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-320" target="HOcqEMtczb753Gg_NuFn-321" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-3096" y="1726.5" />
              <mxPoint x="-3096" y="1831.5" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-317" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="HOcqEMtczb753Gg_NuFn-316" vertex="1" connectable="0">
          <mxGeometry x="0.4222" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-318" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-320" target="HOcqEMtczb753Gg_NuFn-323" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-319" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="HOcqEMtczb753Gg_NuFn-318" vertex="1" connectable="0">
          <mxGeometry x="-0.1467" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-320" value="&lt;b&gt;发货成功&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=none;strokeColor=#FFD966;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3205" y="1686.5" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-321" value="&lt;b&gt;更新库表发货状态&lt;span style=&quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%E6%9B%B4%E6%96%B0%E8%A1%A8%EF%BC%8CMQ%E7%8A%B6%E6%80%81%26lt%3Bbr%26gt%3B%E6%88%90%E5%8A%9F%22%20style%3D%22whiteSpace%3Dwrap%3Bhtml%3D1%3Brounded%3D1%3BstrokeColor%3D%2336393d%3BstrokeWidth%3D2%3BfillColor%3D%23ffcc99%3BarcSize%3D14%3Bsketch%3D1%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22411%22%20y%3D%22755%22%20width%3D%22120%22%20height%3D%2260%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=none;strokeColor=#FFD966;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3046" y="1801.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-322" style="edgeStyle=orthogonalEdgeStyle;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-323" target="HOcqEMtczb753Gg_NuFn-309" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-2906" y="1726.5" />
              <mxPoint x="-2906" y="1681.5" />
              <mxPoint x="-3685" y="1681.5" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-323" value="&lt;b&gt;MQ 消息重试&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;arcSize=14;sketch=1;fillColor=none;strokeColor=#FFD966;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3046" y="1696.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-324" value="&lt;b&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250);&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;的mq_state = 2&lt;/span&gt;&lt;/b&gt;" style="text;whiteSpace=wrap;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3685" y="1033" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-325" value="&lt;b&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250);&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;的mq_state = 1&lt;/span&gt;&lt;/b&gt;" style="text;whiteSpace=wrap;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3360" y="1250" width="152" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-326" value="&lt;b&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250);&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;的grant_state = 1 发奖完成&lt;/span&gt;&lt;/b&gt;" style="text;whiteSpace=wrap;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3046" y="1766.5" width="154.75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-327" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;sketch=1;curveFitting=1;jiggle=2;endFill=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-328" target="HOcqEMtczb753Gg_NuFn-331" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-328" value="&lt;font size=&quot;1&quot; face=&quot;Comic Sans MS&quot;&gt;&lt;b style=&quot;font-size: 12px;&quot;&gt;1. 装换成中单发货单对象，发送消息&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FFD966;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3527.5" y="944" width="275" height="38" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-329" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-331" target="HOcqEMtczb753Gg_NuFn-333" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-330" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-331" target="HOcqEMtczb753Gg_NuFn-338" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-331" value="&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;消息是否发送成功&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#FFD966;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3455" y="1054" width="136" height="105" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-332" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-333" target="HOcqEMtczb753Gg_NuFn-337" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-333" value="&lt;b&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;更新表，MQ状态&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;失败&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeColor=#FFD966;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3692.5" y="1076.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-334" value="&lt;b&gt;否&lt;/b&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3527.5" y="1069" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-335" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#000000;fontColor=#5AA9E6;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;endFill=1;sketch=1;curveFitting=1;jiggle=2;" parent="HOcqEMtczb753Gg_NuFn-1" target="HOcqEMtczb753Gg_NuFn-379" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-4010" y="775" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-336" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.01;exitY=0.596;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=#000000;fontFamily=Helvetica;fontSize=11;fontColor=#5AA9E6;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;exitPerimeter=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-337" target="HOcqEMtczb753Gg_NuFn-378" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-4009" y="1107" />
              <mxPoint x="-4013" y="652" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-337" value="&lt;b&gt;Worker 扫描表发送状态进行补偿发送MQ&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeColor=#7F00FF;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3950" y="1073" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-338" value="&lt;b&gt;更新表，MQ状态&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;成功&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeColor=#FFD966;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3453.5" y="1298" width="133" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-339" value="&lt;b&gt;是&lt;/b&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3447" y="1220" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-340" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=none;strokeColor=#FF6392;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-341" target="HOcqEMtczb753Gg_NuFn-344" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-341" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;DistributionGoodsFactory&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#FF6392;fillColor=none;verticalAlign=top;html=1;fontColor=#5AA9E6;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3754.5" y="2007" width="349" height="92" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-342" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=none;strokeColor=#FF6392;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-343" target="HOcqEMtczb753Gg_NuFn-365" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-343" value="&lt;span style=&quot;font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font&gt;&amp;nbsp;getDistributionGoodsService()&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3717.5" y="2058" width="283" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-344" value="&lt;span style=&quot;font-size: 12px ; font-weight: 700 ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font&gt;GoodsConfig&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#FF6392;fillColor=none;verticalAlign=top;html=1;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontColor=#5AA9E6;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3252.5" y="2009" width="283" height="92" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-345" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=none;strokeColor=#FF6392;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-346" target="HOcqEMtczb753Gg_NuFn-347" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-346" value="&lt;font&gt;init()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3173.5" y="2058" width="126" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-347" value="&lt;font&gt;init()流程&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;verticalAlign=top;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3249" y="2203" width="277" height="152" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-348" value="&lt;font&gt;&lt;b style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;IDistributionGoods&lt;/b&gt;注入map&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3199.75" y="2263" width="184.75" height="56" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-349" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-350" target="HOcqEMtczb753Gg_NuFn-348" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-350" value="CouponGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=29;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF6392;swimlaneLine=1;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3411.5" y="2486" width="175" height="47" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-351" value="&lt;p style=&quot;font-family: &amp;quot;helvetica&amp;quot; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="HOcqEMtczb753Gg_NuFn-350" vertex="1">
          <mxGeometry y="29" width="175" height="18" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-352" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-353" target="HOcqEMtczb753Gg_NuFn-348" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-353" value="DescGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=29;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF6392;swimlaneLine=1;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3199.5" y="2486" width="175" height="47" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-354" value="&lt;p style=&quot;font-family: &amp;quot;helvetica&amp;quot; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="HOcqEMtczb753Gg_NuFn-353" vertex="1">
          <mxGeometry y="29" width="175" height="18" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-355" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.696;entryY=1.023;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.388;exitY=0.028;exitDx=0;exitDy=0;exitPerimeter=0;labelBackgroundColor=none;strokeColor=#FF6392;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-356" target="HOcqEMtczb753Gg_NuFn-348" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-356" value="PhysicalGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=29;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF6392;swimlaneLine=1;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3002.5" y="2486" width="175" height="47" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-357" value="&lt;p style=&quot;font-family: &amp;quot;helvetica&amp;quot; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="HOcqEMtczb753Gg_NuFn-356" vertex="1">
          <mxGeometry y="29" width="175" height="18" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-358" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=1;entryDx=0;entryDy=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-359" target="HOcqEMtczb753Gg_NuFn-348" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-359" value="RedeemCodeGoods" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=29;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF6392;swimlaneLine=1;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2796" y="2486" width="175" height="47" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-360" value="&lt;p style=&quot;font-family: &amp;quot;helvetica&amp;quot; ; margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Comic Sans MS;rounded=0;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="HOcqEMtczb753Gg_NuFn-359" vertex="1">
          <mxGeometry y="29" width="175" height="18" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-361" value="优惠券商品" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3416.5" y="2456" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-362" value="描述类商品" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3210.5" y="2453" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-363" value="实物类商品" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2928.5" y="2453" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-364" value="兑换券商品" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2726" y="2445" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-365" value="&lt;b style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font&gt;IDistributionGoods&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;verticalAlign=top;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3767" y="2219" width="387" height="70" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-366" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-367" target="HOcqEMtczb753Gg_NuFn-368" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-367" value="&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot; ; font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font&gt;&amp;nbsp;doDistribution()&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3717.5" y="2253" width="283" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-368" value="&lt;span style=&quot;font-family: &amp;quot;comic sans ms&amp;quot; ; font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)&quot;&gt;&lt;font&gt;&amp;nbsp;doDistribution()流程&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;verticalAlign=top;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3715.5" y="2338" width="283" height="251" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-369" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-370" target="HOcqEMtczb753Gg_NuFn-372" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-370" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font face=&quot;comic sans ms&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;1.模拟发奖&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3683" y="2376" width="214" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-371" value="" style="edgeStyle=none;curved=1;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-372" target="HOcqEMtczb753Gg_NuFn-373" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-372" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font face=&quot;comic sans ms&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;2.更新用户领奖状态&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3681" y="2458" width="214" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-373" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font face=&quot;comic sans ms&quot;&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;3.封装返回结果&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;sketch=0;hachureGap=4;fontFamily=Comic Sans MS;fontSize=16;fontColor=#5AA9E6;strokeColor=#FF6392;fillColor=none;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3681" y="2547" width="214" height="28" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-374" style="edgeStyle=none;rounded=0;sketch=1;hachureGap=4;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;fontColor=default;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;labelBackgroundColor=none;strokeColor=#FF6392;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-375" target="HOcqEMtczb753Gg_NuFn-372" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-3759.5" y="2663" />
              <mxPoint x="-3759.5" y="2472" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-375" value="AwardRepository" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#FF6392;swimlaneLine=1;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3715.5" y="2627" width="289" height="72" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-376" value="初始化" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;hachureGap=4;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=20;fontColor=#5AA9E6;labelBackgroundColor=none;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3380" y="2014" width="80.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-377" value="&lt;b&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;user_strategy_export&lt;/span&gt;&lt;br style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250);&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;的grant_state = 1&amp;nbsp;&lt;/span&gt;&lt;/b&gt;" style="text;whiteSpace=wrap;html=1;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3556" y="2416" width="154.75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-378" value="扫描1库" style="whiteSpace=wrap;html=1;rounded=0;strokeWidth=2;arcSize=14;fillColor=none;strokeColor=#7F00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3950" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-379" value="扫描2库" style="whiteSpace=wrap;html=1;rounded=0;strokeWidth=2;arcSize=14;fillColor=none;strokeColor=#7F00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3950" y="745" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-380" value="扫描4张表&lt;br&gt;读取未发送MQ数据" style="whiteSpace=wrap;html=1;rounded=0;strokeColor=#7F00FF;strokeWidth=2;fillColor=none;arcSize=14;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3750" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-381" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-378" target="HOcqEMtczb753Gg_NuFn-380" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-382" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-379" target="HOcqEMtczb753Gg_NuFn-380" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-383" value="发送MQ消息" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=none;strokeColor=#7F00FF;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3581" y="645" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-384" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-380" target="HOcqEMtczb753Gg_NuFn-383" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-385" value="发送成功" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#7F00FF;strokeWidth=2;fillColor=none;arcSize=14;sketch=1;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3422" y="630" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-386" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-383" target="HOcqEMtczb753Gg_NuFn-385" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-387" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=#000000;fontFamily=Helvetica;fontSize=11;fontColor=#5AA9E6;endArrow=none;endFill=0;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-388" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-3394" y="1529" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-3202" y="1529" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-388" value="更新表，MQ状态&lt;br&gt;成功" style="whiteSpace=wrap;html=1;strokeColor=#7F00FF;strokeWidth=2;fillColor=none;arcSize=14;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3251" y="755" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-389" value="更新表，MQ状态&lt;br&gt;失败" style="whiteSpace=wrap;html=1;strokeColor=#7F00FF;strokeWidth=2;fillColor=none;arcSize=14;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3251" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-390" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-385" target="HOcqEMtczb753Gg_NuFn-389" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-391" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="HOcqEMtczb753Gg_NuFn-390" vertex="1" connectable="0">
          <mxGeometry x="-0.011" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-392" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-385" target="HOcqEMtczb753Gg_NuFn-388" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-3341.5" y="785" />
            </Array>
            <mxPoint x="-3621" y="795" as="sourcePoint" />
            <mxPoint x="-3530" y="910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HOcqEMtczb753Gg_NuFn-393" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rounded=1;" parent="HOcqEMtczb753Gg_NuFn-392" vertex="1" connectable="0">
          <mxGeometry x="-0.0333" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AidTqo3kumimTJJXFDf7-0" value="&lt;div style=&quot;text-align: center&quot;&gt;update&amp;nbsp; activity (activityId,stock_surplus_count &amp;gt;stockSurplusCount)set stock_surplus_count =stockSurplusCount&amp;nbsp;&lt;br&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;labelBorderColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2522.25" y="763" width="300" height="56" as="geometry" />
        </mxCell>
        <mxCell id="AidTqo3kumimTJJXFDf7-4" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=#FF0000;fontFamily=Helvetica;fontSize=11;fontColor=#5AA9E6;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;exitX=0;exitY=0.5;exitDx=0;exitDy=0;dashed=1;" parent="HOcqEMtczb753Gg_NuFn-1" source="HOcqEMtczb753Gg_NuFn-47" target="AidTqo3kumimTJJXFDf7-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2192.5" y="888" as="sourcePoint" />
            <mxPoint x="-2402" y="815" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RAWA08hajRIz-hDFzVVW-3" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=#000000;fontFamily=Helvetica;fontSize=11;fontColor=#5AA9E6;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;" parent="HOcqEMtczb753Gg_NuFn-1" source="AidTqo3kumimTJJXFDf7-3" target="AidTqo3kumimTJJXFDf7-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AidTqo3kumimTJJXFDf7-3" value="&lt;b&gt;异步更新活动库存&lt;/b&gt;" style="whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;rounded=0;fillColor=none;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2422.75" y="910.25" width="101" height="50" as="geometry" />
        </mxCell>
        <mxCell id="AidTqo3kumimTJJXFDf7-7" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b style=&quot;&quot;&gt;5.封装返回&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#00FF00;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-2082" y="1432" width="206" height="44.5" as="geometry" />
        </mxCell>
        <mxCell id="AidTqo3kumimTJJXFDf7-10" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;7.封装结果【策略id】&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-1014.37" y="1763.5" width="160" height="38" as="geometry" />
        </mxCell>
        <mxCell id="UJDuXmd2sH9eCnYNbiot-0" value="&lt;font&gt;&lt;font color=&quot;#ff00ff&quot; style=&quot;&quot;&gt;subtractionActivityStockByRedis()流程&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;verticalAlign=top;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-3" y="879" width="399" height="604" as="geometry" />
        </mxCell>
        <mxCell id="UJDuXmd2sH9eCnYNbiot-4" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=#000000;fontFamily=Helvetica;fontSize=11;fontColor=#5AA9E6;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;" parent="HOcqEMtczb753Gg_NuFn-1" source="UJDuXmd2sH9eCnYNbiot-2" target="UJDuXmd2sH9eCnYNbiot-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UJDuXmd2sH9eCnYNbiot-2" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;1.获取抽奖活动库存 Key(lottery_activity_stock_count_acticityId&lt;span style=&quot;background-color: initial;&quot;&gt;)&lt;/span&gt;&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="46.75" y="926" width="269" height="38" as="geometry" />
        </mxCell>
        <mxCell id="UJDuXmd2sH9eCnYNbiot-6" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=#000000;fontFamily=Helvetica;fontSize=11;fontColor=#5AA9E6;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;" parent="HOcqEMtczb753Gg_NuFn-1" source="UJDuXmd2sH9eCnYNbiot-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="179.84340659340614" y="1099.0000000000002" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UJDuXmd2sH9eCnYNbiot-3" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;2. 扣减库存，目前占用库存数+1&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="81" y="1016" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="UJDuXmd2sH9eCnYNbiot-8" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=#000000;fontFamily=Helvetica;fontSize=11;fontColor=#5AA9E6;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;" parent="HOcqEMtczb753Gg_NuFn-1" target="UJDuXmd2sH9eCnYNbiot-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="179.8369565217381" y="1153.0000000000002" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UJDuXmd2sH9eCnYNbiot-10" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=#000000;fontFamily=Helvetica;fontSize=11;fontColor=#5AA9E6;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;" parent="HOcqEMtczb753Gg_NuFn-1" source="UJDuXmd2sH9eCnYNbiot-7" target="UJDuXmd2sH9eCnYNbiot-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UJDuXmd2sH9eCnYNbiot-7" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;4. 以活动库存占用编号，生成对应加锁Key，细化锁的颗粒度&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="81" y="1199" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="RAWA08hajRIz-hDFzVVW-2" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=#000000;fontFamily=Helvetica;fontSize=11;fontColor=#5AA9E6;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;" parent="HOcqEMtczb753Gg_NuFn-1" source="UJDuXmd2sH9eCnYNbiot-9" target="RAWA08hajRIz-hDFzVVW-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UJDuXmd2sH9eCnYNbiot-9" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;&amp;nbsp;5. 使用 Redis.setNx 加一个分布式锁&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="81" y="1319" width="200.5" height="38" as="geometry" />
        </mxCell>
        <mxCell id="jPdy0_c0Eszo-jYooFzT-0" value="&lt;b&gt;&lt;font color=&quot;#000000&quot;&gt;lottery_activity_stock_count_token_ + activityId + &quot;_&quot; + stockUsedCount;&lt;/font&gt;&lt;/b&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=#5AA9E6;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="-12.25" y="1242.5" width="383" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jPdy0_c0Eszo-jYooFzT-1" value="&lt;font color=&quot;#000000&quot;&gt;&lt;b&gt;否&lt;/b&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=#5AA9E6;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="115" y="1151" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jPdy0_c0Eszo-jYooFzT-5" value="" style="edgeStyle=none;shape=connector;rounded=0;sketch=1;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=#000000;fontFamily=Helvetica;fontSize=11;fontColor=#5AA9E6;endArrow=classic;endFill=1;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;fillColor=#FFE45E;" parent="HOcqEMtczb753Gg_NuFn-1" source="jPdy0_c0Eszo-jYooFzT-2" target="jPdy0_c0Eszo-jYooFzT-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jPdy0_c0Eszo-jYooFzT-2" value="&lt;b style=&quot;border-color: var(--border-color); font-family: &amp;quot;Comic Sans MS&amp;quot;;&quot;&gt;3.是否超库&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeColor=#FF00FF;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="139.25" y="1096.75" width="80" height="57.5" as="geometry" />
        </mxCell>
        <mxCell id="jPdy0_c0Eszo-jYooFzT-4" value="&lt;b&gt;恢复库存&lt;/b&gt;" style="whiteSpace=wrap;html=1;strokeColor=#FF00FF;rounded=0;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="281.5" y="1113" width="85" height="34" as="geometry" />
        </mxCell>
        <mxCell id="RAWA08hajRIz-hDFzVVW-0" value="&lt;font color=&quot;#000000&quot;&gt;&lt;b&gt;是&lt;/b&gt;&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=#5AA9E6;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="221.5" y="1090" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RAWA08hajRIz-hDFzVVW-1" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;b&gt;6.加锁成功返回成功，失败返回失败&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF00FF;" parent="HOcqEMtczb753Gg_NuFn-1" vertex="1">
          <mxGeometry x="81" y="1417.5" width="200.5" height="38" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
